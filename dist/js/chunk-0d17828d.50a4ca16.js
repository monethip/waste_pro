(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d17828d"],{"1eb4":function(t,e,a){"use strict";a("f3a1")},"22aa":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return c}));var n=function(t){switch(t){case"created":case"ລໍຖ້າອະນຸມັດ":return"#73b8fd";case"approved":case"ອະນຸມັດແລ້ວ":return"#0080fc";case"canceled":case"ບິນຖືກຍົກເລີກ":return"#eb004c";case"rejected":case"ການຈ່າຍຖືກປະຕິເສດ":return"#740127";case"to_confirm_payment":case"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ":return"#9c540d";case"success":case"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ":return"#02a38a"}},r=function(t){switch(t){case"created":return"ລໍຖ້າອະນຸມັດ";case"approved":return"ອະນຸມັດແລ້ວ";case"canceled":return"ບິນຖືກຍົກເລີກ";case"rejected":return"ການຈ່າຍຖືກປະຕິເສດ";case"to_confirm_payment":return"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ";case"success":return"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ";case"cash":return"ຊຳລະເງິນສົດ";case"bcel":return"BCEL"}},c=function(t){switch(t){case"CustomBill":return"ບິນອື່ນໆ";case"NewCollectionEvent":return"ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ";case"FutureInvoice":return"ບິນບໍລິການລ່ວງໜ້າ";case"NewInvoice":return"ບິນບໍລິການປະຈຳເດືອນ";default:return t}}},"4fad":function(t,e,a){var n=a("23e7"),r=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return r(t)}})},"54da":function(t,e,a){"use strict";var n=a("b85c");a("b64b");e["a"]=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},r=Object(n["a"])(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;1==Object.keys(c).length&&c[Object.keys(c)]&&(a[Object.keys(c)]=c[Object.keys(c)])}}catch(s){r.e(s)}finally{r.f()}return a}},"6eceb":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("ac1f"),a("841c");var n=function(t){""!==t.search?""!==t.oldVal?t.oldVal!==t.search&&(t.oldVal=t.search,t.pagination.current_page=1,t.fetchData()):(""!==t.search&&(t.pagination.current_page=1,t.fetchData()),t.oldVal=t.search):t.oldVal=""}},f3a1:function(t,e,a){},fc44:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mb-n6"},[a("v-col",[a("p",[t._v("ຈັດການຂໍ້ມູນບິນລ່ວງໜ້າ")])]),a("v-col",[a("v-select",{attrs:{outlined:"",dense:"",items:t.paymentStatus,"item-text":t.filterStatusLao,"item-value":"name",label:"ສະຖານະບິນ",clearable:""},model:{value:t.selectedPaymentStatus,callback:function(e){t.selectedPaymentStatus=e},expression:"selectedPaymentStatus"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify",label:"ຊື່",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{staticClass:"align-end "},[a("v-btn",{staticClass:"btn-primary elevation-0",on:{click:function(e){return t.choseCustomer()}}},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-plus")]),t._v(" ສ້າງບິນ ")],1)],1)],1),a("div",[a("v-card",[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.invoices,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.start_month",fn:function(e){var n=e.item;return[a("div",{staticClass:"success--text"},[t._v(" "+t._s(n.start_month)+" ")])]}},{key:"item.end_month",fn:function(e){var n=e.item;return[a("div",{staticClass:"error--text"},[t._v(" "+t._s(n.start_month)+" ")])]}},{key:"item.total",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.total))+" ")]}},{key:"item.sub_total",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.sub_total))+" ")]}},{key:"item.discount",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.discount))+" ")]}},{key:"item.status",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{color:t.getBgColorFunc(n.billing.status),dark:""}},[t._v(t._s(t.getLaoStatusFunc(n.billing.status)))])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"success",small:""},on:{click:function(e){return t.ViewInvoice(n.billing.id)}}},[t._v(" mdi-eye ")])]}}])}),a("br"),[t.pagination.total_pages>1?a("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},r=[],c=a("3835"),s=(a("b0c0"),a("ac1f"),a("841c"),a("4fad"),a("6eceb")),i=a("54da"),o=a("22aa"),u={name:"Invoice",title:function(){return"Vientiane Waste Co-Dev|Invoice"},data:function(){return{tab:null,invoices:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",date:(new Date).toISOString().substr(0,7),start_menu:!1,server_errors:{},selectedPaymentStatus:"",paymentStatus:[{id:1,name:"created"},{id:2,name:"approved"},{id:3,name:"to_confirm_payment"},{id:4,name:"rejected"},{id:5,name:"success"}],headers:[{text:"ເລກບິນ",value:"billing.content"},{text:"ຊື່ລູກຄ້າ",value:"billing.user.name",sortable:!1},{text:"ວັນທີ",value:"start_month"},{text:"ຫາວັນທີ",value:"end_month"},{text:"ສ່ວນຫຼຸດ",value:"discount",align:"center",sortable:!1},{text:"ຄ່າບໍລິການ",value:"sub_total",align:"center",sortable:!1},{text:"ລວມທັງໝົດ",value:"total",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{getLaoStatusFunc:function(t){return Object(o["c"])(t)},getBgColorFunc:function(t){return Object(o["a"])(t)},filterStatusLao:function(t){return Object(o["c"])(t.name)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("future-invoice",{params:Object(i["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search},{billing_status:this.selectedPaymentStatus}])}).then((function(e){200==e.data.code&&(t.$store.commit("Loading_State",!1),t.invoices=e.data.data.data,t.pagination=e.data.data.pagination)})).catch((function(e){if(t.$store.commit("Loading_State",!1),422==e.response.status)for(var a=e.response.data.errors,n=0,r=Object.entries(a);n<r.length;n++){var s=Object(c["a"])(r[n],2),i=s[0],o=s[1];t.server_errors[i]=o[0]}}))},Search:function(){Object(s["a"])(this)},choseCustomer:function(){this.$router.push({name:"chose-customer",query:{redirect:"create-future-customer"}})},ViewInvoice:function(t){var e=this.$router.resolve({name:"billing-detail",params:{id:t}});window.open(e.href,"_blank")}},watch:{search:function(t){""==t&&this.fetchData()},selectedPaymentStatus:function(){this.pagination.current_page="",this.fetchData()}},created:function(){this.fetchData()}},l=u,d=(a("1eb4"),a("2877")),f=a("6544"),m=a.n(f),v=a("8336"),b=a("b0af"),h=a("99d9"),p=a("cc20"),g=a("62ad"),_=a("a523"),y=a("8fea"),k=a("132d"),x=a("0fd9"),C=a("b974"),S=a("8654"),V=Object(d["a"])(l,n,r,!1,null,null,null);e["default"]=V.exports;m()(V,{VBtn:v["a"],VCard:b["a"],VCardText:h["b"],VChip:p["a"],VCol:g["a"],VContainer:_["a"],VDataTable:y["a"],VIcon:k["a"],VRow:x["a"],VSelect:C["a"],VTextField:S["a"]})}}]);
//# sourceMappingURL=chunk-0d17828d.50a4ca16.js.map