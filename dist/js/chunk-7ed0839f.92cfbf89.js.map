{"version":3,"sources":["webpack:///./src/Helpers/BillingStatus.js","webpack:///./src/Helpers/queryOption.js","webpack:///./src/Helpers/GetValue.js","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue?2f14","webpack:///./src/Helpers/Customer.js","webpack:///./src/components/card/MoneyCard.vue","webpack:///src/components/card/MoneyCard.vue","webpack:///./src/components/card/MoneyCard.vue?77db","webpack:///./src/components/card/MoneyCard.vue?8147","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue","webpack:///./src/views/report/TabCollectionTab/invoiceEvent.js","webpack:///src/views/report/TabCollectionTab/homeInvoice.vue","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue?c637","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue?b574"],"names":["getBgColor","status","getLaoStatus","getLaoBillingType","type","getLaoCollectStatus","payment_methods","value","text","normal","red","units","array","option","key","Object","prototype","hasOwnProperty","call","undefined","item","keys","length","GetOldValueOnInput","context","search","oldVal","pagination","current_page","fetchData","getLaoCompanyCostBy","costBy","getCompanyCostBy","en","la","getLaoCustomerType","getCustomerUnit","getEventStatus","color","billDateList","concatPackage","packageArr","connateArr","packageItem","push","id","name","Intl","NumberFormat","format","price","getCustomerCanCollect","attrs","on","staticClass","staticStyle","_vm","_c","_v","_s","title","billing_count","staticRenderFns","props","data","created","beforeUpdate","$store","commit","updated","methods","getColor","openNewTab","route","window","open","href","component","exportData","duration","callback","expression","selectedDuration","year_from","model","month_from","selectedCollectionStatus","selectedPaymentStatus","index","sum","getBgColorFunc","scopedSlots","fn","findEventStatus","billingable","tab","customers","loading","customerId","year_to","month_to","offset","per_page","invoices","summary","invoiceType","collectionStatus","dis_play","paymentStatus","FormData","append","this","moment","map","queryArray","page","$axios","get","params","queryOptions","then","res","code","setTimeout","catch","error","msg","response","message","post","download_link","editPage","$router","viewPage","Search","watch","query","$route","mixins","invoice","components","MoneyCard","headers","sortable","statusColor","paymentStatusText","find"],"mappings":"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","file":"js/chunk-7ed0839f.92cfbf89.js","sourcesContent":["export const getBgColor = function (status) {\n  switch (status) {\n    case 'created':\n    case 'ລໍຖ້າອະນຸມັດ':\n      return '#73b8fd';\n    case 'approved':\n    case 'ອະນຸມັດແລ້ວ':\n      return '#0080fc';\n    case 'canceled':\n    case 'ບິນຖືກຍົກເລີກ':\n      return '#eb004c';\n    case 'rejected':\n    case 'ການຈ່າຍຖືກປະຕິເສດ':\n      return '#740127';\n    case 'to_confirm_payment':\n    case 'ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ':\n      return '#9c540d';\n    case 'success':\n    case 'ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ':\n      return '#02a38a';\n  }\n};\n\nexport const getLaoStatus = function (status) {\n  switch (status) {\n    case 'created':\n      return 'ລໍຖ້າອະນຸມັດ';\n    case 'approved':\n      return 'ອະນຸມັດແລ້ວ';\n    case 'canceled':\n      return 'ບິນຖືກຍົກເລີກ';\n    case 'rejected':\n      return 'ການຈ່າຍຖືກປະຕິເສດ';\n    case 'to_confirm_payment':\n      return 'ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ';\n    case 'success':\n      return 'ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ';\n    case 'cash':\n      return 'ຊຳລະເງິນສົດ';\n    case 'bcel':\n      return 'BCEL';\n    default:\n      return status;\n  }\n};\n\nexport const getLaoBillingType = function (type) {\n  switch (type) {\n    case 'CustomBill':\n      return 'ບິນຍ້ອນຫຼັງ';\n    case 'NewCollectionEvent':\n      return 'ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ';\n    case 'FutureInvoice':\n      return 'ບິນບໍລິການລ່ວງໜ້າ';\n    case 'NewInvoice':\n      return 'ບິນບໍລິການປະຈຳເດືອນ';\n    default:\n      return type;\n  }\n};\n\nexport const getLaoCollectStatus = function (status) {\n  switch (status) {\n    case 'requested':\n      return 'ຮ້ອງຂໍເກັບຂີ້ເຫື້ຍອ';\n    case 'rejected':\n      return 'ປະຕິເສດເກັບຂີ້ເຫື້ຍອ';\n    case 'approved':\n      return 'ອະນຸມັດເກັບຂີ້ເຫື້ຍອ';\n    case 'collected':\n      return 'ເກັບຂີເຫື້ຍອສຳເລັດ';\n    case 'collect_confirm':\n      return 'ລູກຄ້າຢືນຢັນການເກັບ';\n    case 'collect_reject':\n      return 'ການເກັບຖືກປະຕິເສດ';\n    default:\n      return status;\n  }\n};\n\nexport const payment_methods = [\n  {\n    value: 'cash',\n    text: 'ເງິນສົດ',\n  },\n  {\n    value: 'bcel',\n    text: 'ເງິນໂອນ',\n  },\n  {\n    value: 'bcel_online',\n    text: 'bcel bill payments',\n  },\n];\n\nexport const normal = ['created', 'approved', 'to_confirm_payment', 'success'];\nexport const red = ['rejected', 'canceled'];\n\nexport const units = ['kg', 'ຖົງ', 'container', 'ຄັ້ງ'];\n","export default function (array) {\n  const option = {};\n  if (!array[0]) {\n    for (const key in array) {\n      if (Object.prototype.hasOwnProperty.call(array, key)) {\n        if (array[key] === undefined || array[key] === null || array[key] === '') {\n          delete array[key];\n        }\n      }\n    }\n    return array;\n  }\n  for (const item of array) {\n    if (Object.keys(item).length == 1 && item[Object.keys(item)]) {\n      option[Object.keys(item)] = item[Object.keys(item)];\n    }\n  }\n  return option;\n}\n","export const GetOldValueOnInput = (context) => {\n  if (context.search !== '') {\n    if (context.oldVal !== '') {\n      if (context.oldVal !== context.search) {\n        context.oldVal = context.search;\n        context.pagination.current_page = 1;\n        context.fetchData();\n      }\n    } else {\n      if (context.search !== '') {\n        context.pagination.current_page = 1;\n        context.fetchData();\n      }\n      context.oldVal = context.search;\n    }\n  } else {\n    context.oldVal = '';\n  }\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./homeInvoice.vue?vue&type=style&index=0&id=56ae066e&prod&lang=scss&\"","export const getLaoCompanyCostBy = function (costBy) {\n  switch (costBy) {\n    case 'container':\n      return 'ຄອນເທນເນີ';\n    case 'fix_cost':\n      return 'ເປັນຖ້ຽວ';\n    case 'chartered':\n      return 'ມອບເໝົາ';\n    case 'bag':\n      return 'ບໍລິມາດ';\n    case 'infect':\n      return 'ຂີ້ເຫຍື້ອຕິດເຊື້ອ';\n    case '32km':\n      return 'ຫຼັກ32';\n    default: return costBy;\n  }\n};\n\nexport const getCompanyCostBy = [\n  {\n    en: 'container',\n    la: 'ຄອນເທນເນີ',\n  },\n  {\n    en: 'fix_cost',\n    la: 'ເປັນຖ້ຽວ',\n  },\n  {\n    en: 'chartered',\n    la: 'ມອບເໝົາ',\n  },\n  {\n    en: 'bag',\n    la: 'ບໍລິມາດ',\n  },\n  {\n    en: 'infect',\n    la: 'ຂີ້ເຫຍື້ອຕິດເຊື້ອ',\n  },\n  {\n    en: '32km',\n    la: 'ຫຼັກ32',\n  },\n];\n\nexport const getPaymentMethod = [\n  {\n    en: 'bcel',\n    la: 'ແນບຮູບບິນ',\n  },\n  {\n    en: 'cash',\n    la: 'ເງິນສົດ',\n  },\n  {\n    en: 'bcel_online',\n    la: 'Bcel Bill Payment',\n  },\n];\n\nexport const getLaoCustomerType = function (type) {\n  switch (type) {\n    case 'company':\n      return 'ຫົວໜ່ວຍທຸລະກິດ';\n    case 'home':\n      return 'ຄົວເຮືອນ';\n    default: return type;\n  }\n};\nexport const getLaoInvoiceTypes = function (type) {\n  switch (type) {\n    case 'FutureInvoice':\n      return 'ຫົວໜ່ວຍທຸລະກິດ';\n    case 'NewInvoice':\n      return 'ຄົວເຮືອນ';\n    case 'NewCollectionEvent':\n      return 'ຄົວເຮືອນ';\n    case 'CustomBill':\n      return 'ຄົວເຮືອນ';\n    default: return type;\n  }\n};\n\nexport const getCustomerUnit = function (costBy) {\n  switch (costBy) {\n    case 'bag':\n    case 'chartered':\n    case '32km':\n    case 'infect':\n      return 'ຖົງ';\n    case 'container':\n      return 'ຄອນເທນເນີ';\n    case 'fix_cost':\n      return 'ຖ້ຽວ';\n    default: return costBy;\n  }\n};\n\nexport const getEventStatus = [\n  {\n    en: 'requested',\n    la: 'ລູກຄ້າຮ້ອງຂໍເຂົ້າມາ',\n    color: '#34495e',\n  },\n  {\n    en: 'rejected',\n    la: 'ປະຕິເສດລູກຄ້າແລ້ວ',\n    color: '#eff3f5',\n  },\n  {\n    en: 'approved',\n    la: 'ອະນຸມັດແລ້ວ ລໍຖ້າລົງເກັບ',\n    color: '#54a0ff',\n  },\n  {\n    en: 'collected',\n    la: 'ເກັບແລ້ວ ລໍຖ້າຢືນຢັນ',\n    color: '#c1c40f',\n  },\n  {\n    en: 'collect_confirm',\n    la: 'ລູກຄ້າຢືນຢັນການເກັບແລ້ວ',\n    color: '#30cb83',\n  },\n  {\n    en: 'collect_reject',\n    la: 'ລູກຄ້າປະຕິເສດການເກັບ',\n    color: '#e74c3c',\n  },\n];\n\nexport const billDateList = [\n  {\n    text: 'ວັນທີຈ່າຍບິນ',\n    value: 'paided_at',\n  },\n  {\n    text: 'ວັນທີສ້າງບິນ',\n    value: 'created_at',\n  },\n  {\n    text: 'ວັນທີອະນຸມັດບິນ',\n    value: 'approved_at',\n  },\n\n  {\n    text: 'ວັນທີກວດສອບບິນສຳເລັດ',\n    value: 'confirmed_payment_at',\n  },\n];\n\nexport const concatPackage = (packageArr = []) => {\n  const connateArr = [];\n\n  for (const packageItem of packageArr) {\n    connateArr.push({\n      id: packageItem.id,\n      name: `${packageItem.name} (${Intl.NumberFormat().format(packageItem.price)} ກີບ)`,\n    });\n  }\n\n  return connateArr;\n};\n\nexport const getCustomerCanCollect = [\n  {\n    value: '',\n    text: 'ທັງໝົດ',\n  },\n  {\n    value: 'can',\n    text: 'ເກັບໄດ້',\n  },\n  {\n    value: 'not',\n    text: 'ເກັບບໍ່ໄດ້',\n  },\n];\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticStyle:{\"height\":\"100px\"},attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.openNewTab(_vm.route)}}},[_c('v-card-title',{staticClass:\"d-flex justify-between w-full text-wrap\",staticStyle:{\"position\":\"relative\"}},[(_vm.icon)?_c('v-chip',{staticClass:\"text-caption text-wrap\",attrs:{\"color\":_vm.icon_color,\"dark\":\"\"}},[_c('v-icon',{attrs:{\"x-small\":true}},[_vm._v(\" \"+_vm._s(_vm.icon)+\" \")]),_c('div',{staticClass:\"ml-1\",attrs:{\"color\":_vm.icon_color}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])],1):_c('v-chip',{staticClass:\"text-caption text-wrap\",attrs:{\"color\":_vm.bg_color,\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),(\n        _vm.billing_count != null &&\n          _vm.billing_count != '' &&\n          _vm.billing_count != undefined\n      )?_c('v-chip',{staticClass:\"text-caption text-wrap\",staticStyle:{\"position\":\"absolute\",\"right\":\"10px\"},attrs:{\"color\":_vm.bg_color,\"outlined\":\"\"}},[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(_vm.billing_count))+\" \"+_vm._s(_vm.unit_count ? _vm.unit_count : \"ບິນ\")+\" \")]):_vm._e()],1),(_vm.total)?_c('v-card-text',[_c('div',{staticClass:\"text-h5 text-wrap\"},[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(_vm.total))+\" K \")])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card\n    outlined\n    style=\"height:100px\"\n    @click=\"openNewTab(route)\"\n  >\n    <v-card-title\n      class=\"d-flex justify-between w-full text-wrap\"\n      style=\"position: relative\"\n    >\n      <v-chip\n        v-if=\"icon\"\n        class=\"text-caption text-wrap\"\n        :color=\"icon_color\"\n        dark\n      >\n        <v-icon :x-small=\"true\">\n          {{ icon }}\n        </v-icon>\n        <div\n          :color=\"icon_color\"\n          class=\"ml-1\"\n        >\n          {{ title }}\n        </div>\n      </v-chip>\n      <v-chip\n        v-else\n        class=\"text-caption text-wrap\"\n        :color=\"bg_color\"\n        dark\n      >\n        {{ title }}\n      </v-chip>\n      <v-chip\n        v-if=\"\n          billing_count != null &&\n            billing_count != '' &&\n            billing_count != undefined\n        \"\n        style=\"position: absolute;right: 10px; !important\"\n        :color=\"bg_color\"\n        outlined\n        class=\"text-caption text-wrap\"\n      >\n        {{ Intl.NumberFormat().format(billing_count) }} {{ unit_count ? unit_count : \"ບິນ\" }}\n      </v-chip>\n    </v-card-title>\n    <v-card-text v-if=\"total\">\n      <div class=\"text-h5 text-wrap\">\n        {{ Intl.NumberFormat().format(total) }} K\n      </div>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: [\n    'title',\n    'billing_count',\n    'total',\n    'bg_color',\n    'route',\n    'icon',\n    'icon_color',\n    'unit_count',\n  ],\n  data() {\n    return {};\n  },\n  created() {\n  },\n  beforeUpdate() {\n    this.$store.commit('Loading_State', true);\n  },\n  updated() {\n    this.$store.commit('Loading_State', false);\n  },\n  methods: {\n    getColor(value) {\n      return `background-color: ${value}`;\n    },\n    openNewTab(route) {\n      if (route) window.open(route.href, '_blank');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoneyCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoneyCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoneyCard.vue?vue&type=template&id=53c4964a&\"\nimport script from \"./MoneyCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MoneyCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-breadcrumbs',{staticClass:\"pt-0\",attrs:{\"large\":\"\"}},[_vm._v(\" ລາຍງານຂໍ້ມູນບິນເກັບຂີ້ເຫື້ຍອພິເສດ \")]),_c('v-row',{staticClass:\"mb-n6\"},[_c('v-col',[_c('v-btn',{staticClass:\"btn-primary\",on:{\"click\":function($event){return _vm.exportData()}}},[_vm._v(\" Export \")])],1),_c('v-col',[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.duration,\"item-text\":\"name\",\"item-value\":\"duration\",\"label\":\"ຊ່ວງເວລາ\"},model:{value:(_vm.selectedDuration),callback:function ($$v) {_vm.selectedDuration=$$v},expression:\"selectedDuration\"}})],1),(_vm.selectedDuration == 'year')?_c('v-col',[_c('section',[_c('date-picker',{staticStyle:{\"height\":\"40px\"},attrs:{\"type\":\"year\",\"placeholder\":\"ເລີ່ມປີ\"},model:{value:(_vm.year_from),callback:function ($$v) {_vm.year_from=$$v},expression:\"year_from\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'year')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"ຫາປີ\"},model:{value:(_vm.year_to),callback:function ($$v) {_vm.year_to=$$v},expression:\"year_to\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'month')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"ເລີ່ມເດືອນ\"},model:{value:(_vm.month_from),callback:function ($$v) {_vm.month_from=$$v},expression:\"month_from\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'month')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"ຫາເດືອນ\"},model:{value:(_vm.month_to),callback:function ($$v) {_vm.month_to=$$v},expression:\"month_to\"}})],1)]):_vm._e()],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"\"}},[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.collectionStatus,\"item-text\":\"dis_play\",\"item-value\":\"name\",\"label\":\"ສະຖານະບໍລິການ\",\"multiple\":\"\",\"clearable\":\"\"},model:{value:(_vm.selectedCollectionStatus),callback:function ($$v) {_vm.selectedCollectionStatus=$$v},expression:\"selectedCollectionStatus\"}})],1),_c('v-col',{attrs:{\"col\":\"\"}},[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.paymentStatus,\"item-text\":\"dis_play\",\"item-value\":\"name\",\"label\":\"ສະຖານະການຊຳລະ\",\"multiple\":\"\",\"clearable\":\"\"},model:{value:(_vm.selectedPaymentStatus),callback:function ($$v) {_vm.selectedPaymentStatus=$$v},expression:\"selectedPaymentStatus\"}})],1)],1),_c('div',[_c('v-row',_vm._l((_vm.summary),function(sum,index){return _c('v-col',{key:index},[_c('MoneyCard',{attrs:{\"title\":sum.status_la,\"total\":sum.total,\"bg_color\":_vm.getBgColorFunc(sum.status)}})],1)}),1),_c('v-card',[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.invoices,\"search\":_vm.search,\"disable-pagination\":true,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.sub_total\",fn:function({ item }){return [_c('div',[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(item.sub_total))+\" \")])]}},{key:\"item.total\",fn:function({ item }){return [_c('div',[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(item.total))+\" \")])]}},{key:\"item.status_la\",fn:function({ item }){return [_c('v-chip',{attrs:{\"label\":\"\",\"color\":_vm.statusColor(item.status)}},[_vm._v(\" \"+_vm._s(item.status_la)+\" \")])]}},{key:\"item.billingable.collect_status_la\",fn:function({ item }){return [_c('v-chip',{attrs:{\"label\":\"\",\"dark\":\"\",\"color\":_vm.findEventStatus(item.billingable.collect_status) ? _vm.findEventStatus(item.billingable.collect_status).color : ''}},[_vm._v(\" \"+_vm._s(item.billingable.collect_status_la)+\" \")])]}},{key:\"item.created_at\",fn:function({ item }){return [_c('div',[_c('span',[_vm._v(_vm._s(_vm.moment(item.created_at).format(\"DD-MM-YY\")))])])]}}])})],1)],1),_c('br'),[(_vm.pagination.total_pages > 1)?_c('Pagination',{attrs:{\"pagination\":_vm.pagination,\"offset\":_vm.offset},on:{\"paginate\":function($event){return _vm.fetchData()}}}):_vm._e()]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { GetOldValueOnInput } from '@/Helpers/GetValue';\nimport moment from 'moment';\nimport queryOptions from '@/Helpers/queryOption';\n\nexport default {\n  title() {\n    return `Vientiane Waste Co-Dev|Report Invoice`;\n  },\n  data() {\n    return {\n      tab: 'tab-1',\n      customers: [],\n      loading: false,\n      customerId: '',\n      // Year\n      year_from: '',\n      year_to: '',\n      // Month\n      month_from: '',\n      month_to: '',\n      // Pagination\n      offset: 12,\n      pagination: {},\n      per_page: 15,\n      search: '',\n      oldVal: '',\n      invoices: [],\n      summary: {},\n      // companyInvoices: [],\n      // companySummary: {},\n      selectedDuration: 'year',\n      duration: [\n        {\n          name: 'ປີ',\n          duration: 'year',\n        },\n        {\n          name: 'ເດືອນ',\n          duration: 'month',\n        },\n      ],\n      invoiceType: 'home',\n\n      selectedCollectionStatus: [],\n      collectionStatus: [\n        {\n          id: 1,\n          name: 'requested',\n          dis_play: 'ຮ້ອງຂໍເກັບຂີ້ເຫື້ຍອ',\n        },\n        {\n          id: 2,\n          name: 'rejected',\n          dis_play: 'ປະຕິເສດເກັບຂີ້ເຫື້ຍອ',\n        },\n        {\n          id: 3,\n          name: 'approved',\n          dis_play: 'ອະນຸມັດເກັບຂີ້ເຫື້ຍອ',\n\n        },\n        {\n          id: 4,\n          name: 'collected',\n          dis_play: 'ເກັບຂີເຫື້ຍອສຳເລັດ',\n        },\n        {\n          id: 5,\n          name: 'collect_confirm',\n          dis_play: 'ລູກຄ້າຢືນຢັນການເກັບ',\n        },\n        {\n          id: 5,\n          name: 'collect_reject',\n          dis_play: 'ການເກັບຖືກປະຕິເສດ',\n        },\n      ],\n      selectedPaymentStatus: [],\n      paymentStatus: [\n        {\n          id: 1,\n          name: 'pending',\n          dis_play: 'ລໍຖ້າເກັບເງິນ',\n        },\n        {\n          id: 2,\n          name: 'to_confirm_payment',\n          dis_play: 'ລໍຖ້າຢືນຢັນຊຳລະ',\n        },\n        {\n          id: 3,\n          name: 'rejected',\n          dis_play: 'ປະຕິເສດການຊຳລະ',\n        },\n        {\n          id: 4,\n          name: 'success',\n          dis_play: 'ຊຳລະສຳເລັດ',\n        },\n      ],\n    };\n  },\n  methods: {\n    fetchData() {\n      const data = new FormData();\n      data.append('page', this.pagination.current_page);\n      data.append('per_page', this.per_page);\n      data.append('duration', this.selectedDuration);\n      if ((this.year_from !== '' && this.year_to !== '') && (this.selectedDuration == 'year')) {\n        data.append('year_from', this.moment(this.year_from).format('YYYY'));\n        data.append('year_to', this.moment(this.year_to).format('YYYY'));\n      }\n      if ((this.month_from !== '' && this.month_to !== '') && (this.selectedDuration == 'month')) {\n        data.append('month_from', this.moment(this.month_from).format('YYYY-MM'));\n        data.append('month_to', this.moment(this.month_to).format('YYYY-MM'));\n      }\n      this.selectedCollectionStatus.map((item) => {\n        data.append('collect_statuses[]', item);\n      });\n      this.selectedPaymentStatus.map((item) => {\n        data.append('payment_statuses[]', item);\n      });\n\n      const queryArray = [\n        { per_page: this.per_page },\n        { page: this.pagination.current_page },\n        { duration: this.selectedDuration },\n      ];\n\n      if (this.year_from !== '' && (this.selectedDuration == 'year')) {\n        queryArray.push({ year_from: this.moment(this.year_from).format('YYYY') });\n      }\n\n      if (this.year_to !== '' && (this.selectedDuration == 'year')) {\n        queryArray.push({ year_to: this.moment(this.year_to).format('YYYY') });\n      }\n      if (this.month_from !== '' && (this.selectedDuration == 'month')) {\n        queryArray.push({ month_from: this.moment(this.month_from).format('YYYY-MM') });\n      }\n\n      if (this.month_to !== '' && (this.selectedDuration == 'month')) {\n        queryArray.push({ month_to: this.moment(this.month_to).format('YYYY-MM') });\n      }\n\n      this.selectedCollectionStatus.map((item) => {\n        queryArray.push({ 'collect_statuses[]': item });\n      });\n\n      this.selectedPaymentStatus.map((item) => {\n        queryArray.push({ 'payment_statuses[]': item });\n      });\n\n      this.$store.commit('Loading_State', true);\n      this.$axios\n        .get('v2/report-billing-collection-event',\n          { params: queryOptions(queryArray) },\n\n        )\n        .then((res) => {\n          if (res.data.code == 200) {\n            setTimeout(() => {\n              this.$store.commit('Loading_State', false);\n              this.invoices = res.data.data.data.data;\n              this.summary = res.data.data.summary;\n              this.pagination = res.data.data.data.pagination;\n            }, 300);\n          }\n        })\n        .catch((error) => {\n          this.$store.commit('Loading_State', false);\n          this.$store.commit('Toast_State', {\n            value: true,\n            color: 'error',\n            msg: error.response.data.message,\n          });\n        });\n    },\n\n    exportData() {\n      const data = new FormData();\n      data.append('type', this.invoiceType);\n      data.append('duration', this.selectedDuration);\n      data.append('download', 1);\n      if ((this.year_from !== '' && this.year_to !== '') && (this.selectedDuration == 'year')) {\n        data.append('year_from', this.moment(this.year_from).format('YYYY'));\n        data.append('year_to', this.moment(this.year_to).format('YYYY'));\n      }\n      if ((this.month_from !== '' && this.month_to !== '') && (this.selectedDuration == 'month')) {\n        data.append('month_from', this.moment(this.month_from).format('YYYY-MM'));\n        data.append('month_to', this.moment(this.month_to).format('YYYY-MM'));\n      }\n      this.selectedCollectionStatus.map((item) => {\n        data.append('collect_statuses[]', item);\n      });\n      this.selectedPaymentStatus.map((item) => {\n        data.append('payment_statuses[]', item);\n      });\n      this.$store.commit('Loading_State', true);\n      this.$axios\n        .post(\n          'report-event-collection-payment', data,\n          // {\n          //     params: {\n          //         duration: this.selectedDuration,\n          //         type: this.selectedInvoceType,\n          //         download: 1,\n          //     }\n          // },\n          // { responseType: \"blob\" }\n        )\n        .then((res) => {\n          if (res.status == 200) {\n            if (res.data.data.download_link != null) {\n              window.open(res.data.data.download_link);\n            }\n            this.$store.commit('Loading_State', false);\n            // setTimeout(() => {\n            //     this.$store.commit('Loading_State', false);;\n            //     const fileUrl = window.URL.createObjectURL(\n            //         new Blob([res.data])\n            //     );\n            //     const fileLink = document.createElement(\"a\");\n            //     fileLink.href = fileUrl;\n            //     fileLink.setAttribute(\n            //         \"download\",\n            //         \"Report_Invoice\" + \".xlsx\"\n            //     );\n            //     document.body.appendChild(fileLink);\n            //     fileLink.click();\n            //     document.body.removeChild(fileLink);\n            // }, 300);\n          }\n        })\n        .catch((error) => {\n          this.$store.commit('Toast_State', {\n            value: true,\n            color: 'error',\n            msg: error.response.data.message,\n          });\n          this.$store.commit('Loading_State', false);\n        });\n    },\n\n    editPage(id) {\n      this.$router.push({\n        name: 'InvoiceDetail',\n        params: { id },\n      });\n    },\n    viewPage(id) {\n      this.$router.push({\n        name: 'InvoiceDetail',\n        params: { id },\n      });\n    },\n    Search() {\n      GetOldValueOnInput(this);\n    },\n  },\n  watch: {\n    selectedPaymentStatus() {\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    selectedCollectionStatus() {\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    selectedDuration() {\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    search(value) {\n      this.pagination.current_page = '';\n      if (value == '') {\n        this.fetchData();\n      }\n    },\n\n    year_from(value) {\n      const year_from = moment(value).format('YYYY');\n      const year_to = moment(this.year_to).format('YYYY');\n      this.pagination.current_page = '';\n      if (year_from !== '' && year_to !== '') {\n        if (year_from > year_to) {\n          this.year_from = '';\n        }\n      }\n      this.fetchData();\n    },\n    year_to(value) {\n      const year_to = moment(value).format('YYYY');\n      const year_from = moment(this.year_from).format('YYYY');\n      this.pagination.current_page = '';\n      if (year_to !== '' && year_from !== '') {\n        if (year_to < year_from) {\n          this.year_to = '';\n        }\n      }\n      this.fetchData();\n    },\n    month_from(value) {\n      const month_from = moment(value).format('YYYY-MM');\n      const month_to = moment(this.month_to).format('YYYY-MM');\n      if (month_from !== '' && month_to !== '') {\n        if (month_from > month_to) {\n          this.month_from = '';\n        }\n      }\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    month_to(value) {\n      const month_from = moment(this.month_from).format('YYYY-MM');\n      const month_to = moment(value).format('YYYY-MM');\n      this.pagination.current_page = '';\n      if (month_from !== '' && month_to !== '') {\n        if (month_to < month_from) {\n          this.month_to = '';\n        }\n      }\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n\n    tab(value) {\n      if (value == 'tab-1') {\n        this.fetchData();\n        this.invoiceType = 'home';\n        this.$router\n          .push({ name: 'Report-Invoice', query: { tab: 'home' } })\n          .catch(() => { });\n      } else if (value == 'tab-2') {\n        this.fetchData();\n        this.invoiceType = 'company';\n        this.$router\n          .push({\n            name: 'Report-Invoice',\n            query: { tab: 'company' },\n          })\n          .catch(() => { });\n      }\n    },\n  },\n  created() {\n    if (this.$route.query.tab == 'home') {\n      this.tab = 'tab-1';\n      this.invoiceType = 'home';\n      this.fetchData();\n    } else if (this.$route.query.tab == 'company') {\n      this.tab = 'tab-2';\n      this.invoiceType = 'company';\n      this.fetchData();\n    }\n    this.pagination = [];\n  },\n};\n","<template>\n  <v-container>\n    <v-breadcrumbs\n      large\n      class=\"pt-0\"\n    >\n      ລາຍງານຂໍ້ມູນບິນເກັບຂີ້ເຫື້ຍອພິເສດ\n    </v-breadcrumbs>\n    <v-row class=\"mb-n6\">\n      <v-col>\n        <v-btn\n          class=\"btn-primary\"\n          @click=\"exportData()\"\n        >\n          Export\n        </v-btn>\n      </v-col>\n      <v-col>\n        <v-select\n          v-model=\"selectedDuration\"\n          outlined\n          dense\n          :items=\"duration\"\n          item-text=\"name\"\n          item-value=\"duration\"\n          label=\"ຊ່ວງເວລາ\"\n        />\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'year'\">\n        <section>\n          <date-picker\n            v-model=\"year_from\"\n            style=\"height: 40px\"\n            type=\"year\"\n            placeholder=\"ເລີ່ມປີ\"\n          />\n        </section>\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'year'\">\n        <section>\n          <date-picker\n            v-model=\"year_to\"\n            type=\"year\"\n            placeholder=\"ຫາປີ\"\n          />\n        </section>\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'month'\">\n        <section>\n          <date-picker\n            v-model=\"month_from\"\n            type=\"month\"\n            placeholder=\"ເລີ່ມເດືອນ\"\n          />\n        </section>\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'month'\">\n        <section>\n          <date-picker\n            v-model=\"month_to\"\n            type=\"month\"\n            placeholder=\"ຫາເດືອນ\"\n          />\n        </section>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols>\n        <v-select\n          v-model=\"selectedCollectionStatus\"\n          outlined\n          dense\n          :items=\"collectionStatus\"\n          item-text=\"dis_play\"\n          item-value=\"name\"\n          label=\"ສະຖານະບໍລິການ\"\n          multiple\n          clearable\n        />\n      </v-col>\n      <v-col col>\n        <v-select\n          v-model=\"selectedPaymentStatus\"\n          outlined\n          dense\n          :items=\"paymentStatus\"\n          item-text=\"dis_play\"\n          item-value=\"name\"\n          label=\"ສະຖານະການຊຳລະ\"\n          multiple\n          clearable\n        />\n      </v-col>\n    </v-row>\n\n    <div>\n      <v-row>\n        <v-col\n          v-for=\"(sum, index) in summary\"\n          :key=\"index\"\n        >\n          <MoneyCard\n            :title=\"sum.status_la\"\n            :total=\"sum.total\"\n            :bg_color=\"getBgColorFunc(sum.status)\"\n          />\n        </v-col>\n      </v-row>\n      <v-card>\n        <v-card-text>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"invoices\"\n            :search=\"search\"\n            :disable-pagination=\"true\"\n            hide-default-footer\n          >\n            <!--Role -->\n            <template v-slot:item.sub_total=\"{ item }\">\n              <div>\n                {{ Intl.NumberFormat().format(item.sub_total) }}\n              </div>\n            </template>\n            <template v-slot:item.total=\"{ item }\">\n              <div>\n                {{ Intl.NumberFormat().format(item.total) }}\n              </div>\n            </template>\n            <template v-slot:item.status_la=\"{ item }\">\n              <v-chip\n                label\n                :color=\"statusColor(item.status)\"\n              >\n                {{\n                  item.status_la\n                }}\n              </v-chip>\n            </template>\n\n            <template v-slot:item.billingable.collect_status_la=\"{ item }\">\n              <v-chip\n                label\n                dark\n                :color=\"findEventStatus(item.billingable.collect_status) ? findEventStatus(item.billingable.collect_status).color : ''\"\n              >\n                {{\n                  item.billingable.collect_status_la\n                }}\n              </v-chip>\n            </template>\n            <template v-slot:item.created_at=\"{ item }\">\n              <div>\n                <span>{{ moment(item.created_at).format(\"DD-MM-YY\") }}</span>\n              </div>\n            </template>\n          </v-data-table>\n        </v-card-text>\n      </v-card>\n      <br>\n      <template>\n        <Pagination\n          v-if=\"pagination.total_pages > 1\"\n          :pagination=\"pagination\"\n          :offset=\"offset\"\n          @paginate=\"fetchData()\"\n        />\n      </template>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport { GetOldValueOnInput } from '@/Helpers/GetValue';\nimport { getEventStatus } from '@/Helpers/Customer';\nimport { getBgColor } from '@/Helpers/BillingStatus';\nimport invoice from '@views/report/TabCollectionTab/invoiceEvent';\nimport MoneyCard from '@/components/card/MoneyCard';\n\nexport default {\n  name: 'InvoiceCollectionEvent',\n  mixins: [invoice],\n  // props: [\"tab\"],\n  title() {\n    return `Vientiane Waste Co-Dev|Report Invoice Collection Event`;\n  },\n  components: {\n    MoneyCard,\n  },\n  data() {\n    return {\n      customers: [],\n      loading: false,\n      customerId: '',\n      // Pagination\n      offset: 12,\n      pagination: {},\n      per_page: 100,\n      search: '',\n      oldVal: '',\n      headers: [\n        { text: 'ວັນທີ', value: 'date', sortable: false },\n        { text: 'ໄອດີການເກັບ', value: 'billingable.display_id' },\n        { text: 'ລູກຄ້າ', value: 'display_customer_name' },\n        { text: 'ໄອດີບິນ', value: 'billing_display_id' },\n        // { text: \"ຈຳນວນຖົງ\", value: \"total_bag\", sortable: false },\n        { text: 'ສ່ວນຫຼຸດ', value: 'discount' },\n        { text: 'SubTotal', value: 'sub_total', sortable: false },\n        { text: 'Total', value: 'total', sortable: false },\n        { text: 'ສະຖານະຊຳລະ', value: 'status_la', sortable: false },\n        { text: 'ສະຖານະເກັບ', value: 'billingable.collect_status_la', sortable: false },\n        // { text: 'Type', value: 'type', sortable: false },\n        // { text: \"\", value: \"actions\", sortable: false },\n      ],\n      getEventStatus,\n    };\n  },\n  watch: {\n    tab() {\n      if (this.tab == 'tab-1') {\n        // this.fetchData();\n      }\n    },\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    Search() {\n      GetOldValueOnInput(this);\n    },\n    getBgColorFunc(status) {\n      return getBgColor(status);\n    },\n\n    statusColor(value) {\n      if (value == 'success') return 'success';\n      if (value == 'pending') return 'primary';\n      if (value == 'rejected') return 'error';\n      return 'info';\n    },\n    paymentStatusText(status) {\n      if (status == 'pending') return 'ລໍຖ້າເກັບເງິນ';\n      if (status == 'to_confirm_payment') return 'ລໍຖ້າຢືນຢັນຊຳລະ';\n      if (status == 'rejected') return 'ປະຕິເສດການຊຳລະ';\n      if (status == 'success') return 'ຊຳລະສຳເລັດ';\n      return '';\n    },\n    findEventStatus(status) {\n      return this.getEventStatus.find((item) => item.en == status);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../public/scss/main.scss\";\n.mx-input {\n  height: 40px !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./homeInvoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./homeInvoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./homeInvoice.vue?vue&type=template&id=56ae066e&\"\nimport script from \"./homeInvoice.vue?vue&type=script&lang=js&\"\nexport * from \"./homeInvoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./homeInvoice.vue?vue&type=style&index=0&id=56ae066e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}