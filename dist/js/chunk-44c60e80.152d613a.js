(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44c60e80"],{"1eb4":function(t,e,a){"use strict";a("f3a1")},"4fad":function(t,e,a){var n=a("23e7"),i=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"54da":function(t,e,a){"use strict";var n=a("b85c");a("b64b");e["a"]=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},i=Object(n["a"])(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;1==Object.keys(r).length&&r[Object.keys(r)]&&(a[Object.keys(r)]=r[Object.keys(r)])}}catch(s){i.e(s)}finally{i.f()}return a}},"6eceb":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("ac1f"),a("841c");var n=function(t){""!==t.search?""!==t.oldVal?t.oldVal!==t.search&&(t.oldVal=t.search,t.pagination.current_page=1,t.fetchData()):(""!==t.search&&(t.pagination.current_page=1,t.fetchData()),t.oldVal=t.search):t.oldVal=""}},f3a1:function(t,e,a){},fc44:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mb-n6"},[a("v-col",[a("p",[t._v("ຈັດການຂໍ້ມູນບິນລ່ວງໜ້າ")])]),a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify",label:"ຊື່",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{staticClass:"align-end "},[a("v-btn",{staticClass:"btn-primary",on:{click:function(e){return t.choseCustomer()}}},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-plus")]),t._v(" ສ້າງບິນ ")],1)],1)],1),a("div",[a("v-card",[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.invoices,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.total",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.total))+" ")]}},{key:"item.sub_total",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.sub_total))+" ")]}},{key:"item.discount",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.discount))+" ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"success",small:""},on:{click:function(e){return t.ViewInvoice(n.id)}}},[t._v(" mdi-eye ")])]}}])}),a("br"),[t.pagination.total_pages>1?a("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},i=[],r=a("3835"),s=(a("ac1f"),a("841c"),a("4fad"),a("b0c0"),a("6eceb")),o=a("54da"),c={name:"Invoice",title:function(){return"Vientiane Waste Co-Dev|Invoice"},data:function(){return{tab:null,invoices:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",date:(new Date).toISOString().substr(0,7),start_menu:!1,packages:[],selectedPackage:"",server_errors:{},districts:[],selectedDistrict:"",villages:[],selectedVillage:[],selectedStatus:[],plan:{},calendarEdit:{},headers:[{text:"ເລກບິນ",value:"billing.billing_display_id"},{text:"ລາຍລະອຽດ",value:"billing.content"},{text:"ວັນທີ",value:"start_month"},{text:"ຫາວັນທີ",value:"end_month"},{text:"ສ່ວນຫຼຸດ",value:"discount",align:"center",sortable:!1},{text:"ລວມເງິນ",value:"sub_total",align:"center",sortable:!1},{text:"ລວມທັງໝົດ",value:"total",align:"center",sortable:!1},{text:"ຊື່ລູກຄ້າ",value:"billing.user.name",sortable:!1,align:"center"},{text:"ສະຖານະ",value:"billing.status",sortable:!1,align:"center"},{text:"",value:"actions",sortable:!1}]}},methods:{fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("future-invoice",{params:Object(o["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search}])}).then((function(e){200==e.data.code&&(t.$store.commit("Loading_State",!1),t.invoices=e.data.data.data,console.log(t.invoices),t.pagination=e.data.data.pagination)})).catch((function(e){if(t.$store.commit("Loading_State",!1),422==e.response.status)for(var a=e.response.data.errors,n=0,i=Object.entries(a);n<i.length;n++){var s=Object(r["a"])(i[n],2),o=s[0],c=s[1];t.server_errors[o]=c[0]}}))},Search:function(){Object(s["a"])(this)},choseCustomer:function(){this.$router.push({name:"chose-customer"})},ViewInvoice:function(t){this.$router.push({name:"invoice-detail",params:{id:t}})}},watch:{search:function(t){""==t&&this.fetchData()},"plan.name":function(){this.server_errors.name=""},start_date:function(){this.server_errors.month=""},"calendarEdit.name":function(){this.server_errors.name=""},"calendarEdit.month":function(){this.server_errors.month=""}},created:function(){this.fetchData()}},l=c,u=(a("1eb4"),a("2877")),d=a("6544"),f=a.n(d),v=a("8336"),h=a("b0af"),b=a("99d9"),m=a("62ad"),g=a("a523"),p=a("8fea"),_=a("132d"),k=a("0fd9"),y=a("8654"),x=Object(u["a"])(l,n,i,!1,null,null,null);e["default"]=x.exports;f()(x,{VBtn:v["a"],VCard:h["a"],VCardText:b["b"],VCol:m["a"],VContainer:g["a"],VDataTable:p["a"],VIcon:_["a"],VRow:k["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-44c60e80.152d613a.js.map