(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c4df444"],{"4bd4":function(t,a,e){"use strict";var n=e("5530"),r=(e("caad"),e("2532"),e("07ac"),e("4de4"),e("159b"),e("7db0"),e("58df")),i=e("7e2b"),s=e("3206");a["a"]=Object(r["a"])(i["a"],Object(s["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var a=Object.values(t).includes(!0);this.$emit("input",!a)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var a=this,e=function(t){return t.$watch("hasError",(function(e){a.$set(a.errorBag,t._uid,e)}),{immediate:!0})},n={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(function(r){r&&(a.errorBag.hasOwnProperty(t._uid)||(n.valid=e(t)))})):n.valid=e(t),n},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var a=this.inputs.find((function(a){return a._uid===t._uid}));if(a){var e=this.watchers.find((function(t){return t._uid===a._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==a._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==a._uid})),this.$delete(this.errorBag,a._uid)}}},render:function(t){var a=this;return t("form",{staticClass:"v-form",attrs:Object(n["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return a.$emit("submit",t)}}},this.$slots.default)}})},"4f14":function(t,a,e){},"4fad":function(t,a,e){var n=e("23e7"),r=e("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return r(t)}})},"696a":function(t,a,e){},"6d9e":function(t,a,e){},"6eceb":function(t,a,e){"use strict";e.d(a,"a",(function(){return n}));e("ac1f"),e("841c");var n=function(t){""!==t.search?""!==t.oldVal?t.oldVal!==t.search&&(t.oldVal=t.search,t.pagination.current_page=1,t.fetchData()):(""!==t.search&&(t.pagination.current_page=1,t.fetchData()),t.oldVal=t.search):t.oldVal=""}},"7c62":function(t,a,e){},a887:function(t,a,e){},b607:function(t,a,e){"use strict";e("696a")},bee6:function(t,a,e){"use strict";e("7c62")},e0f7:function(t,a,e){"use strict";e("6d9e")},e3e4:function(t,a,e){"use strict";e("4f14")},ebfe:function(t,a,e){"use strict";e("a887")},f0ce:function(t,a,e){},f0d1:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-breadcrumbs",{staticClass:"pt-0",attrs:{large:""}},[e("v-btn",{staticClass:"text-primary",attrs:{text:""},on:{click:function(a){return t.backPrevios()}}},[e("v-icon",[t._v("mdi-chevron-left")])],1),t._v(" ລາຍລະອຽດແຜນ")],1),e("v-row",[e("v-col",[t.data.plan_month?e("p",[t._v(" "+t._s(t.data.plan_month.name)+" - "+t._s(t.data.route_plan.name)+" - "+t._s(t.data.plan_month.name)+" "),e("span",{staticClass:"primary-color"},[t._v("("+t._s(t.data.driver.name)+"),")]),t._v(" ວັນທີ "+t._s(t.data.date)+" ")]):t._e()])],1),e("v-card",{attrs:{elevation:"1"}},[e("v-card-text",[e("v-tabs",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab",{attrs:{href:"#tab-1"}},[t._v(" ທັງໝົດ ")]),e("v-tab",{attrs:{href:"#tab-2"}},[e("v-badge",{attrs:{color:"info",content:t.summary.pending_count}},[t._v(" ລໍຖ້າເກັບ ")])],1),e("v-tab",{attrs:{href:"#tab-3"}},[e("v-badge",{attrs:{color:"warning",content:t.summary.wait_to_confirm_count}},[t._v(" ລໍຖ້າຢືນຢັນ ")])],1),e("v-tab",{attrs:{href:"#tab-4"}},[e("v-badge",{attrs:{color:"success",content:t.summary.success_count}},[t._v(" ສຳເລັດ ")])],1),e("v-tab",{attrs:{href:"#tab-5"}},[e("v-badge",{attrs:{color:"red",content:t.summary.reject_count}},[t._v(" ປະຕິເສດການເກັບ ")])],1),e("v-tab",{attrs:{href:"#tab-6"}},[e("v-badge",{attrs:{color:"orange",content:t.summary.canceled_count}},[t._v(" ຍົກເລີກການເກັບ ")])],1)],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-1"}},[e("allTrash")],1)],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-2"}},[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("pendingTrash")],1)],1)],1)],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-3"}},[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("waitToConfirmTrash")],1)],1)],1)],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-4"}},[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("successTrash")],1)],1)],1)],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-5"}},[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("rejectTrash")],1)],1)],1)],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-6"}},[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("cancel-trash")],1)],1)],1)],1)],1)],1)],1)},r=[],i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",[e("v-breadcrumbs",{staticClass:"pa-0",attrs:{large:""}},[t._v(" ຂີ້ເຫື້ຍອທັງໝົດ")])],1)],1),e("div",[t.calendars?e("v-data-table",{attrs:{headers:t.headers,items:t.calendars,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.customer",fn:function(a){var n=a.item;return[(n.route_plan_detail.customer.customer_type="company")?e("div",[t._v(" "+t._s(n.route_plan_detail.customer.company_name)+" ")]):t._e(),e("div",[t._v(" "+t._s(n.route_plan_detail.customer.name)+" "+t._s(n.route_plan_detail.customer.surname)+" ")])]}},{key:"item.created_at",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.created_at).format("DD-MM-YY hh:mm "))+" ")])]}},{key:"item.date",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.date).format("DD-MM-YY hh:mm:ss"))+" ")])]}},{key:"item.status",fn:function(a){var n=a.item;return[e("v-chip",{attrs:{label:"",color:t.statusColor(n.status)}},[t._v(t._s(n.status))])]}},{key:"item.amount",fn:function(a){var n=a.item;return["bag"==n.collection_type||"chartered"==n.collection_type?e("div",[e("v-chip",{attrs:{color:"primary"}},[t._v(t._s(n.bag))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1):"fix_cost"==n.collection_type?e("div",[e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])]):e("div",[e("v-chip",{attrs:{color:"success"}},[t._v(t._s(n.container))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1)]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.viewPage(n.plan_calendar_id,n.id)}}},[t._v(" mdi-eye ")]),e("v-dialog",{attrs:{scrollable:"","max-width":"300px"},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,r=a.attrs;return[e("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{small:""}},"v-icon",r,!1),n),[t._v(" mdi-plus ")])]}}],null,!0),model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-card-title",[t._v("ເພີ່ມຈຳນວນຮອບໃນມື້")]),e("v-divider"),e("v-card-text",[e("v-text-field",{attrs:{type:"number"},model:{value:t.round,callback:function(a){t.round=a},expression:"round"}})],1),e("v-divider"),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){return t.cancelDialog()}}},[t._v(" Close ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){return t.addRoundDialog(n)}}},[t._v(" Save ")])],1)],1)],1)]}}],null,!1,1350186659)}):t._e(),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2)],1)},s=[],o=e("3835"),c=(e("4fad"),e("6eceb")),l={name:"Customer",data:function(){return{loading:!1,calendarId:"",calendars:[],successes:[],offset:12,pagination:{},per_page:15,search:"",oldVal:"",summary:{},statuses:[],plan_monthId:this.$route.params.id,headers:[{text:"ລຳດັບ",value:"route_plan_detail.priority"},{text:"ຊື່ລູກຄ້າ",value:"customer"},{text:"ເລີ່ມວັນທີ",value:"route_plan_detail.customer.start_month"},{text:"ຈຳນວນຂີ້ເຫື້ຍອ",value:"amount",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",align:"center",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("plan-calendar/"+this.$route.params.id+"/detail",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:this.statuses}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.calendars=[],t.pagination=[],t.calendars=a.data.data.data,t.summary=a.data.data.summary,t.pagination=a.data.data.pagination}),100)})).catch((function(a){t.$store.commit("Loading_State",!1),422==a.response.status&&(t.toast.msg=a.message)}))},statusColor:function(t){return"pending"==t?"info":"success"==t?"success":"error"},getUnit:function(t){return"bag"==t||"chartered"==t?"ຖົງ":"fix_cost"==t?"ມອບເໝົາ":"container"==t?"ຄອນເທັນເນີ":""},Search:function(){Object(c["a"])(this)},viewPage:function(t,a){this.$router.push({name:"TrashDetail",params:{plan_calendar:t,id:a}})}},watch:{search:function(t){""==t&&this.fetchData()}},created:function(){this.fetchData()}},u={mixins:[l],name:"Trash",data:function(){return{dialog:!1,round:0,server_errors:{},headers:[{text:"ລຳດັບ",value:"route_plan_detail.priority"},{text:"ລູກຄ້າ",value:"customer"},{text:"ຈຳນວນຂີ້ເຫື້ຍອ",value:"amount",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",align:"center",sortable:!1},{text:"ວັນທີສ້າງ",value:"created_at",align:"center",sortable:!1},{text:"ວັນທີເກັບ",value:"collected_at",align:"center",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},cancelDialog:function(){this.dialog=!1},addRoundDialog:function(t){var a=this;this.round>0?(this.$store.commit("Loading_State",!0),this.$axios.post("plan-calendar-detail-round/"+t.id,{round:this.round}).then((function(t){200==t.data.code&&setTimeout((function(){a.$store.commit("Loading_State",!1),a.round=0,a.dialog=!1,a.fetchData()}),100)})).catch((function(t){if(a.loading=!1,a.round=0,a.dialog=!1,a.fetchData(),a.$store.commit("Toast_State",{value:!0,color:"error",msg:t.response.data.message}),422==t.response.status)for(var e=t.response.data.errors,n=0,r=Object.entries(e);n<r.length;n++){var i=Object(o["a"])(r[n],2),s=i[0],c=i[1];a.server_errors[s]=c[0]}}))):this.dialog=!1}},watch:{},created:function(){}},d=u,m=(e("e0f7"),e("2877")),v=e("6544"),_=e.n(v),f=e("2bc5"),p=e("8336"),h=e("b0af"),g=e("99d9"),b=e("cc20"),y=e("62ad"),x=e("a523"),D=e("8fea"),V=e("169a"),k=e("ce7e"),$=e("132d"),C=e("0fd9"),w=e("8654"),T=Object(m["a"])(d,i,s,!1,null,null,null),S=T.exports;_()(T,{VBreadcrumbs:f["a"],VBtn:p["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VChip:b["a"],VCol:y["a"],VContainer:x["a"],VDataTable:D["a"],VDialog:V["a"],VDivider:k["a"],VIcon:$["a"],VRow:C["a"],VTextField:w["a"]});var j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",[e("v-breadcrumbs",{staticClass:"pa-0",attrs:{large:""}},[t._v(" ຂີ້ເຫື້ຍອທີ່ລໍຖ້າເກັບ")])],1)],1),e("div",[t.pending?e("v-data-table",{attrs:{headers:t.headers,items:t.pending,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.created_at",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.created_at).format("DD-MM-YY hh:mm "))+" ")])]}},{key:"item.date",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.date).format("DD-MM-YY hh:mm:ss"))+" ")])]}},{key:"item.customer",fn:function(a){var n=a.item;return[(n.route_plan_detail.customer.customer_type="company")?e("div",[t._v(" "+t._s(n.route_plan_detail.customer.company_name)+" ")]):t._e(),e("div",[t._v(" "+t._s(n.route_plan_detail.customer.name)+" "+t._s(n.route_plan_detail.customer.surname)+" ")])]}},{key:"item.status",fn:function(a){var n=a.item;return[e("v-chip",{attrs:{color:"info"}},[t._v(t._s(n.status))])]}},{key:"item.amount",fn:function(a){var n=a.item;return["bag"==n.collection_type||"chartered"==n.collection_type?e("div",[e("v-chip",{attrs:{color:"primary"}},[t._v(t._s(n.bag))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1):"fix_cost"==n.collection_type?e("div",[e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])]):e("div",[e("v-chip",{attrs:{color:"success"}},[t._v(t._s(n.container))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1)]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.viewPage(n.plan_calendar_id,n.id)}}},[t._v(" mdi-eye ")])]}}],null,!1,398724677)}):t._e(),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2)],1)},P=[],U={name:"Trash",data:function(){return{pending:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",statuses:["pending"],headers:[{text:"ລຳດັບ",value:"route_plan_detail.priority"},{text:"ລູກຄ້າ",value:"customer"},{text:"ຈຳນວນຂີ້ເຫື້ຍອ",value:"amount",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",align:"center",sortable:!1},{text:"ວັນທີສ້າງ",value:"created_at",align:"center",sortable:!1},{text:"ວັນທີເກັບ",value:"collected_at",align:"center",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("plan-calendar/"+this.$route.params.id+"/detail",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:this.statuses}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.pending=a.data.data.data,t.summary=a.data.data.summary,t.pagination=a.data.data.pagination}),100)})).catch((function(a){t.$store.commit("Loading_State",!1),t.fetchData(),422==a.response.status&&(t.toast.msg=a.message)}))},statusColor:function(t){return"pending"==t?"info":"success"==t?"success":"error"},getUnit:function(t){return"bag"==t||"chartered"==t?"ຖົງ":"fix_cost"==t?"ມອບເໝົາ":"container"==t?"ຄອນເທັນເນີ":""},Search:function(){Object(c["a"])(this)},viewPage:function(t,a){this.$router.push({name:"TrashDetail",params:{plan_calendar:t,id:a}})}},watch:{search:function(t){""==t&&this.fetchData()}},created:function(){this.fetchData()}},M=U,B=(e("bee6"),Object(m["a"])(M,j,P,!1,null,null,null)),O=B.exports;_()(B,{VBreadcrumbs:f["a"],VChip:b["a"],VCol:y["a"],VContainer:x["a"],VDataTable:D["a"],VIcon:$["a"],VRow:C["a"]});var I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",[e("v-breadcrumbs",{staticClass:"pa-0",attrs:{large:""}},[t._v(" ຂີ້ເຫື້ຍອທີ່ເກັບສຳເລັດແລ້ວ")])],1)],1),e("div",[t.successes?e("v-data-table",{attrs:{headers:t.headers,items:t.successes,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.customer",fn:function(a){var n=a.item;return[(n.route_plan_detail.customer.customer_type="company")?e("div",[t._v(" "+t._s(n.route_plan_detail.customer.company_name)+" ")]):t._e(),e("div",[t._v(" "+t._s(n.route_plan_detail.customer.name)+" "+t._s(n.route_plan_detail.customer.surname)+" ")])]}},{key:"item.created_at",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.created_at).format("DD-MM-YY hh:mm "))+" ")])]}},{key:"item.date",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.date).format("DD-MM-YY hh:mm:ss"))+" ")])]}},{key:"item.status",fn:function(a){var n=a.item;return[e("v-chip",{attrs:{label:"",color:"success"}},[t._v(t._s(n.status))])]}},{key:"item.amount",fn:function(a){var n=a.item;return["bag"==n.collection_type||"chartered"==n.collection_type?e("div",[e("v-chip",{attrs:{color:"primary"}},[t._v(t._s(n.bag))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1):"fix_cost"==n.collection_type?e("div",[e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])]):e("div",[e("v-chip",{attrs:{color:"success"}},[t._v(t._s(n.container))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1)]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.viewPage(n.plan_calendar_id,n.id)}}},[t._v(" mdi-eye ")])]}}],null,!1,2781157240)}):t._e(),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2)],1)},Y=[],L={name:"Trash",data:function(){return{offset:12,successes:[],pagination:{},per_page:15,search:"",summary:{},statuses:["success"],headers:[{text:"ລຳດັບ",value:"route_plan_detail.priority"},{text:"ລູກຄ້າ",value:"customer"},{text:"ຈຳນວນຂີ້ເຫື້ຍອ",value:"amount",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",align:"center",sortable:!1},{text:"ວັນທີສ້າງ",value:"created_at",align:"center",sortable:!1},{text:"ວັນທີເກັບ",value:"collected_at",align:"center",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("plan-calendar/"+this.$route.params.id+"/detail",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:this.statuses}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.successes=a.data.data.data,t.summary=a.data.data.summary,t.pagination=a.data.data.pagination}),100)})).catch((function(a){t.$store.commit("Loading_State",!1),t.fetchData(),422==a.response.status&&(t.toast.msg=a.message)}))},statusColor:function(t){return"pending"==t?"info":"success"==t?"success":"error"},getUnit:function(t){return"bag"==t||"chartered"==t?"ຖົງ":"fix_cost"==t?"ມອບເໝົາ":"container"==t?"ຄອນເທັນເນີ":""},Search:function(){Object(c["a"])(this)},viewPage:function(t,a){this.$router.push({name:"TrashDetail",params:{plan_calendar:t,id:a}})}},watch:{search:function(t){""==t&&this.fetchData()}},created:function(){this.fetchData()}},E=L,q=(e("e3e4"),Object(m["a"])(E,I,Y,!1,null,null,null)),R=q.exports;_()(q,{VBreadcrumbs:f["a"],VChip:b["a"],VCol:y["a"],VContainer:x["a"],VDataTable:D["a"],VIcon:$["a"],VRow:C["a"]});var F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",[e("v-breadcrumbs",{staticClass:"pa-0",attrs:{large:""}},[t._v(" ຂີ້ເຫື້ຍອທີ່ລໍຖ້າເກັບ")])],1)],1),e("div",[t.pending?e("v-data-table",{attrs:{headers:t.headers,items:t.pending,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.created_at",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.created_at).format("DD-MM-YY hh:mm "))+" ")])]}},{key:"item.date",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.date).format("DD-MM-YY hh:mm:ss"))+" ")])]}},{key:"item.customer",fn:function(a){var n=a.item;return[(n.route_plan_detail.customer.customer_type="company")?e("div",[t._v(" "+t._s(n.route_plan_detail.customer.company_name)+" ")]):t._e(),e("div",[t._v(" "+t._s(n.route_plan_detail.customer.name)+" "+t._s(n.route_plan_detail.customer.surname)+" ")])]}},{key:"item.status",fn:function(a){var n=a.item;return[e("v-chip",{attrs:{color:"warning",label:""}},[t._v(t._s(n.status))])]}},{key:"item.amount",fn:function(a){var n=a.item;return["bag"==n.collection_type||"chartered"==n.collection_type?e("div",[e("v-chip",{attrs:{color:"primary"}},[t._v(t._s(n.bag))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1):"fix_cost"==n.collection_type?e("div",[e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])]):e("div",[e("v-chip",{attrs:{color:"success"}},[t._v(t._s(n.container))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1)]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("v-icon",{staticClass:"mr-4",attrs:{small:""},on:{click:function(a){return t.viewPage(n.plan_calendar_id,n.id)}}},[t._v(" mdi-eye ")]),e("v-icon",{attrs:{small:""},on:{click:function(a){return t.openUpdate(n)}}},[t._v(" mdi-truck ")])]}}],null,!1,3397919234)}):t._e(),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2),e("v-dialog",{attrs:{"max-width":"620px",persistent:""},model:{value:t.confirmDialog,callback:function(a){t.confirmDialog=a},expression:"confirmDialog"}},[[e("v-card",[e("v-card-text",[e("v-card-title",[e("p",[e("v-icon",{staticClass:"primary-color",attrs:{large:"",color:"success"}},[t._v("mdi-checkbox-marked-circle-outline ")]),t._v(" ຢືນຢັນການເກັບຂີ້ເຫື້ຍອ ")],1)]),e("v-container",[e("v-form",{ref:"form",attrs:{"lazy-validation":""}},[e("div",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-select",{attrs:{label:"ສະຖານະການຊຳລະ",outlined:"",dense:"",items:t.confirm_statues,"item-text":"name","item-value":"value"},model:{value:t.confirm_status,callback:function(a){t.confirm_status=a},expression:"confirm_status"}})],1)],1),"reject"==t.confirm_status?e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Description",outlined:"",dense:"",type:"text"},model:{value:t.description,callback:function(a){t.description=a},expression:"description"}}),e("p",{staticClass:"errors"},[t._v(" "+t._s(t.server_errors.description)+" ")])],1)],1):t._e(),e("v-row",[e("v-card-actions",[e("v-btn",{staticClass:"white--text px-12 c-btn",attrs:{color:"blue",medium:"",loading:t.loading,disabled:t.loading},on:{click:function(a){return t.confirmStatus()}}},[t._v(" ຢືນຢັນ ")]),e("v-btn",{staticClass:"white--text px-12 c-btn",attrs:{color:"error",medium:""},on:{click:function(a){t.confirmDialog=!1}}},[t._v(" Close ")])],1)],1)],1)])],1)],1)],1)]],2)],1)},z=[],A=(e("a4d3"),e("e01a"),{name:"Trash",data:function(){return{pending:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",statuses:["wait_to_confirm"],confirm_status:"",confirm_statues:[{name:"Success",value:"success"},{name:"Reject",value:"reject"}],confirmDialog:!1,editItem:{},description:"",server_errors:{},headers:[{text:"ລຳດັບ",value:"route_plan_detail.priority"},{text:"ລູກຄ້າ",value:"customer"},{text:"ຈຳນວນຂີ້ເຫື້ຍອ",value:"amount",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",align:"center",sortable:!1},{text:"ວັນທີສ້າງ",value:"created_at",align:"center",sortable:!1},{text:"ວັນທີເກັບ",value:"collected_at",align:"center",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("plan-calendar/"+this.$route.params.id+"/detail",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:this.statuses}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.pending=a.data.data.data,t.summary=a.data.data.summary,t.pagination=a.data.data.pagination}),100)})).catch((function(a){t.$store.commit("Loading_State",!1),t.fetchData(),422==a.response.status&&(t.toast.msg=a.message)}))},openUpdate:function(t){this.editItem=t,this.confirmDialog=!0},confirmStatus:function(){var t=this;this.loading=!0;var a=new FormData;a.append("status",this.confirm_status),"reject"==this.confirm_status&&a.append("description",this.description),a.append("_method","PUT"),this.$axios.post("admin-collection/"+this.editItem.id+"/status",a).then((function(a){200==a.data.code&&setTimeout((function(){t.loading=!1,t.$store.commit("Toast_State",{value:!0,color:"success",msg:a.data.message}),t.fetchData(),t.confirmDialog=!1}),300)})).catch((function(a){if(t.loading=!1,t.$store.commit("Toast_State",{value:!0,color:"error",msg:a.response.data.message}),422==a.response.status)for(var e=a.response.data.errors,n=0,r=Object.entries(e);n<r.length;n++){var i=Object(o["a"])(r[n],2),s=i[0],c=i[1];t.server_errors[s]=c[0]}}))},statusColor:function(t){return"pending"==t?"info":"success"==t?"success":"error"},getUnit:function(t){return"bag"==t||"chartered"==t?"ຖົງ":"fix_cost"==t?"ມອບເໝົາ":"container"==t?"ຄອນເທັນເນີ":""},Search:function(){Object(c["a"])(this)},viewPage:function(t,a){this.$router.push({name:"TrashDetail",params:{plan_calendar:t,id:a}})}},watch:{search:function(t){""==t&&this.fetchData()},description:function(){this.server_errors.description=""}},created:function(){this.fetchData()}}),J=A,W=(e("b607"),e("4bd4")),G=e("b974"),H=Object(m["a"])(J,F,z,!1,null,null,null),K=H.exports;_()(H,{VBreadcrumbs:f["a"],VBtn:p["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VChip:b["a"],VCol:y["a"],VContainer:x["a"],VDataTable:D["a"],VDialog:V["a"],VForm:W["a"],VIcon:$["a"],VRow:C["a"],VSelect:G["a"],VTextField:w["a"]});var N=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",[e("v-breadcrumbs",{staticClass:"pa-0",attrs:{large:""}},[t._v(" ຂີ້ເຫື້ຍອທີ່ລໍຖ້າເກັບ")])],1)],1),e("div",[t.pending?e("v-data-table",{attrs:{headers:t.headers,items:t.pending,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.created_at",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.created_at).format("DD-MM-YY hh:mm "))+" ")])]}},{key:"item.date",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.date).format("DD-MM-YY hh:mm:ss"))+" ")])]}},{key:"item.customer",fn:function(a){var n=a.item;return[(n.route_plan_detail.customer.customer_type="company")?e("div",[t._v(" "+t._s(n.route_plan_detail.customer.company_name)+" ")]):t._e(),e("div",[t._v(" "+t._s(n.route_plan_detail.customer.name)+" "+t._s(n.route_plan_detail.customer.surname)+" ")])]}},{key:"item.status",fn:function(a){var n=a.item;return[e("v-chip",{attrs:{color:"error",label:""}},[t._v(t._s(n.status))])]}},{key:"item.amount",fn:function(a){var n=a.item;return["bag"==n.collection_type||"chartered"==n.collection_type?e("div",[e("v-chip",{attrs:{color:"primary"}},[t._v(t._s(n.bag))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1):"fix_cost"==n.collection_type?e("div",[e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])]):e("div",[e("v-chip",{attrs:{color:"success"}},[t._v(t._s(n.container))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1)]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.viewPage(n.plan_calendar_id,n.id)}}},[t._v(" mdi-eye ")]),e("v-icon",{attrs:{small:""},on:{click:function(a){return t.openUpdate(n)}}},[t._v(" mdi-truck ")])]}}],null,!1,2202023958)}):t._e(),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2),e("v-dialog",{attrs:{"max-width":"620px",persistent:""},model:{value:t.confirmDialog,callback:function(a){t.confirmDialog=a},expression:"confirmDialog"}},[[e("v-card",[e("v-card-text",[e("v-card-title",[e("p",[e("v-icon",{staticClass:"primary-color",attrs:{large:"",color:"success"}},[t._v("mdi-checkbox-marked-circle-outline ")]),t._v(" ຢືນຢັນການເກັບຂີ້ເຫື້ຍອ ")],1)]),e("v-container",[e("v-form",{ref:"form",attrs:{"lazy-validation":""}},[e("div",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-select",{attrs:{label:"ສະຖານະການຊຳລະ",outlined:"",dense:"",items:t.confirm_statues,"item-text":"name","item-value":"value"},model:{value:t.confirm_status,callback:function(a){t.confirm_status=a},expression:"confirm_status"}})],1)],1),"reject"==t.confirm_status?e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Description",outlined:"",dense:"",type:"text"},model:{value:t.description,callback:function(a){t.description=a},expression:"description"}}),e("p",{staticClass:"errors"},[t._v(" "+t._s(t.server_errors.description)+" ")])],1)],1):t._e(),e("v-row",[e("v-card-actions",[e("v-btn",{staticClass:"white--text px-12 c-btn",attrs:{color:"blue",medium:"",loading:t.loading,disabled:t.loading},on:{click:function(a){return t.confirmStatus()}}},[t._v(" ຢືນຢັນ ")]),e("v-btn",{staticClass:"white--text px-12 c-btn",attrs:{color:"error",medium:""},on:{click:function(a){t.confirmDialog=!1}}},[t._v(" Close ")])],1)],1)],1)])],1)],1)],1)]],2)],1)},Q=[],X={name:"Trash",data:function(){return{pending:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",statuses:["reject"],confirm_status:"success",confirm_statues:[{name:"Success",value:"success"}],confirmDialog:!1,editItem:{},description:"",server_errors:{},headers:[{text:"ລຳດັບ",value:"route_plan_detail.priority"},{text:"ລູກຄ້າ",value:"customer"},{text:"ຈຳນວນຂີ້ເຫື້ຍອ",value:"amount",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",align:"center",sortable:!1},{text:"ວັນທີສ້າງ",value:"created_at",align:"center",sortable:!1},{text:"ວັນທີເກັບ",value:"collected_at",align:"center",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("plan-calendar/"+this.$route.params.id+"/detail",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:this.statuses}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.pending=a.data.data.data,t.summary=a.data.data.summary,t.pagination=a.data.data.pagination}),100)})).catch((function(a){t.$store.commit("Loading_State",!1),t.fetchData(),422==a.response.status&&(t.toast.msg=a.message)}))},openUpdate:function(t){this.editItem=t,this.confirmDialog=!0},confirmStatus:function(){var t=this;this.loading=!0;var a=new FormData;a.append("status",this.confirm_status),"reject"==this.confirm_status&&a.append("description",this.description),a.append("_method","PUT"),this.$axios.post("admin-collection/"+this.editItem.id+"/status",a).then((function(a){200==a.data.code&&setTimeout((function(){t.loading=!1,t.$store.commit("Toast_State",{value:!0,color:"success",msg:a.data.message}),t.fetchData(),t.confirmDialog=!1}),300)})).catch((function(a){if(t.loading=!1,t.$store.commit("Toast_State",{value:!0,color:"error",msg:a.response.data.message}),422==a.response.status)for(var e=a.response.data.errors,n=0,r=Object.entries(e);n<r.length;n++){var i=Object(o["a"])(r[n],2),s=i[0],c=i[1];t.server_errors[s]=c[0]}}))},statusColor:function(t){return"pending"==t?"info":"success"==t?"success":"error"},getUnit:function(t){return"bag"==t||"chartered"==t?"ຖົງ":"fix_cost"==t?"ມອບເໝົາ":"container"==t?"ຄອນເທັນເນີ":""},Search:function(){Object(c["a"])(this)},viewPage:function(t,a){this.$router.push({name:"TrashDetail",params:{plan_calendar:t,id:a}})}},watch:{search:function(t){""==t&&this.fetchData()},description:function(){this.server_errors.description=""}},created:function(){this.fetchData()}},Z=X,tt=(e("ebfe"),Object(m["a"])(Z,N,Q,!1,null,null,null)),at=tt.exports;_()(tt,{VBreadcrumbs:f["a"],VBtn:p["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VChip:b["a"],VCol:y["a"],VContainer:x["a"],VDataTable:D["a"],VDialog:V["a"],VForm:W["a"],VIcon:$["a"],VRow:C["a"],VSelect:G["a"],VTextField:w["a"]});var et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",[e("v-breadcrumbs",{staticClass:"pa-0",attrs:{large:""}},[t._v(" ຂີ້ເຫື້ຍອທີ່ຍັກເລີກ")])],1)],1),e("div",[t.pending?e("v-data-table",{attrs:{headers:t.headers,items:t.pending,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.created_at",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.created_at).format("DD-MM-YY hh:mm "))+" ")])]}},{key:"item.date",fn:function(a){var n=a.item;return[e("div",[t._v(" "+t._s(t.moment(n.date).format("DD-MM-YY hh:mm:ss"))+" ")])]}},{key:"item.customer",fn:function(a){var n=a.item;return[(n.route_plan_detail.customer.customer_type="company")?e("div",[t._v(" "+t._s(n.route_plan_detail.customer.company_name)+" ")]):t._e(),e("div",[t._v(" "+t._s(n.route_plan_detail.customer.name)+" "+t._s(n.route_plan_detail.customer.surname)+" ")])]}},{key:"item.status",fn:function(a){var n=a.item;return[e("v-chip",{attrs:{color:"orange",label:""}},[t._v(t._s(n.status))])]}},{key:"item.amount",fn:function(a){var n=a.item;return["bag"==n.collection_type||"chartered"==n.collection_type?e("div",[e("v-chip",{attrs:{color:"primary"}},[t._v(t._s(n.bag))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1):"fix_cost"==n.collection_type?e("div",[e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])]):e("div",[e("v-chip",{attrs:{color:"success"}},[t._v(t._s(n.container))]),e("span",[t._v(" "+t._s(t.getUnit(n.collection_type)))])],1)]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.viewPage(n.plan_calendar_id,n.id)}}},[t._v(" mdi-eye ")])]}}],null,!1,723277643)}):t._e(),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2)],1)},nt=[],rt={name:"Trash",data:function(){return{pending:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",statuses:["canceled"],headers:[{text:"ລຳດັບ",value:"route_plan_detail.priority"},{text:"ລູກຄ້າ",value:"customer"},{text:"ຈຳນວນຂີ້ເຫື້ຍອ",value:"amount",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",align:"center",sortable:!1},{text:"ວັນທີສ້າງ",value:"created_at",align:"center",sortable:!1},{text:"ວັນທີເກັບ",value:"collected_at",align:"center",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("plan-calendar/"+this.$route.params.id+"/detail",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:this.statuses}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.pending=a.data.data.data,t.summary=a.data.data.summary,t.pagination=a.data.data.pagination}),100)})).catch((function(a){t.$store.commit("Loading_State",!1),t.fetchData(),422==a.response.status&&(t.toast.msg=a.message)}))},statusColor:function(t){return console.log(t),"pending"==t?"info":"success"==t?"success":"reject"==t?"error":"cancel"==t?"orange":"error"},getUnit:function(t){return"bag"==t||"chartered"==t?"ຖົງ":"fix_cost"==t?"ມອບເໝົາ":"container"==t?"ຄອນເທັນເນີ":""},Search:function(){Object(c["a"])(this)},viewPage:function(t,a){this.$router.push({name:"TrashDetail",params:{plan_calendar:t,id:a}})}},watch:{search:function(t){""==t&&this.fetchData()}},created:function(){this.fetchData()}},it=rt,st=(e("fedb"),Object(m["a"])(it,et,nt,!1,null,null,null)),ot=st.exports;_()(st,{VBreadcrumbs:f["a"],VChip:b["a"],VCol:y["a"],VContainer:x["a"],VDataTable:D["a"],VIcon:$["a"],VRow:C["a"]});var ct={title:function(){return"Vientiane Waste Co-Dev|Calendar"},mixins:[l],props:["plan"],components:{allTrash:S,pendingTrash:O,successTrash:R,waitToConfirmTrash:K,rejectTrash:at,cancelTrash:ot},data:function(){return{tab:null,data:{}}},methods:{backPrevios:function(){this.$router.go(-1)},fetchDataPlanMonth:function(){var t=this;this.$axios.get("plan-month/"+this.$route.params.planMonthId+"/plan-calendar/"+this.$route.params.id).then((function(a){200==a.data.code&&setTimeout((function(){t.data=a.data.data}),100)})).catch((function(){}))}},created:function(){"trash-all"==this.$route.query.tab?this.tab="tab-1":"trash-pending"==this.$route.query.tab?this.tab="tab-2":"wait-to-confirm"==this.$route.query.tab?this.tab="tab-3":"trash-success"==this.$route.query.tab?this.tab="tab-4":"trash-reject"==this.$route.query.tab?this.tab="tab-5":"trash-cancel"==this.$route.query.tab&&(this.tab="tab-6"),this.fetchDataPlanMonth()},watch:{tab:function(t){"tab-1"==t?this.$router.push({name:"PlanCalendarDetail",query:{tab:"trash-all"}}).catch((function(){})):"tab-2"==t?this.$router.push({name:"PlanCalendarDetail",query:{tab:"trash-pending"}}).catch((function(){})):"tab-3"==t?this.$router.push({name:"PlanCalendarDetail",query:{tab:"wait-to-confirm"}}).catch((function(){})):"tab-4"==t?this.$router.push({name:"PlanCalendarDetail",query:{tab:"trash-success"}}).catch((function(){})):"tab-5"==t?this.$router.push({name:"PlanCalendarDetail",query:{tab:"trash-reject"}}).catch((function(){})):"tab-6"==t&&this.$router.push({name:"PlanCalendarDetail",query:{tab:"trash-cancel"}}).catch((function(){}))}}},lt=ct,ut=e("4ca6"),dt=e("71a3"),mt=e("c671"),vt=e("fe57"),_t=e("aac8"),ft=Object(m["a"])(lt,n,r,!1,null,null,null);a["default"]=ft.exports;_()(ft,{VBadge:ut["a"],VBreadcrumbs:f["a"],VBtn:p["a"],VCard:h["a"],VCardText:g["b"],VCol:y["a"],VContainer:x["a"],VIcon:$["a"],VRow:C["a"],VTab:dt["a"],VTabItem:mt["a"],VTabs:vt["a"],VTabsItems:_t["a"]})},fedb:function(t,a,e){"use strict";e("f0ce")}}]);
//# sourceMappingURL=chunk-7c4df444.cc4bfcd0.js.map