(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c6b45dc"],{"0acf":function(t,e,a){"use strict";var i=a("6d6a"),s=a("b75d"),n=a("73f7"),o=a("f0be"),r=a("50f6");const c=Object(r["a"])(i["a"],Object(s["a"])("windowGroup","v-window-item","v-window"));e["a"]=c.extend().extend().extend({name:"v-window-item",directives:{Touch:n["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(o["h"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick(()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(o["h"])(t.clientHeight))})}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}})},"31c7":function(t,e,a){},7039:function(t,e,a){"use strict";var i=a("0acf");e["a"]=i["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=i["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},8042:function(t,e,a){"use strict";a("3bf8"),a("618a");var i=a("1ed6");function s(t){return i["a"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:a,data:i,children:s}){i.staticClass=`${t} ${i.staticClass||""}`.trim();const{attrs:n}=i;if(n){i.attrs={};const t=Object.keys(n).filter(t=>{if("slot"===t)return!1;const e=n[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(i.staticClass+=" "+t.join(" "))}return a.id&&(i.domProps=i.domProps||{},i.domProps.id=a.id),e(a.tag,i,s)}})}var n=a("727d");e["a"]=s("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:a,children:i}){let s;const{attrs:o}=a;return o&&(a.attrs={},s=Object.keys(o).filter(t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(a.domProps=a.domProps||{},a.domProps.id=e.id),t(e.tag,Object(n["a"])(a,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(s||[])}),i)}})},bf00:function(t,e,a){"use strict";a("31c7")},cf99:function(t,e,a){"use strict";a.r(e);var i=a("84ff"),s=a("2d66"),n=a("8042"),o=a("a972"),r=a("8066"),c=a("7039"),d=a("a7b9"),l=a("5a4b"),u=function(){var t=this,e=t._self._c;return e(n["a"],[e(o["a"],{staticClass:"mb-n6"},[e(s["a"],[e("p",[t._v("ຂໍ້ມູນບໍລິສັດທີ່ສົ່ງຄຳຂໍເກັບຂີ້ເຫື້ຍອ")])])],1),e(i["a"],[e(d["a"],{attrs:{dark:"","background-color":"tab-color lighten-2"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(r["a"],{attrs:{href:"#tab-1"}},[t._v(" ລໍຖ້າກວດສອບ ")]),e(r["a"],{attrs:{href:"#tab-2"}},[t._v(" ກວດສອບສຳເລັດແລ້ວ ")])],1),e(l["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(c["a"],{attrs:{value:"tab-1"}},[e("pending")],1)],1),e(l["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(c["a"],{attrs:{value:"tab-2"}},[e("success")],1)],1)],1)],1)},m=[],h=(a("e34a"),a("45f7")),p=a("dff2"),f=a("5929"),g=a("2161"),v=a("0002"),_=a("3675"),b=function(){var t=this,e=t._self._c;return e(n["a"],[e(g["a"],{attrs:{headers:t.header,items:t.data,"hide-default-footer":""},scopedSlots:t._u([{key:"item.created_at",fn:function({item:a}){return[e("div",[t._v(t._s(t.moment(a.created_at).format("DD-MM-YY hh:mm")))])]}},{key:"item.coordinator",fn:function({item:a}){return[e("div",[t._v(t._s(a.coordinator_name)+" "+t._s(a.coordinator_surname))])]}},{key:"item.status",fn:function({item:a}){return[e(f["a"],{attrs:{color:"success",label:""}},[t._v(" "+t._s(a.status)+" ")])]}},{key:"item.action",fn:function({item:a}){return[e(v["a"],{staticClass:"mr-4",attrs:{small:"",color:"success"},on:{click:function(e){return t.viewPage(a)}}},[t._v(" mdi-eye ")]),e(v["a"],{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(a.id)}}},[t._v(" mdi-trash-can ")])]}}],null,!0)}),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()],e("ModalDelete",[[e(p["a"],[e(_["a"]),e(h["a"],{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v(" Cancel ")]),e(h["a"],{attrs:{color:"blue darken-1",text:"",loading:t.loading,disabled:t.loading},on:{click:t.deleteItemConfirm}},[t._v(" OK ")]),e(_["a"])],1)]],2)],2)},w=[],y={data(){return{data:[],itemId:"",loading:!1,server_errors:{},offset:12,pagination:{},per_page:100,header:[{text:"ຊື່",value:"name"},{text:"Phone",value:"phone"},{text:"Email",value:"email"},{text:"ຜູ້ຮັບຜິດຊອບ",value:"coordinator"},{text:"Status",value:"status"},{text:"Image",value:"image"},{text:"Created",value:"created_at"},{text:"",value:"action"}]}},watch:{},created(){this.fetchData()},methods:{deleteItem(t){this.itemId=t,this.$store.commit("modalDelete_State",!0)},closeDelete(){this.$store.commit("modalDelete_State",!1)},deleteItemConfirm(){this.$store.commit("Loading_State",!0),this.$axios.delete("request-company/"+this.itemId).then(t=>{200==t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.closeDelete(),this.$store.commit("Toast_State",{value:!0,color:"success",msg:t.data.message}),this.fetchData()},100)}).catch(()=>{this.$store.commit("modalDelete_State",!1),this.$store.commit("Loading_State",!1)})},fetchData(){this.$store.commit("Loading_State",!0),this.$axios.get("request-company",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:["success"]}}).then(t=>{200==t.data.code&&(this.$store.commit("Loading_State",!1),this.data=t.data.data.data,this.pagination=t.data.data.pagination)}).catch(t=>{if(this.$store.commit("Loading_State",!1),422==t.respones.status){const e=t.respones.data.errors;for(const[t,a]of Object.entries(e))this.server_errors[t]=a[0]}})},viewPage(t){this.$openRoute({name:"ViewCompanyRequest",params:{id:t.id,status:t.status}})}}},S=y,$=a("d22c"),k=Object($["a"])(S,b,w,!1,null,null,null),x=k.exports,C=a("f07a"),T=a("7e78"),D=a("fcaa"),I=a("292f"),q=a("8619"),L=function(){var t=this,e=t._self._c;return e(n["a"],[e(g["a"],{attrs:{headers:t.header,items:t.data,"hide-default-footer":""},scopedSlots:t._u([{key:"item.media",fn:function({item:a}){return t._l(a.media,(function(a,i){return e(C["a"],{key:i,staticClass:"mr-1",attrs:{size:"36px"}},[a.url?e("img",{attrs:{src:a.url}}):t._e()])}))}},{key:"item.created_at",fn:function({item:a}){return[e("div",[t._v(t._s(t.moment(a.created_at).format("DD-MM-YY hh:mm")))])]}},{key:"item.coordinator",fn:function({item:a}){return[e("div",[t._v(t._s(a.coordinator_name)+" "+t._s(a.coordinator_surname))])]}},{key:"item.status",fn:function({item:a}){return[e(f["a"],{attrs:{color:"primary",label:""}},[t._v(" "+t._s(a.status)+" ")])]}},{key:"item.action",fn:function({item:a}){return[e(q["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(v["a"],t._g(t._b({staticClass:"mr-2",attrs:{color:"primary",dark:"",medium:""}},"v-icon",i,!1),a),[t._v(" mdi-dots-vertical ")])]}}],null,!0)},[e(T["a"],[e(D["a"],{attrs:{link:""},on:{click:function(e){return t.viewPage(a)}}},[e(I["d"],[e(v["a"],{staticClass:"mr-2",attrs:{small:""}},[t._v(" mdi-eye ")]),t._v(" ລາຍລະອຽດ ")],1)],1),e(D["a"],{attrs:{link:""},on:{click:function(e){return t.makeSuccess(a)}}},[e(I["d"],[e(v["a"],{staticClass:"mr-2",attrs:{small:""}},[t._v(" mdi-pencil ")]),t._v(" Make Success ")],1)],1),e(D["a"],{attrs:{link:""},on:{click:function(e){return t.deleteItem(a.id)}}},[e(I["d"],[e(v["a"],{attrs:{small:""}},[t._v(" mdi-delete ")]),t._v(" ລຶບ ")],1)],1)],1)],1)]}}],null,!0)}),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()],e("ModalDelete",[[e(p["a"],[e(_["a"]),e(h["a"],{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v(" Cancel ")]),e(h["a"],{attrs:{color:"blue darken-1",text:"",loading:t.loading,disabled:t.loading},on:{click:t.deleteItemConfirm}},[t._v(" OK ")]),e(_["a"])],1)]],2)],2)},P=[],O={data(){return{data:[],itemId:"",loading:!1,server_errors:{},offset:12,pagination:{},per_page:100,header:[{text:"ຊື່",value:"name"},{text:"Phone",value:"phone"},{text:"Email",value:"email"},{text:"ຜູ້ຮັບຜິດຊອບ",value:"coordinator"},{text:"Status",value:"status"},{text:"Image",value:"media"},{text:"Created",value:"created_at"},{text:"",value:"action"}]}},watch:{},created(){this.fetchData()},methods:{deleteItem(t){this.itemId=t,this.$store.commit("modalDelete_State",!0)},closeDelete(){this.$store.commit("modalDelete_State",!1)},deleteItemConfirm(){this.$store.commit("Loading_State",!0),this.$axios.delete("request-company/"+this.itemId).then(t=>{200==t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.closeDelete(),this.$store.commit("Toast_State",{value:!0,color:"success",msg:t.data.message}),this.fetchData()},100)}).catch(()=>{this.$store.commit("modalDelete_State",!1),this.$store.commit("Loading_State",!1)})},fetchData(){this.$store.commit("Loading_State",!0),this.$axios.get("request-company",{params:{page:this.pagination.current_page,per_page:this.per_page,statuses:["pending"]}}).then(t=>{200==t.data.code&&(this.$store.commit("Loading_State",!1),this.data=t.data.data.data,this.pagination=t.data.data.pagination)}).catch(t=>{if(this.$store.commit("Loading_State",!1),422==t.respones.status){const e=t.respones.data.errors;for(const[t,a]of Object.entries(e))this.server_errors[t]=a[0]}})},makeSuccess(t){this.$store.commit("Loading_State",!0),this.$axios.post("request-company-status/"+t.id,{status:"success"}).then(t=>{200==t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.$store.commit("Toast_State",{value:!0,color:"success",msg:t.data.message}),this.fetchData()},100)}).catch(()=>{this.$store.commit("modalDelete_State",!1),this.$store.commit("Loading_State",!1)})},viewPage(t){this.$openRoute({name:"ViewCompanyRequest",params:{id:t.id,status:t.status}})}}},j=O,G=Object($["a"])(j,L,P,!1,null,null,null),R=G.exports,A={title(){return"Vientiane Waste Co-Dev|Company Request"},components:{Success:x,Pending:R},data(){return{tab:null}},watch:{tab(t){"tab-1"==t?this.$router.push({name:"CompanyRequest",query:{tab:"company-request-pending"}}).catch(()=>{}):"tab-2"==t&&this.$router.push({name:"CompanyRequest",query:{tab:"company-request-success"}}).catch(()=>{})}},created(){"company-request-pending"==this.$route.query.tab?this.tab="tab-1":"company-request-success"==this.$route.query.tab&&(this.tab="tab-2")}},B=A,E=(a("bf00"),Object($["a"])(B,u,m,!1,null,null,null));e["default"]=E.exports}}]);
//# sourceMappingURL=chunk-2c6b45dc.49baabfe.js.map