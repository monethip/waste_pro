{"version":3,"sources":["webpack:///./src/views/auth/Login.vue","webpack:///src/views/auth/Login.vue","webpack:///./src/views/auth/Login.vue?98ce","webpack:///./src/views/auth/Login.vue?59f1","webpack:///../../../src/components/VForm/VForm.ts","webpack:///./src/views/auth/Login.vue?dff9"],"names":["staticClass","staticStyle","attrs","_c","_vm","ref","value","callback","$set","expression","show","$event","submitLogin","user","on","staticRenderFns","name","title","data","loading","credentialRules","v","passwordRules","length","User","toast","color","msg","toast_error","methods","$refs","form","validate","$store","commit","dispatch","error","errors","computed","mapGetters","created","component","mixins","BindsAttrs","RegistrableProvide","extend","provide","this","inheritAttrs","props","disabled","Boolean","lazyValidation","readonly","inputs","watchers","errorBag","watch","handler","val","Object","values","includes","$emit","deep","immediate","watchInput","input","watcher","$watch","_uid","valid","shouldValidate","hasOwnProperty","filter","reset","forEach","resetErrorBag","setTimeout","resetValidation","register","push","unregister","found","find","i","unwatch","$delete","render","h","novalidate","attrs$","submit","e","$slots","default"],"mappings":"gQAAwK,W,IAAM,EAAK,K,EAAK,EAAK,S,OAAI,oBAAE,MAAK,CAAUA,MAAW,SAAeC,QAAY,W,CAAkB,SAAQ,CAAO,MAAC,CAACC,KAAM,KAAC,QAAiB,UAAsBF,UAAW,CAAe,YAAY,cAAEE,YAAM,CAAC,QAAU,OAAQ,eAAgBA,MAAM,CAAC,YAAU,QAAW,CAACC,EAAG,OAAQ,CAACH,YAAY,eAAOE,GAAK,OAAC,C,MAAM,CAAwC,mB,CAAqC,SAAM,CAAM,OAAI,QAAQC,WAAoE,CAACC,EAAG,OAAI,CAAiDC,YAAU,OAACH,MAAM,CAAC,cAAoB,mBAAIC,YAAG,MAAgBD,IAAM,WAAqB,SAAa,KAAG,C,YAAC,+C,CAAmC,KAAM,oCAAG,U,IAAC,O,MAAc,CAA4B,uB,CAAQI,SAAe,C,MAAaC,C,MAA6BC,YAAiC,cAAC,GAACC,qBAAW,cAAiB,QAAIN,KAAG,OAAgBD,MAAM,mB,MAA2B,CAAU,MAAO,EAAC,gBAAY,kBAAoB,GAAY,EAAM,KAAI,EAACQ,KAAO,aAAS,IAA8D,gCAAK,SAAc,C,MAAqB,CAAiB,MAAC,gBAAC,KAAO,G,MAAsBC,Y,qBAAwGC,WAAkC,8BAAE,8C,GAAQN,CAA0BC,eAAS,SAAe,GAACH,EAAII,MAAQ,EAACK,MAAwBJ,eAAW,GAAe,4EAAW,sCAAuET,OAA4BG,MAAG,EAAO,KAAC,SAACH,SAAW,SAAC,GAAkBE,EAAM,2BAAY,WAAUE,mBAAmC,OAACU,YAAG,U,CAAC,KAAO,IAAKF,+BAAW,2BAAG,CAACR,EAAG,OAAI,CAC9yD,8BACGW,OAEJ,MAAe,G,6IC8EA,GACfC,KAAA,QACAC,QACA,sCAEAC,OACA,OACAC,SAAA,EACAT,MAAA,EAEAU,gBAAA,CAAAC,QAAA,sBACAC,cAAA,CACAD,QAAA,uBACAA,QAAAE,QAAA,8CAEAV,KAAA,IAAAW,OACAC,MAAA,CACAnB,OAAA,EACAoB,MAAA,UACAC,IAAA,iBAEAC,YAAA,CACAtB,OAAA,EACAoB,MAAA,QACAC,IAAA,2BAKAE,QAAA,CACA,oBACA,aAAAC,MAAAC,KAAAC,WACA,IACA,KAAAC,OAAAC,OAAA,0BACA,KAAAD,OAAAE,SAAA,kBAAAtB,MACA,MAAAuB,GACA,KAAAH,OAAAC,OAAA,mBAAAG,QACA,QACA,KAAAJ,OAAAC,OAAA,uBAKAI,SAAA,IACAC,eAAA,CACAF,OAAA,wBAGAG,aClI4rB,I,wBCQxrBC,EAAY,eACd,EACA,EACA1B,GACA,EACA,KACA,KACA,MAIa,aAAA0B,E,+FCCAC,sBACbC,OACAC,eAAmB,SAEnBC,OAAO,CACP7B,KAAM,SAEN8B,UACE,MAAO,CAAEf,KAAMgB,OAGjBC,cAAc,EAEdC,MAAO,CACLC,SAAUC,QACVC,eAAgBD,QAChBE,SAAUF,QACV7C,MAAO6C,SAGTjC,KAAMA,KAAA,CACJoC,OAAQ,GACRC,SAAU,GACVC,SAAU,KAGZC,MAAO,CACLD,SAAU,CACRE,QAASC,GACP,MAAMtB,EAASuB,OAAOC,OAAOF,GAAKG,UAAS,GAE3Cf,KAAKgB,MAAM,SAAU1B,IAEvB2B,MAAM,EACNC,WAAW,IAIfpC,QAAS,CACPqC,WAAYC,GACV,MAAMC,EAAWD,GACRA,EAAME,OAAO,WAAaV,IAC/BZ,KAAKvC,KAAKuC,KAAKS,SAAUW,EAAMG,KAAMX,IACpC,CAAEM,WAAW,IAGZV,EAAqB,CACzBe,KAAMH,EAAMG,KACZC,MAAOA,OACPC,eAAgBA,QAiBlB,OAdIzB,KAAKK,eAEPG,EAASiB,eAAiBL,EAAME,OAAO,iBAAmBV,IACnDA,IAGDZ,KAAKS,SAASiB,eAAeN,EAAMG,QAEvCf,EAASgB,MAAQH,EAAQD,OAG3BZ,EAASgB,MAAQH,EAAQD,GAGpBZ,GAGTvB,WACE,OAAqE,IAA9De,KAAKO,OAAOoB,OAAOP,IAAUA,EAAMnC,UAAS,IAAOT,QAG5DoD,QACE5B,KAAKO,OAAOsB,QAAQT,GAASA,EAAMQ,SACnC5B,KAAK8B,iBAEPA,gBACM9B,KAAKK,gBAEP0B,WAAW,KACT/B,KAAKS,SAAW,IACf,IAIPuB,kBACEhC,KAAKO,OAAOsB,QAAQT,GAASA,EAAMY,mBACnChC,KAAK8B,iBAEPG,SAAUb,GACRpB,KAAKO,OAAO2B,KAAKd,GACjBpB,KAAKQ,SAAS0B,KAAKlC,KAAKmB,WAAWC,KAErCe,WAAYf,GACV,MAAMgB,EAAQpC,KAAKO,OAAO8B,KAAKC,GAAKA,EAAEf,OAASH,EAAMG,MAErD,IAAKa,EAAO,OAEZ,MAAMG,EAAUvC,KAAKQ,SAAS6B,KAAKC,GAAKA,EAAEf,OAASa,EAAMb,MACrDgB,IACFA,EAAQf,QACRe,EAAQd,kBAGVzB,KAAKQ,SAAWR,KAAKQ,SAASmB,OAAOW,GAAKA,EAAEf,OAASa,EAAMb,MAC3DvB,KAAKO,OAASP,KAAKO,OAAOoB,OAAOW,GAAKA,EAAEf,OAASa,EAAMb,MACvDvB,KAAKwC,QAAQxC,KAAKS,SAAU2B,EAAMb,QAItCkB,OAAQC,GACN,OAAOA,EAAE,OAAQ,CACfzF,YAAa,SACbE,MAAO,CACLwF,YAAY,KACT3C,KAAK4C,QAEV7E,GAAI,CACF8E,OAASC,GAAa9C,KAAKgB,MAAM,SAAU8B,KAE5C9C,KAAK+C,OAAOC,a,oCC7InB","file":"js/chunk-933ae9ca.a692d1b4.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-card',{staticClass:\"elevation-1\",staticStyle:{\"display\":\"flex\",\"margin\":\"auto\"},attrs:{\"max-width\":\"600\"}},[_c('v-card-text',{staticClass:\"py-16 px-16\"},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"justify\":\"center\"}},[_c('v-img',{staticClass:\"logo\",attrs:{\"src\":require(\"@/assets/logo-finalized.png\"),\"max-height\":\"150\",\"max-width\":\"250\",\"alt\":\"Logo\"}})],1)],1),_c('h3',{staticClass:\"text-center display-5 black--text mb-8 mt-4\"},[_vm._v(\" Login to Vientaine Waste Pro \")]),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"User name\",\"single-line\":\"\",\"prepend-inner-icon\":\"mdi-account\",\"solo\":\"\",\"type\":\"text\",\"rules\":_vm.credentialRules},model:{value:(_vm.user.credential),callback:function ($$v) {_vm.$set(_vm.user, \"credential\", $$v)},expression:\"user.credential\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.passwordRules,\"solo\":\"\",\"label\":\"ລະຫັດຜ່ານ\",\"prepend-inner-icon\":\"mdi-lock\",\"type\":_vm.show ? 'text' : 'password',\"append-icon\":_vm.show ? 'mdi-eye' : 'mdi-eye-off'},on:{\"click:append\":function($event){_vm.show = !_vm.show},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submitLogin.apply(null, arguments)}},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('p',{staticClass:\"errors\"},[_vm._v(\" \"+_vm._s(_vm.errors)+\" \")]),_c('div',{staticClass:\"text-center\"},[_c('v-btn',{staticClass:\"login mt-6 py-6\",attrs:{\"block\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.submitLogin}},[_vm._v(\" Login \")])],1)],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row\n      align=\"center\"\n      justify=\"center\"\n    >\n      <v-col\n        cols=\"12\"\n        sm=\"12\"\n        md=\"12\"\n      >\n        <v-card\n          class=\"elevation-1\"\n          max-width=\"600\"\n          style=\"    display: flex;\n    margin: auto;\"\n        >\n          <v-card-text class=\"py-16 px-16\">\n            <v-row justify=\"center\">\n              <v-col justify=\"center\">\n                <v-img\n                  src=\"@/assets/logo-finalized.png\"\n                  max-height=\"150\"\n                  max-width=\"250\"\n                  alt=\"Logo\"\n                  class=\"logo\"\n                />\n              </v-col>\n            </v-row>\n            <h3 class=\"text-center display-5 black--text mb-8 mt-4\">\n              Login to Vientaine Waste Pro\n            </h3>\n            <v-form\n              ref=\"form\"\n              lazy-validation\n            >\n              <v-text-field\n                v-model=\"user.credential\"\n                label=\"User name\"\n                single-line\n                prepend-inner-icon=\"mdi-account\"\n                solo\n                type=\"text\"\n                :rules=\"credentialRules\"\n              />\n              <v-text-field\n                v-model=\"user.password\"\n                :rules=\"passwordRules\"\n                solo\n                label=\"ລະຫັດຜ່ານ\"\n                prepend-inner-icon=\"mdi-lock\"\n                :type=\"show ? 'text' : 'password'\"\n                :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n                @click:append=\"show = !show\"\n                @keyup.enter=\"submitLogin\"\n              />\n              <p class=\"errors\">\n                {{ errors }}\n              </p>\n              <div class=\"text-center\">\n                <v-btn\n                  block\n                  class=\"login mt-6 py-6\"\n                  :loading=\"loading\"\n                  :disabled=\"loading\"\n                  @click=\"submitLogin\"\n                >\n                  Login\n                </v-btn>\n              </div>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport User from '@/store/models/User';\n\nexport default {\n  name: 'Login',\n  title() {\n    return `Vientiane Waste Co-Dev|Login`;\n  },\n  data() {\n    return {\n      loading: false,\n      show: false,\n      // user: {},\n      credentialRules: [(v) => !!v || 'User name required'],\n      passwordRules: [\n        (v) => !!v || 'Password is required',\n        (v) => (v && v.length >= 8) || 'Password must be more than 8 characters',\n      ],\n      user: new User(),\n      toast: {\n        value: true,\n        color: 'success',\n        msg: 'Login Success',\n      },\n      toast_error: {\n        value: true,\n        color: 'error',\n        msg: 'Something when wrong!',\n      },\n    };\n  },\n\n  methods: {\n    async submitLogin() {\n      if (this.$refs.form.validate() === true) {\n        try {\n          this.$store.commit('Loading_State', true);\n          await this.$store.dispatch('auth/login', this.user);\n        } catch (error) {\n          this.$store.commit('Toast_State', this.errors);\n        } finally {\n          this.$store.commit('Loading_State', false);\n        }\n      }\n    },\n  },\n  computed: {\n    ...mapGetters({\n      errors: 'auth/ShowMsgErrors',\n    }),\n  },\n  created() {\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../public/scss/main.scss\";\n.login {\n  background-color: $primary-color !important;\n  color: white !important;\n  font-size: 18px !important;\n}\n.v-text-field.v-text-field--solo:not(.v-text-field--solo-flat)\n  > .v-input__control\n  > .v-input__slot {\n  box-shadow: 0px -2px 0px -10px rgb(0 0 0 / 20%),\n    0px 2px 3px 0px rgb(0 0 0 / 14%), 1px 1px 2px 1px rgb(0 0 0 / 12%) !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.22.9_webpack@4.46.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.22.9_webpack@4.46.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=075263f2&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=075263f2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","export * from \"-!../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.1/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.pnpm/sass-loader@10.4.1_sass@1.32.13_webpack@5.88.1/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=075263f2&prod&lang=scss&\""],"sourceRoot":""}