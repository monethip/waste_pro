(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02839cbb"],{"1f4f":function(t,e,a){"use strict";var n=a("5530"),s=(a("a9e3"),a("8b37"),a("80d2")),i=a("7560"),r=a("58df");e["a"]=Object(r["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"22aa":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(t){switch(t){case"created":case"ລໍຖ້າອະນຸມັດ":return"#73b8fd";case"approved":case"ອະນຸມັດແລ້ວ":return"#0080fc";case"canceled":case"ບິນຖືກຍົກເລີກ":return"#eb004c";case"rejected":case"ການຈ່າຍຖືກປະຕິເສດ":return"#740127";case"to_confirm_payment":case"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ":return"#9c540d";case"success":case"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ":return"#02a38a"}},s=function(t){switch(t){case"created":return"ລໍຖ້າອະນຸມັດ";case"approved":return"ອະນຸມັດແລ້ວ";case"canceled":return"ບິນຖືກຍົກເລີກ";case"rejected":return"ການຈ່າຍຖືກປະຕິເສດ";case"to_confirm_payment":return"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ";case"success":return"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ";case"cash":return"ຊຳລະເງິນສົດ";case"bcel":return"BCEL"}}},3384:function(t,e,a){},"3f6f":function(t,e,a){"use strict";a("3384")},"4fad":function(t,e,a){var n=a("23e7"),s=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return s(t)}})},"8adc":function(t,e,a){},"8b37":function(t,e,a){},ac34:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t._v(" ຄົ້ນຫາ "),a("v-row",[a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"ເລີ່ມວັນທີ",readonly:"",outlined:"",dense:""},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}},"v-text-field",s,!1),n))]}}]),model:{value:t.start_menu,callback:function(e){t.start_menu=e},expression:"start_menu"}},[a("v-date-picker",{on:{input:function(e){return t.fetchData()}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"ຫາວັນທີ",readonly:"",outlined:"",dense:""},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}},"v-text-field",s,!1),n))]}}]),model:{value:t.end_menu,callback:function(e){t.end_menu=e},expression:"end_menu"}},[a("v-date-picker",{on:{input:function(e){return t.fetchData()}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1),a("span",{staticClass:"text-subtitle-1 mt-2"},[t._v("ທີ່ລູກຄ້າຈ່າຍແລ້ວ")]),a("RowSection",{attrs:{cards:t.sectionSuccess}}),a("span",{staticClass:"text-subtitle-1 mt-2"},[t._v("ທີ່ລູກຄ້າຍັງບໍ່ທັນຈ່າຍ")]),a("RowSection",{attrs:{cards:t.sectionPending}}),a("v-row",[a("v-col",[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v("ປະເພດບິນ")]),t._l(t.detailStatuses,(function(e){return a("th",{key:e.text,staticClass:"text-left"},[a("v-chip",{attrs:{color:t.getBgColorFunc(e.text),dark:""}},[t._v(t._s(e.text))])],1)}))],2)]),a("tbody",t._l(t.summaryDetails,(function(e){return a("tr",{key:e.billing_type},[a("td",[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.billing_type))]),a("span",{staticClass:"font-weight-medium text-caption"},[t._v(t._s(" ("+t.formatNumber(e.count_billing)+" ບິນ)"))])]),t._l(t.detailStatuses,(function(n){return a("td",{key:n.text},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatNumber(e[n.text].total)))]),a("span",{staticClass:"font-weight-medium text-caption"},[t._v(t._s(" ("+t.formatNumber(e[n.text].count_billing)+" ບິນ)"))])])}))],2)})),0)]},proxy:!0}])})],1)],1)],1)},s=[],i=a("2909"),r=a("b85c"),o=a("3835"),c=(a("4fad"),a("7db0"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",t._l(t.cards,(function(t,e){return a("v-col",{key:e},[a("MoneyCard",{attrs:{title:t.status_la,total:t.total,billing_count:t.count_billing,bg_color:t.bg_color}})],1)})),1)}),l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{outlined:""}},[a("v-card-title",{staticClass:"d-flex justify-between w-full",staticStyle:{position:"relative"}},[a("v-chip",{staticClass:"text-caption",attrs:{color:t.bg_color,dark:""}},[t._v(t._s(t.title))]),a("v-chip",{staticStyle:{position:"absolute",right:"10px"},attrs:{color:t.bg_color,outlined:""}},[t._v(t._s(t.formatNumber(t.billing_count))+" ບິນ")])],1),a("v-card-text",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formatNumber(t.total))+" K")])])],1)},d=[];a("ac1f"),a("5319"),a("d3b7"),a("25f0");function h(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var f={props:["title","billing_count","total","bg_color"],data:function(){return{}},methods:{formatNumber:function(t){return h(t)},getColor:function(t){return"background-color: "+t}}},p=f,b=a("2877"),v=a("6544"),m=a.n(v),_=a("b0af"),g=a("99d9"),C=a("cc20"),y=Object(b["a"])(p,u,d,!1,null,null,null),x=y.exports;m()(y,{VCard:_["a"],VCardText:g["b"],VCardTitle:g["c"],VChip:C["a"]});var S={props:["cards"],components:{MoneyCard:x},data:function(){return{}}},k=S,j=a("62ad"),w=a("0fd9"),O=Object(b["a"])(k,c,l,!1,null,null,null),$=O.exports;m()(O,{VCol:j["a"],VRow:w["a"]});var B=a("22aa"),V={name:"ReportBillingType",title:function(){return"Vientiane Waste Co-Dev|Report Invoice"},components:{RowSection:$},data:function(){return{loading:!1,start_date:"",end_date:"",start_menu:!1,end_menu:!1,billings:{summary:{count_billing:0,total:[]},details:[]}}},methods:{fetchData:function(){var t=this;this.start_menu=!1,this.end_menu=!1,this.$store.commit("Loading_State",!0),this.$axios.get("v2/report-billing-by-type",{params:{start_date:this.start_date,end_date:this.end_date}}).then((function(e){200==e.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.billings=e.data.data}),300)})).catch((function(e){if(t.$store.commit("Loading_State",!1),422==e.response.status)for(var a=e.response.data.errors,n=0,s=Object.entries(a);n<s.length;n++){var i=Object(o["a"])(s[n],2),r=i[0],c=i[1];t.server_errors[r]=c[0]}}))},getCard:function(t){var e=this.billings.summary.total.find((function(e){return e.status==t}));return e&&(e.bg_color=Object(B["a"])(e.status)),e||this.defaultStatus},getBgColorFunc:function(t){return Object(B["a"])(t)},formatNumber:function(t){return h(t)}},watch:{},computed:{summaryDetails:function(){var t,e=[],a=Object(r["a"])(this.billings.details);try{for(a.s();!(t=a.n()).done;){var n,s=t.value,i={billing_type:s.billingable_type_la,count_billing:s.count_billing},o=Object(r["a"])(s.total);try{for(o.s();!(n=o.n()).done;){var c=n.value;i[c.status_la]={count_billing:c.count_billing,total:c.total}}}catch(l){o.e(l)}finally{o.f()}e.push(i)}}catch(l){a.e(l)}finally{a.f()}return e},detailStatuses:function(){var t=[];if(this.summaryDetails.length>0)for(var e=0,a=Object.entries(this.summaryDetails[0]);e<a.length;e++){var n=Object(o["a"])(a[e],2),s=n[0],i=n[1];void 0!==i.count_billing&&t.push({text:s,value:s+".total"})}return t},headers:function(){var t=[{text:"ປະເພດບິນ",align:"start",value:"billing_type"}];return this.detailStatuses.length>0&&(t=[t].concat(Object(i["a"])(this.detailStatuses))),t},defaultStatus:function(){return{status:"",status_la:"",total:0,count_billing:0,bg_color:""}},sectionSuccess:function(){return[this.successStatus,this.toConfirmPaymentStatus,this.rejectedStatus]},sectionPending:function(){return[this.approvedStatus,this.createdStatus]},successStatus:function(){return this.getCard("success")},createdStatus:function(){return this.getCard("created")},cancelStatus:function(){return this.getCard("cancel")},rejectedStatus:function(){return this.getCard("rejected")},toConfirmPaymentStatus:function(){return this.getCard("to_confirm_payment")},approvedStatus:function(){return this.getCard("approved")}},created:function(){this.fetchData()}},D=V,E=(a("3f6f"),a("a523")),L=a("2e4b"),N=a("e449"),R=a("1f4f"),P=a("8654"),T=Object(b["a"])(D,n,s,!1,null,null,null);e["default"]=T.exports;m()(T,{VChip:C["a"],VCol:j["a"],VContainer:E["a"],VDatePicker:L["a"],VMenu:N["a"],VRow:w["a"],VSimpleTable:R["a"],VTextField:P["a"]})},afdd:function(t,e,a){"use strict";var n=a("8336");e["a"]=n["a"]},cc20:function(t,e,a){"use strict";var n=a("3835"),s=a("5530"),i=(a("4de4"),a("8adc"),a("58df")),r=a("0789"),o=a("9d26"),c=a("a9ad"),l=a("4e82"),u=a("7560"),d=a("f2e7"),h=a("1c87"),f=a("af2b"),p=a("d9bd");e["a"]=Object(i["a"])(c["a"],f["a"],h["a"],u["a"],Object(l["a"])("chipGroup"),Object(d["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({"v-chip":!0},h["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(h["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var a=Object(n["a"])(e,2),s=a[0],i=a[1];t.$attrs.hasOwnProperty(s)&&Object(p["a"])(s,i,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(o["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(r["b"],t)},genClose:function(){var t=this;return this.$createElement(o["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],a=this.generateRouteLink(),n=a.tag,i=a.data;i.attrs=Object(s["a"])(Object(s["a"])({},i.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:i.attrs.tabindex}),i.directives.push({name:"show",value:this.active}),i=this.setBackgroundColor(this.color,i);var r=this.textColor||this.outlined&&this.color;return t(n,this.setTextColor(r,i),e)}})}}]);
//# sourceMappingURL=chunk-02839cbb.8b11e2ad.js.map