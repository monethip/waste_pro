(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fd53dae"],{"1e6c":function(t,e,a){"use strict";var i=a("9d65"),n=a("4e82"),o=a("c3f0"),s=a("80d2"),r=a("58df"),c=Object(r["a"])(i["a"],Object(n["a"])("windowGroup","v-window-item","v-window"));e["a"]=c.extend().extend().extend({name:"v-window-item",directives:{Touch:o["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(s["g"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(t){var e=this;this.inTransition&&this.$nextTick((function(){e.computedTransition&&e.inTransition&&(e.windowGroup.transitionHeight=Object(s["g"])(t.clientHeight))}))}},render:function(t){var e=this;return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[e.genWindowItem()]})))}})},"61b1":function(t,e,a){},c671:function(t,e,a){"use strict";var i=a("1e6c");e["a"]=i["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=i["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},dc9f:function(t,e,a){"use strict";a("61b1")},e8ab:function(t,e,a){},ed46:function(t,e,a){"use strict";a("e8ab")},fc09:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{attrs:{elevation:"1"}},[a("v-card-text",[a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v("New")]),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("Read")])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("allnotification")],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-2"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("read")],1)],1)],1)],1)],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",[a("p",[t._v(" All Notification "),a("span",{staticClass:"primary-color"},[t._v("("+t._s(t.pagination.total)+")")])])])],1),a("div",[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.notifications,"disable-pagination":!0,"hide-default-footer":"","fixed-header":"",height:"100vh"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.viewPage(i.id)}}},[t._v(" mdi-eye ")])]}}])}),a("br"),[t.pagination.total_pages>1?a("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},s=[],r={name:"Customer",data:function(){return{loading:!1,offset:12,pagination:{},per_page:20,notifications:[],server_errors:{},selectedStatus:"unread",headers:[{text:"Title",value:"data.name"},{text:"Notification Type",value:"notifiable_type",sortable:!1,align:"center"},{text:"Type",value:"type",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0);var e={page:this.pagination.current_page,per_page:this.per_page,status:this.selectedStatus};this.notiType&&(e.types=this.notiType),this.$axios.get("notification",{params:e}).then((function(e){200==e.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.notifications=e.data.data.data,t.pagination=e.data.data.pagination}),300)})).catch((function(e){t.$store.commit("Loading_State",!1),e.response&&422==e.response.status&&t.$store.commit("Toast_State",{value:!0,color:"error",msg:e.response?e.response.data.message:"Something went wrong"})}))},viewPage:function(t){this.$router.push({name:"NotificationView",params:{id:t}})}},computed:{notiType:function(){return this.$route.query.types}},created:function(){this.fetchData()},watch:{notiType:function(){this.fetchData()}}},c=r,u=(a("dc9f"),a("2877")),d=a("6544"),l=a.n(d),f=a("b0af"),h=a("99d9"),p=a("62ad"),v=a("a523"),m=a("8fea"),b=a("132d"),g=a("0fd9"),w=Object(u["a"])(c,o,s,!1,null,null,null),T=w.exports;l()(w,{VCard:f["a"],VCardText:h["b"],VCol:p["a"],VContainer:v["a"],VDataTable:m["a"],VIcon:b["a"],VRow:g["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",[a("p",[t._v(" Read Notification "),a("span",{staticClass:"primary-color"},[t._v("("+t._s(t.pagination.total)+")")])])])],1),a("div",[a("v-card",{attrs:{elevation:"0"}},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.notifications,"disable-pagination":!0,"hide-default-footer":"","fixed-header":"",height:"100vh"},scopedSlots:t._u([{key:"item.read_at",fn:function(e){var i=e.item;return[a("v-chip",{attrs:{color:"success"}},[t._v(t._s(t.moment(i.read_at).format("mm:hh / DD-MM-YY")))])]}},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.viewPage(i.id)}}},[t._v(" mdi-eye ")])]}}])}),a("br"),[t.pagination.total_pages>1?a("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},_=[],x={name:"Notification",data:function(){return{loading:!1,offset:12,pagination:{},per_page:20,notifications:[],notiType:this.$route.query.types,server_errors:{},selectedStatus:"read",headers:[{text:"Title",value:"data.name"},{text:"Read",value:"read_at",sortable:!1,align:"center"},{text:"Notification Type",value:"notifiable_type",sortable:!1,align:"center"},{text:"Type",value:"type",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0);var e={page:this.pagination.current_page,per_page:this.per_page,status:this.selectedStatus};this.notiType&&(e.types=this.notiType),this.$axios.get("notification/",{params:e}).then((function(e){200==e.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.notifications=e.data.data.data,t.pagination=e.data.data.pagination}),300)})).catch((function(e){t.$store.commit("Loading_State",!1),e.response&&422==e.response.status&&t.$store.commit("Toast_State",{value:!0,color:"error",msg:e.response?e.response.data.message:"Something went wrong"})}))},viewPage:function(t){this.$router.push({name:"NotificationView",params:{id:t}})},readStatus:function(t){return"created"==t?(this.invoiceStatusColor="primary--text","ສ້າງບິນສຳເລັດ"):"approved"==t?(this.invoiceStatusColor="info--text","ອະນຸມັດແລ້ວ"):void 0}},watch:{notiType:function(){this.fetchData()}},created:function(){this.fetchData()}},C=x,$=(a("ed46"),a("cc20")),S=Object(u["a"])(C,y,_,!1,null,null,null),V=S.exports;l()(S,{VCard:f["a"],VCardText:h["b"],VChip:$["a"],VCol:p["a"],VDataTable:m["a"],VIcon:b["a"],VRow:g["a"]});var D={title:function(){return"Vientiane Waste Co-Dev|Notification"},components:{allnotification:T,read:V},data:function(){return{tab:null}},created:function(){"notification-all"==this.$route.query.tab?this.tab="tab-1":"notification-read"==this.$route.query.tab&&(this.tab="tab-2")},watch:{tab:function(t){"tab-1"==t?this.$router.push({name:"NotificationTab",query:{tab:"notification-all",types:this.$route.query.types?this.$route.query.types:null}}).catch((function(){})):"tab-2"==t&&this.$router.push({name:"NotificationTab",query:{tab:"notification-read",types:this.$route.query.types?this.$route.query.types:null}}).catch((function(){}))}}},k=D,G=a("71a3"),q=a("c671"),N=a("fe57"),P=a("aac8"),L=Object(u["a"])(k,i,n,!1,null,null,null);e["default"]=L.exports;l()(L,{VCard:f["a"],VCardText:h["b"],VContainer:v["a"],VTab:G["a"],VTabItem:q["a"],VTabs:N["a"],VTabsItems:P["a"]})}}]);
//# sourceMappingURL=chunk-6fd53dae.ab077184.js.map