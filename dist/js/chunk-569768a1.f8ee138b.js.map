{"version":3,"sources":["webpack:///../../../src/components/VDataTable/VSimpleTable.ts","webpack:///../../../src/components/VForm/VForm.ts","webpack:///./src/views/invoice/v2/InvoiceDetail.vue","webpack:///src/views/invoice/v2/InvoiceDetail.vue","webpack:///./src/views/invoice/v2/InvoiceDetail.vue?be6b","webpack:///./src/views/invoice/v2/InvoiceDetail.vue?9c22","webpack:///./src/views/invoice/v2/InvoiceDetail.vue?45f5"],"names":["mixins","Themeable","extend","name","props","dense","Boolean","fixedHeader","height","Number","String","computed","classes","this","$slots","top","bottom","themeClasses","methods","genWrapper","wrapper","$createElement","staticClass","style","convertToUnit","default","render","h","class","BindsAttrs","RegistrableProvide","provide","form","inheritAttrs","disabled","lazyValidation","readonly","value","data","inputs","watchers","errorBag","watch","handler","val","errors","Object","values","includes","$emit","deep","immediate","watchInput","input","watcher","$watch","$set","_uid","valid","shouldValidate","hasOwnProperty","validate","filter","length","reset","forEach","resetErrorBag","setTimeout","resetValidation","register","push","unregister","found","find","i","unwatch","$delete","attrs","novalidate","attrs$","on","submit","e","_c","_vm","invoiceStatusColor","_v","scopedSlots","invoice","key","index","$event","proxy","staticStyle","_s","Intl","NumberFormat","format","billing","discount","_e","loading","ref","model","callback","expression","closeAddModal","title","customerId","server_errors","status","id","total","formData","created","$route","params","fetchData","Download","link","window","open","download_pdf_link","backPrevios","$router","go","$store","commit","$axios","get","then","res","code","catch","error","response","obj","message","entries","invoiceStatus","EditInvoice","item","console","log","$refs","put","qty","quantity","price","color","msg","component","staticRenderFns"],"mappings":"kHAAA,kDAOeA,sBAAOC,QAAWC,OAAO,CACtCC,KAAM,iBAENC,MAAO,CACLC,MAAOC,QACPC,YAAaD,QACbE,OAAQ,CAACC,OAAQC,SAGnBC,SAAU,CACRC,UACE,MAAO,CACL,sBAAuBC,KAAKR,MAC5B,+BAAgCQ,KAAKL,SAAWK,KAAKN,YACrD,6BAA8BM,KAAKN,YACnC,0BAA2BM,KAAKC,OAAOC,IACvC,6BAA8BF,KAAKC,OAAOE,UACvCH,KAAKI,gBAKdC,QAAS,CACPC,aACE,OAAON,KAAKC,OAAOM,SAAWP,KAAKQ,eAAe,MAAO,CACvDC,YAAa,wBACbC,MAAO,CACLf,OAAQgB,eAAcX,KAAKL,UAE5B,CACDK,KAAKQ,eAAe,QAASR,KAAKC,OAAOW,aAK/CC,OAAQC,GACN,OAAOA,EAAE,MAAO,CACdL,YAAa,eACbM,MAAOf,KAAKD,SACX,CACDC,KAAKC,OAAOC,IACZF,KAAKM,aACLN,KAAKC,OAAOE,a,sFC7BHhB,sBACb6B,OACAC,eAAmB,SAEnB5B,OAAO,CACPC,KAAM,SAEN4B,UACE,MAAO,CAAEC,KAAMnB,OAGjBoB,cAAc,EAEd7B,MAAO,CACL8B,SAAU5B,QACV6B,eAAgB7B,QAChB8B,SAAU9B,QACV+B,MAAO/B,SAGTgC,KAAMA,KAAA,CACJC,OAAQ,GACRC,SAAU,GACVC,SAAU,KAGZC,MAAO,CACLD,SAAU,CACRE,QAASC,GACP,MAAMC,EAASC,OAAOC,OAAOH,GAAKI,UAAS,GAE3CnC,KAAKoC,MAAM,SAAUJ,IAEvBK,MAAM,EACNC,WAAW,IAIfjC,QAAS,CACPkC,WAAYC,GACV,MAAMC,EAAWD,GACRA,EAAME,OAAO,WAAaX,IAC/B/B,KAAK2C,KAAK3C,KAAK4B,SAAUY,EAAMI,KAAMb,IACpC,CAAEO,WAAW,IAGZX,EAAqB,CACzBiB,KAAMJ,EAAMI,KACZC,MAAOA,OACPC,eAAgBA,QAiBlB,OAdI9C,KAAKsB,eAEPK,EAASmB,eAAiBN,EAAME,OAAO,iBAAmBX,IACnDA,IAGD/B,KAAK4B,SAASmB,eAAeP,EAAMI,QAEvCjB,EAASkB,MAAQJ,EAAQD,OAG3Bb,EAASkB,MAAQJ,EAAQD,GAGpBb,GAGTqB,WACE,OAAqE,IAA9DhD,KAAK0B,OAAOuB,OAAOT,IAAUA,EAAMQ,UAAS,IAAOE,QAG5DC,QACEnD,KAAK0B,OAAO0B,QAAQZ,GAASA,EAAMW,SACnCnD,KAAKqD,iBAEPA,gBACMrD,KAAKsB,gBAEPgC,WAAW,KACTtD,KAAK4B,SAAW,IACf,IAIP2B,kBACEvD,KAAK0B,OAAO0B,QAAQZ,GAASA,EAAMe,mBACnCvD,KAAKqD,iBAEPG,SAAUhB,GACRxC,KAAK0B,OAAO+B,KAAKjB,GACjBxC,KAAK2B,SAAS8B,KAAKzD,KAAKuC,WAAWC,KAErCkB,WAAYlB,GACV,MAAMmB,EAAQ3D,KAAK0B,OAAOkC,KAAKC,GAAKA,EAAEjB,OAASJ,EAAMI,MAErD,IAAKe,EAAO,OAEZ,MAAMG,EAAU9D,KAAK2B,SAASiC,KAAKC,GAAKA,EAAEjB,OAASe,EAAMf,MACrDkB,IACFA,EAAQjB,QACRiB,EAAQhB,kBAGV9C,KAAK2B,SAAW3B,KAAK2B,SAASsB,OAAOY,GAAKA,EAAEjB,OAASe,EAAMf,MAC3D5C,KAAK0B,OAAS1B,KAAK0B,OAAOuB,OAAOY,GAAKA,EAAEjB,OAASe,EAAMf,MACvD5C,KAAK+D,QAAQ/D,KAAK4B,SAAU+B,EAAMf,QAItC/B,OAAQC,GACN,OAAOA,EAAE,OAAQ,CACfL,YAAa,SACbuD,MAAO,CACLC,YAAY,KACTjE,KAAKkE,QAEVC,GAAI,CACFC,OAASC,GAAarE,KAAKoC,MAAM,SAAUiC,KAE5CrE,KAAKC,OAAOW,a,6MC7I+O,W,MAAkB,K,EAAwB,W,OAAC,oBAAE,YAAa,QAAkIH,UAAW,GAAC,QAAc,YAAY,OAAEA,OAAqB6D,MAAG,KAA6C,CAACC,EAAG,OAAI,CAA0ZxD,YAAUyD,eAAmB,MAAMC,CAMvrBhE,SAA2EA,IAA+B6D,MAAG,SAAgB,GAAEI,OAAW,EAACH,iB,GAAqC,OAAQD,GAAG,0BAA0B,oF,YAAC7D,e,GAAwB,OAAK,C,YAA0BA,Q,GAAwB,OAAK,CAACgE,EAAG,M,YAAuBhE,e,GAAwB,GAAE8D,oCAA+B,uU,MAAC9D,sB,GAAwB,GAAE8D,EAAIE,GAAG,gBAAkB,EAAI,QAAC,s8B,YAAChE,S,GAAwB,OAAK,CAACgE,EAAG,kBAAgB,GAAK,U,YAAChE,mB,EAAwB,OAAS,C,YAAqBA,EAAW,GAAC,E,IAAa,U,GAAuGA,WAAuB,MAAG8D,CAAG,EAAG,QAAKA,CAAG,EAAG,KAAM,GAAEA,KAAII,CAA8F,YAAU,a,CAAMC,EAAG,GAACC,qBAAK,YAAW,a,CAA4ZpE,mBAAkB,Q,YAAO,a,GAAC,mBAAiB,Q,YAAS,a,CAAE,EAAC,0B,YAAI,a,GAAC,gBAAiBqE,OAAO,C,YAAQP,a,GAAqB,uB,YAAC,aAAE,GAAEA,GAAIE,WAAG,EAAc,QAAKF,QAAU,sDAAE,YAAU,cAAI,sGAACQ,OAAM,QAAM,OAAO,QAAY,wVAACtE,YAAY,OAA0C,OAA8BA,MAAY,UAAqB,MAAS,IAAe,IAAmB,MAAc,YAAM,2BAAmB,qCAAU,GAAC,SAA4D,cAAuC,UAACuD,YAAM,uCAAC,SAAU,YAAC,yBAAG,CAACO,EAAG,KAAI,CAAG,EAACA,KAAM,CAAgGS,YAAY,CAAC,YAAY,OAAO,cAAc,OAAOhB,MAAM,CAAC,QAAU,IAAI,CAACO,EAAIE,GAAG,gBAAgB,EAAK,QAAQ,QAAQ,EAAI,KAAK,CAAEO,YAAY,CAAC,YAAY,OAAO,cAAc,OAAOhB,MAAM,CAAC,QAAU,IAAI,CAACO,EAAIE,GAAG,IAAIF,EAAIU,GAAGC,KAAKC,eAAeC,OAAOb,EAAII,QAAQU,QAAQC,YAAW,OAAOf,EAAIgB,OAAOjB,EAAG,KAAK,SAACU,YAAY,CAAC,YAAY,OAAM,qBAAaA,OAAa,QAAW,IAA4B,iDAAChB,YAAM,CAAC,YAAU,OAAC,qBAA4DgB,OAAa,QAAW,IAA4B,+FAAChB,YAAM,CAAC,YAAU,SAAI,CAACO,EAAG,KAAI,CAA6X,YAAU,CAAOK,YAAIC,OAAM,cAAW,O,MAAyB,C,QAAE,I,CAAiC,iDAAC,YAAI,CAAG,YAAW,OAA0BpE,cAAY,OAA+GuD,MAAM,CAAC,QAAQ,I,CAAiB,SAAUO,EAAIiB,QAAO,kU,OAAC,QAAc,CAAS,OAAG,CAAC,SAAC,YAAQ,O,MAAiB,CAAgC,mBAAC,kBAAyHlB,GAAG,WAAgBA,EAAG,OAAY,CAAkGmB,YAAU,QAACzB,GAAK,QAAC,0E,MAAC,CAAoB,aAAIM,KAAO,GAAE7D,QAAY,UAAS8D,SAAO,W,GAAkD,CAAS,kBAAM,OAAC,WAAe,c,CAAmC,KAAO,gBAAW,2D,YAAW,c,CAAI,SAAU,wF,IAAC,OAAe,MAAC,CAACmB,kBAAM,K,CAA+BC,OAAQ,C,YAA0BpB,Q,CAA8B,EAAC,0C,MAACqB,CAA8B,UAAYnF,UAAY,CAAS,YAAY,eAAsDuD,MAAM,CAAC,MAAO,WAAE,YAAIM,MAAG,GAAgB7D,e,MAAkC,CAAgB,QAAU,SAAG,SAAC,SAAQ,SAAE,GAAC,EAAM,KAAC,0BAAUiF,WAAM,uBAA4BC,MAAQ,C,YAA0BpB,U,CAA2B,EAAC,sD,MAACqB,CAA2B,UAAYnF,UAAY,CAAS,YAAY,eAAwGA,OAAyCuD,MAAM,QAAC,SAAQ,GAAQ,MAAQ,GAAI,e,MAAK,C,MAAyB,EAAOO,SAAIsB,MAAe,qBAAC,8BAAkCpF,WAAY,oBAA2C,MAAQ,C,YAAc8D,U,CAAY,SAAWA,EAAIiB,+EAAO,YAAC,6BAACrB,MAAG,CAAC,MAAQ,Q,OAAwBI,IAAoB,IAAIA,MAAO,SAAY,GACl+J,4B,mOCqVc,GACfjF,KAAA,gBACAwG,QACA,+CAEArE,OACA,OACA+D,SAAA,EACAO,WAAA,GACApB,QAAA,GACAH,mBAAA,GACAwB,cAAA,GACAC,OAAA,CACA,CACAC,GAAA,EACA5G,KAAA,WAEA,CACA4G,GAAA,EACA5G,KAAA,YAEA,CACA4G,GAAA,EACA5G,KAAA,sBAEA,CACA4G,GAAA,EACA5G,KAAA,YAEA,CACA4G,GAAA,EACA5G,KAAA,YAGA6G,MAAA,GACAC,SAAA,KAGAvE,MAAA,GACAwE,UACA,KAAAC,OAAAC,OAAAL,IACA,KAAAM,aAGAnG,QAAA,CACAoG,SAAAC,GACA,MAAAA,GACAC,OAAAC,KAAAF,EAAArB,QAAAwB,oBAGAC,cACA,KAAAC,QAAAC,IAAA,IAEAR,YACA,KAAAS,OAAAC,OAAA,oBACA,KAAAC,OACAC,IAAA,uBAAAd,OAAAC,OAAAL,IACAmB,KAAAC,IACA,KAAAA,EAAA7F,KAAA8F,OACA,KAAAN,OAAAC,OAAA,oBACA,KAAAvC,QAAA2C,EAAA7F,aAGA+F,MAAAC,IAEA,GADA,KAAAR,OAAAC,OAAA,oBACAO,EAAAC,UAAA,KAAAD,EAAAC,SAAAzB,OAAA,CACA,MAAA0B,EAAAF,EAAAC,SAAAjG,KAAAO,OACA,UAAA4C,EAAAgD,KAAA3F,OAAA4F,QAAAF,GACA,KAAA3B,cAAApB,GAAAgD,EAAA,OAKAE,cAAArG,GACA,iBAAAA,GACA,KAAA+C,mBAAA,gBACA,iBACA,YAAA/C,GACA,KAAA+C,mBAAA,aACA,eACA,sBAAA/C,GACA,KAAA+C,mBAAA,gBACA,sBACA,YAAA/C,GACA,KAAA+C,mBAAA,cACA,iBACA,WAAA/C,GACA,KAAA+C,mBAAA,gBACA,sBAFA,GAKAqB,gBACA,KAAAoB,OAAAC,OAAA,sBAEAa,YAAAC,GACAC,QAAAC,IAAAF,GACA,KAAA5B,SAAA4B,EACA,KAAAf,OAAAC,OAAA,sBAEA,sBACA,QAAAiB,MAAAhH,KAAA6B,aACA,KAAAiE,OAAAC,OAAA,0BACA,KAAAC,OACAiB,IAAA,uBAAAhC,SAAAF,GAAA,CACAmC,IAAA,KAAAjC,SAAAkC,SACAC,MAAA,KAAAnC,SAAAmC,QAEAlB,KAAAC,IACA,KAAAA,EAAA7F,KAAA8F,OACA,KAAAN,OAAAC,OAAA,oBACA,KAAAV,YACA,KAAAJ,SAAA,GACA,KAAAa,OAAAC,OAAA,eACA1F,OAAA,EACAgH,MAAA,UACAC,IAAAnB,EAAA7F,KAAAmG,UAEA,KAAA/B,mBAGA2B,MAAAC,IACA,KAAAR,OAAAC,OAAA,oBACA,KAAAD,OAAAC,OAAA,eACA1F,OAAA,EACAgH,MAAA,QACAC,IAAAhB,EAAAC,SACAD,EAAAC,SAAAjG,KAAAmG,QACA,+BC3dqX,I,wBCQjXc,EAAY,eACd,EACA,EACAC,GACA,EACA,KACA,KACA,MAIa,aAAAD,E,oECnBf,W","file":"js/chunk-569768a1.f8ee138b.js","sourcesContent":["import './VSimpleTable.sass'\n\nimport { convertToUnit } from '../../util/helpers'\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nexport default mixins(Themeable).extend({\n  name: 'v-simple-table',\n\n  props: {\n    dense: Boolean,\n    fixedHeader: Boolean,\n    height: [Number, String],\n  },\n\n  computed: {\n    classes (): Record<string, boolean> {\n      return {\n        'v-data-table--dense': this.dense,\n        'v-data-table--fixed-height': !!this.height && !this.fixedHeader,\n        'v-data-table--fixed-header': this.fixedHeader,\n        'v-data-table--has-top': !!this.$slots.top,\n        'v-data-table--has-bottom': !!this.$slots.bottom,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genWrapper () {\n      return this.$slots.wrapper || this.$createElement('div', {\n        staticClass: 'v-data-table__wrapper',\n        style: {\n          height: convertToUnit(this.height),\n        },\n      }, [\n        this.$createElement('table', this.$slots.default),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-data-table',\n      class: this.classes,\n    }, [\n      this.$slots.top,\n      this.genWrapper(),\n      this.$slots.bottom,\n    ])\n  },\n})\n","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-row',{staticClass:\"mb-4\"},[_c('v-col',[_c('v-breadcrumbs',{staticClass:\"pa-0\",attrs:{\"large\":\"\"}},[_c('v-btn',{staticClass:\"text-primary\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.backPrevios()}}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1),_vm._v(\" ລາຍລະອຽດການອອກບິນຄ່າຂີ້ເຫຍື້ອ \")],1)],1)],1),_c('div',[_c('v-card',[_c('v-card-text',{staticClass:\"px-16 py-16\"},[_c('v-row',{staticClass:\"pb-4\"},[_c('v-col',[_c('h2',{staticClass:\"text-center\"},[_vm._v(\" ໃບບິນເກັບເງິນຄ່າຂີ້ເຫື້ຍອ \")])])],1),_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\"ຂໍ້ມູນບິນ\")]),_c('h3',[_vm._v(\" ເລກບິນ: \"),(_vm.invoice.billing)?_c('span',[_vm._v(_vm._s(_vm.invoice.billing.billing_display_id))]):_vm._e()]),_c('h3',[_vm._v(\" ລາຍລະອຽດ: \"),(_vm.invoice.billing)?_c('span',[_vm._v(_vm._s(_vm.invoice.billing.content))]):_vm._e()]),_c('h3',[_vm._v(\" ສະຖານະບິນ: \"),(_vm.invoice.billing)?_c('span',{class:_vm.invoiceStatusColor},[_vm._v(_vm._s(_vm.invoiceStatus(_vm.invoice.billing.status)))]):_vm._e()]),(_vm.invoice.billing)?_c('h3',[_vm._v(\" ປະເພດບິນ: \"+_vm._s(_vm.invoice.billing.display_type)+\" \")]):_vm._e(),_c('h3',[_vm._v(\" ວັນທີ: \"+_vm._s(_vm.moment(_vm.invoice.created_at).format(\"DD-MM-YY\"))+\" \")])]),_c('v-col',[_c('h3',[_vm._v(\"ຂໍ້ມູນລູກຄ້າ\")]),(_vm.invoice.billing)?_c('div',[(\n                  (_vm.invoice.billing.user.customer.customer_type = 'company')\n                )?_c('h3',[_vm._v(\" ລະຫັດລູກຄ້າ: \"+_vm._s(_vm.invoice.billing.user.customer.customer_id)+\" \")]):_vm._e()]):_vm._e(),(_vm.invoice.billing)?_c('div',[(\n                  (_vm.invoice.billing.user.customer.customer_type = 'company')\n                )?_c('h3',[_vm._v(\" ຊື່: \"+_vm._s(_vm.invoice.billing.user.customer.company_name)+\" \"+_vm._s(_vm.invoice.billing.user.name)+\" \")]):(\n                  (_vm.invoice.billing.user.customer.customer_type = 'home')\n                )?_c('h3',[_vm._v(\" ຊື່: \"+_vm._s(_vm.invoice.billing.user.customer.name)+\" \"+_vm._s(_vm.invoice.billing.user.customer.surname)+\" \")]):_vm._e()]):_vm._e(),(_vm.invoice.billing)?_c('h3',[_vm._v(\" ວັນທີສະໝັກ: \"+_vm._s(_vm.invoice.billing.user.customer.start_month)+\" \")]):_vm._e()])],1),_c('v-row',{staticClass:\"mb-n6\"},[_c('v-col',[_vm._v(\"ລາຍລະອຽດ\")])],1),_c('v-divider',{staticClass:\"my-6 c-divider\"}),_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\" ລຳດັບ \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" ລາຍການ \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" ລາຍລະອຽດ \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Content \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" ຈຳນວນ \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" ລາຄາ \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" ລວມ \")]),(_vm.invoice.billing)?_c('div',[(_vm.invoice.billing.status === 'created')?_c('th',{staticClass:\"text-left\"}):_vm._e()]):_vm._e()])]),(_vm.invoice.billing)?_c('tbody',_vm._l((_vm.invoice.billing.billing_details),function(data,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1))]),_c('td',[_vm._v(_vm._s(data.item))]),_c('td',[_vm._v(_vm._s(data.content))]),_c('td',[_vm._v(_vm._s(data.item_la))]),_c('td',[_vm._v(_vm._s(Intl.NumberFormat().format(data.quantity)))]),_c('td',[_vm._v(_vm._s(Intl.NumberFormat().format(data.price)))]),_c('td',[_vm._v(_vm._s(Intl.NumberFormat().format(data.total)))]),(_vm.invoice.billing.status === 'created')?_c('td',[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"success\",\"small\":\"\"},on:{\"click\":function($event){return _vm.EditInvoice(data)}}},[_vm._v(\" mdi-pen \")])],1):_vm._e()])}),0):_vm._e()]},proxy:true}])}),_c('v-divider',{staticClass:\"my-6 c-divider total-height bottom\"}),_c('v-simple-table',[_c('tbody',{staticClass:\"tb-result\"},[_c('tr',[_c('td',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"600\"},attrs:{\"colspan\":4}},[_vm._v(\" ລວມເງິນ: \")]),(_vm.invoice.billing)?_c('td',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"600\"},attrs:{\"colspan\":4}},[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(_vm.invoice.billing.sub_total))+\" \")]):_vm._e()]),_c('tr',[_c('td',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"600\"},attrs:{\"colspan\":4}},[_vm._v(\" ສ່ວນຫຼຸດ: \")]),(_vm.invoice.billing)?_c('td',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"600\"},attrs:{\"colspan\":4}},[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(_vm.invoice.billing.discount))+\" \")]):_vm._e()]),_c('tr',{staticStyle:{\"font-size\":\"20px\"}},[_c('td',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"600\"},attrs:{\"colspan\":4}},[_vm._v(\" ລວມທັງໝົດ: \")]),(_vm.invoice.billing)?_c('td',{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"600\"},attrs:{\"colspan\":4}},[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(_vm.invoice.billing.total))+\" \")]):_vm._e()])]),_c('br')]),_c('v-row',[_c('v-col',[_c('h3',[_vm._v(\" ຊຳລະບໍ່ໃຫ້ກາຍວັນທີ: \"+_vm._s(_vm.moment(_vm.invoice.end_month).format(\"DD-MM-YY\"))+\" \")]),_c('h3',[_vm._v(\"ປະເພດຊຳລະ: \"+_vm._s(_vm.invoice.payment_method_la))])]),(_vm.invoice.media)?_c('v-col',_vm._l((_vm.invoice.media),function(item,index){return _c('div',{key:index},[_c('img',{staticClass:\"grey\",attrs:{\"aspect-ratio\":\"1\",\"src\":item.url}})])}),0):_vm._e()],1),_c('v-card-actions',{staticClass:\"mt-6\"},[_c('v-spacer'),(_vm.invoice.billing)?_c('div',[(_vm.invoice.billing.status === 'success')?_c('v-btn',{attrs:{\"color\":\"info\",\"text\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.Download(_vm.invoice)}}},[_vm._v(\" Download \")]):_vm._e()],1):_vm._e()],1)],1)],1)],1),_c('ModalAdd',[[_c('v-card',{staticClass:\"py-8 px-14\"},[_c('v-card-title',[_c('p',[_vm._v(\"ແກ້ໄຂຂໍ້ມູນ \"+_vm._s(_vm.formData.content))])]),_c('v-card-text',[_c('v-container',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"}},[_c('h3',{staticClass:\"my-4\"},[_vm._v(\" ແກ້ໄຂຂໍ້ມູນ \")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"\"}},[_c('v-text-field',{staticClass:\"input-number\",attrs:{\"label\":\"Quantity\",\"outlined\":\"\",\"dense\":\"\",\"type\":\"number\"},model:{value:(_vm.formData.quantity),callback:function ($$v) {_vm.$set(_vm.formData, \"quantity\", $$v)},expression:\"formData.quantity\"}}),_c('p',{staticClass:\"errors\"},[_vm._v(\" \"+_vm._s(_vm.server_errors.qty)+\" \")])],1),_c('v-col',{attrs:{\"cols\":\"\"}},[_c('v-text-field',{staticClass:\"input-number\",attrs:{\"label\":\"Price\",\"outlined\":\"\",\"dense\":\"\",\"type\":\"number\"},model:{value:(_vm.formData.price),callback:function ($$v) {_vm.$set(_vm.formData, \"price\", $$v)},expression:\"formData.price\"}}),_c('p',{staticClass:\"errors\"},[_vm._v(\" \"+_vm._s(_vm.server_errors.price)+\" \")])],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"elevation-0 btn mr-4 px-12\",attrs:{\"color\":\"error\",\"medium\":\"\"},on:{\"click\":function($event){return _vm.closeAddModal()}}},[_vm._v(\" ປິດ \")]),_c('v-btn',{staticClass:\"elevation-0 btn btn-primary px-12\",attrs:{\"medium\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.updateInvoice()}}},[_vm._v(\" ອັບເດດ \")])],1)],1)],1)]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row class=\"mb-4\">\n      <v-col>\n        <v-breadcrumbs\n          large\n          class=\"pa-0\"\n        >\n          <v-btn\n            text\n            class=\"text-primary\"\n            @click=\"backPrevios()\"\n          >\n            <v-icon>mdi-chevron-left</v-icon>\n          </v-btn>\n          ລາຍລະອຽດການອອກບິນຄ່າຂີ້ເຫຍື້ອ\n        </v-breadcrumbs>\n      </v-col>\n    </v-row>\n    <div>\n      <v-card>\n        <v-card-text class=\"px-16 py-16\">\n          <!--          <v-row>-->\n          <!--            <v-col >-->\n          <!--              <div class=\"text-center mx-auto\">-->\n          <!--                <v-img-->\n          <!--                    :src=\"require('../../../assets/logo_waste.png')\"-->\n          <!--                    max-height=\"160px\"-->\n          <!--                    max-width=\"160px\"-->\n          <!--                    alt=\"logo\"-->\n          <!--                    contain-->\n          <!--                    eager-->\n          <!--                    class=\"app-logo me-3 text-center\"-->\n          <!--                ></v-img>-->\n          <!--              </div>-->\n          <!--            </v-col>-->\n          <!--          </v-row>-->\n          <v-row class=\"pb-4\">\n            <v-col>\n              <h2 class=\"text-center\">\n                ໃບບິນເກັບເງິນຄ່າຂີ້ເຫື້ຍອ\n              </h2>\n              <!-- <p v-if=\"invoice.plan_month\">{{ invoice.plan_month.name }}</p> -->\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col>\n              <h3>ຂໍ້ມູນບິນ</h3>\n              <h3>\n                ເລກບິນ:\n                <span v-if=\"invoice.billing\">{{\n                  invoice.billing.billing_display_id\n                }}</span>\n              </h3>\n              <h3>\n                ລາຍລະອຽດ:\n                <span v-if=\"invoice.billing\">{{\n                  invoice.billing.content\n                }}</span>\n              </h3>\n              <h3>\n                ສະຖານະບິນ:\n                <span\n                  v-if=\"invoice.billing\"\n                  :class=\"invoiceStatusColor\"\n                >{{\n                  invoiceStatus(invoice.billing.status)\n                }}</span>\n              </h3>\n              <h3 v-if=\"invoice.billing\">\n                ປະເພດບິນ: {{ invoice.billing.display_type }}\n              </h3>\n              <h3>\n                ວັນທີ:\n                {{ moment(invoice.created_at).format(\"DD-MM-YY\") }}\n              </h3>\n            </v-col>\n            <v-col>\n              <h3>ຂໍ້ມູນລູກຄ້າ</h3>\n              <div v-if=\"invoice.billing\">\n                <h3\n                  v-if=\"\n                    (invoice.billing.user.customer.customer_type = 'company')\n                  \"\n                >\n                  ລະຫັດລູກຄ້າ: {{ invoice.billing.user.customer.customer_id }}\n                </h3>\n              </div>\n              <div v-if=\"invoice.billing\">\n                <h3\n                  v-if=\"\n                    (invoice.billing.user.customer.customer_type = 'company')\n                  \"\n                >\n                  ຊື່: {{ invoice.billing.user.customer.company_name }}\n                  {{ invoice.billing.user.name }}\n                </h3>\n                <h3\n                  v-else-if=\"\n                    (invoice.billing.user.customer.customer_type = 'home')\n                  \"\n                >\n                  ຊື່: {{ invoice.billing.user.customer.name }}\n                  {{ invoice.billing.user.customer.surname }}\n                </h3>\n              </div>\n              <h3 v-if=\"invoice.billing\">\n                ວັນທີສະໝັກ: {{ invoice.billing.user.customer.start_month }}\n              </h3>\n            </v-col>\n          </v-row>\n          <v-row class=\"mb-n6\">\n            <v-col>ລາຍລະອຽດ</v-col>\n          </v-row>\n          <v-divider class=\"my-6 c-divider\" />\n\n          <v-simple-table>\n            <template v-slot:default>\n              <thead>\n                <tr>\n                  <th class=\"text-left\">\n                    ລຳດັບ\n                  </th>\n                  <th class=\"text-left\">\n                    ລາຍການ\n                  </th>\n                  <th class=\"text-left\">\n                    ລາຍລະອຽດ\n                  </th>\n                  <th class=\"text-left\">\n                    Content\n                  </th>\n                  <th class=\"text-left\">\n                    ຈຳນວນ\n                  </th>\n                  <th class=\"text-left\">\n                    ລາຄາ\n                  </th>\n                  <th class=\"text-left\">\n                    ລວມ\n                  </th>\n                  <div v-if=\"invoice.billing\">\n                    <th\n                      v-if=\"invoice.billing.status === 'created'\"\n                      class=\"text-left\"\n                    />\n                  </div>\n                </tr>\n              </thead>\n              <tbody v-if=\"invoice.billing\">\n                <tr\n                  v-for=\"(data, index) in invoice.billing.billing_details\"\n                  :key=\"index\"\n                >\n                  <td>{{ index + 1 }}</td>\n                  <td>{{ data.item }}</td>\n                  <td>{{ data.content }}</td>\n                  <td>{{ data.item_la }}</td>\n                  <td>{{ Intl.NumberFormat().format(data.quantity) }}</td>\n                  <td>{{ Intl.NumberFormat().format(data.price) }}</td>\n                  <td>{{ Intl.NumberFormat().format(data.total) }}</td>\n\n                  <td v-if=\"invoice.billing.status === 'created'\">\n                    <v-icon\n                      color=\"success\"\n                      small\n                      class=\"mr-2\"\n                      @click=\"EditInvoice(data)\"\n                    >\n                      mdi-pen\n                    </v-icon>\n                  </td>\n                </tr>\n\n                <!--              <v-divider></v-divider>-->\n              </tbody>\n            </template>\n          </v-simple-table>\n\n          <v-divider class=\"my-6 c-divider total-height bottom\" />\n          <v-simple-table>\n            <tbody class=\"tb-result\">\n              <tr>\n                <td\n                  :colspan=\"4\"\n                  style=\"font-size:16px;font-weight: 600;\"\n                >\n                  ລວມເງິນ:\n                </td>\n                <td\n                  v-if=\"invoice.billing\"\n                  :colspan=\"4\"\n                  style=\"font-size:16px;font-weight: 600;\"\n                >\n                  {{ Intl.NumberFormat().format(invoice.billing.sub_total) }}\n                </td>\n              </tr>\n              <tr>\n                <td\n                  :colspan=\"4\"\n                  style=\"font-size:16px;font-weight: 600;\"\n                >\n                  ສ່ວນຫຼຸດ:\n                </td>\n                <td\n                  v-if=\"invoice.billing\"\n                  :colspan=\"4\"\n                  style=\"font-size:16px;font-weight: 600;\"\n                >\n                  {{ Intl.NumberFormat().format(invoice.billing.discount) }}\n                </td>\n              </tr>\n              <tr style=\"font-size: 20px;\">\n                <td\n                  :colspan=\"4\"\n                  style=\"font-size:16px;font-weight: 600;\"\n                >\n                  ລວມທັງໝົດ:\n                </td>\n                <td\n                  v-if=\"invoice.billing\"\n                  :colspan=\"4\"\n                  style=\"font-size:16px;font-weight: 600;\"\n                >\n                  {{ Intl.NumberFormat().format(invoice.billing.total) }}\n                </td>\n              </tr>\n            </tbody>\n            <br>\n          </v-simple-table>\n          <!--          <v-row class=\"mb-n10\">-->\n          <!--            <v-col>-->\n          <!--              <p>ການຊຳລະ</p>-->\n          <!--            </v-col>-->\n          <!--          </v-row>-->\n          <v-row>\n            <v-col>\n              <h3>\n                ຊຳລະບໍ່ໃຫ້ກາຍວັນທີ:\n                {{ moment(invoice.end_month).format(\"DD-MM-YY\") }}\n              </h3>\n              <h3>ປະເພດຊຳລະ: {{ invoice.payment_method_la }}</h3>\n            </v-col>\n            <v-col v-if=\"invoice.media\">\n              <div\n                v-for=\"(item, index) in invoice.media\"\n                :key=\"index\"\n              >\n                <img\n                  aspect-ratio=\"1\"\n                  class=\"grey\"\n                  :src=\"item.url\"\n                >\n              </div>\n            </v-col>\n          </v-row>\n          <v-card-actions class=\"mt-6\">\n            <v-spacer />\n            <div v-if=\"invoice.billing\">\n              <v-btn\n                v-if=\"invoice.billing.status === 'success'\"\n                color=\"info\"\n                text\n                :loading=\"loading\"\n                :disabled=\"loading\"\n                @click=\"Download(invoice)\"\n              >\n                Download\n              </v-btn>\n            </div>\n          </v-card-actions>\n        </v-card-text>\n      </v-card>\n    </div>\n\n    <ModalAdd>\n      <template @close=\"close\">\n        <v-card class=\"py-8 px-14\">\n          <v-card-title>\n            <p>ແກ້ໄຂຂໍ້ມູນ {{ formData.content }}</p>\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-form\n                ref=\"form\"\n                lazy-validation\n              >\n                <h3 class=\"my-4\">\n                  ແກ້ໄຂຂໍ້ມູນ\n                </h3>\n                <v-row>\n                  <v-col cols>\n                    <v-text-field\n                      v-model=\"formData.quantity\"\n                      label=\"Quantity\"\n                      outlined\n                      dense\n                      type=\"number\"\n                      class=\"input-number\"\n                    />\n                    <p class=\"errors\">\n                      {{ server_errors.qty }}\n                    </p>\n                  </v-col>\n                  <v-col cols>\n                    <v-text-field\n                      v-model=\"formData.price\"\n                      label=\"Price\"\n                      outlined\n                      dense\n                      type=\"number\"\n                      class=\"input-number\"\n                    />\n                    <p class=\"errors\">\n                      {{ server_errors.price }}\n                    </p>\n                  </v-col>\n                </v-row>\n              </v-form>\n            </v-container>\n            <v-card-actions>\n              <v-spacer />\n              <v-btn\n                color=\"error\"\n                class=\"elevation-0 btn mr-4 px-12\"\n                medium\n                @click=\"closeAddModal()\"\n              >\n                ປິດ\n              </v-btn>\n              <v-btn\n                class=\"elevation-0 btn btn-primary px-12\"\n                medium\n                :loading=\"loading\"\n                :disabled=\"loading\"\n                @click=\"updateInvoice()\"\n              >\n                ອັບເດດ\n              </v-btn>\n            </v-card-actions>\n          </v-card-text>\n        </v-card>\n      </template>\n    </ModalAdd>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: 'InvoiceDetail',\n  title() {\n    return `Vientiane Waste Co-Dev|Invoice Detail`;\n  },\n  data() {\n    return {\n      loading: false,\n      customerId: '',\n      invoice: [],\n      invoiceStatusColor: '',\n      server_errors: {},\n      status: [\n        {\n          id: 1,\n          name: 'created',\n        },\n        {\n          id: 2,\n          name: 'approved',\n        },\n        {\n          id: 3,\n          name: 'to_confirm_payment',\n        },\n        {\n          id: 4,\n          name: 'rejected',\n        },\n        {\n          id: 5,\n          name: 'success',\n        },\n      ],\n      total: '',\n      formData: {},\n    };\n  },\n  watch: {},\n  created() {\n    if (this.$route.params.id) {\n      this.fetchData();\n    }\n  },\n  methods: {\n    Download(link) {\n      if (link != null) {\n        window.open(link.billing.download_pdf_link);\n      }\n    },\n    backPrevios() {\n      this.$router.go(-1);\n    },\n    fetchData() {\n      this.$store.commit('Loading_State', true);\n      this.$axios\n        .get(`future-invoice/${this.$route.params.id}`)\n        .then((res) => {\n          if (res.data.code == 200) {\n            this.$store.commit('Loading_State', false);\n            this.invoice = res.data.data;\n          }\n        })\n        .catch((error) => {\n          this.$store.commit('Loading_State', false);\n          if (error.response && error.response.status == 422) {\n            const obj = error.response.data.errors;\n            for (const [key, message] of Object.entries(obj)) {\n              this.server_errors[key] = message[0];\n            }\n          }\n        });\n    },\n    invoiceStatus(data) {\n      if (data == 'created') {\n        this.invoiceStatusColor = 'primary--text';\n        return 'ສ້າງບິນສຳເລັດ';\n      } if (data == 'approved') {\n        this.invoiceStatusColor = 'info--text';\n        return 'ອະນຸມັດແລ້ວ';\n      } if (data == 'to_confirm_payment') {\n        this.invoiceStatusColor = 'warning--text';\n        return 'ລໍຖ້າຢືນຢັນການຊຳລະ';\n      } if (data == 'rejected') {\n        this.invoiceStatusColor = 'error--text';\n        return 'ຊຳລະບໍ່ສຳເລັດ';\n      } if (data == 'success') {\n        this.invoiceStatusColor = 'success--text';\n        return 'ສຳເລັດການຊຳລະ';\n      }\n    },\n    closeAddModal() {\n      this.$store.commit('modalAdd_State', false);\n    },\n    EditInvoice(item) {\n      console.log(item);\n      this.formData = item;\n      this.$store.commit('modalAdd_State', true);\n    },\n    async updateInvoice() {\n      if (this.$refs.form.validate() == true) {\n        this.$store.commit('Loading_State', true);\n        await this.$axios\n          .put(`billing-detail/${this.formData.id}`, {\n            qty: this.formData.quantity,\n            price: this.formData.price,\n          })\n          .then((res) => {\n            if (res.data.code == 200) {\n              this.$store.commit('Loading_State', false);\n              this.fetchData();\n              this.formData = {};\n              this.$store.commit('Toast_State', {\n                value: true,\n                color: 'success',\n                msg: res.data.message,\n              });\n              this.closeAddModal();\n            }\n          })\n          .catch((error) => {\n            this.$store.commit('Loading_State', false);\n            this.$store.commit('Toast_State', {\n              value: true,\n              color: 'error',\n              msg: error.response\n                ? error.response.data.message\n                : 'Something went wrong',\n            });\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../public/scss/main.scss\";\n\nh3 {\n  line-height: 28px !important;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.c-divider {\n  height: 10px;\n  background: $primary-color;\n  opacity: 0.8;\n  max-height: 20px;\n\n  .total-height {\n    height: 4px;\n  }\n}\n\n.c-divider.total-height {\n  height: 4px;\n}\n\n.c-divider.bottom {\n  border-top: none;\n  border-bottom: $primary-color solid 2px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InvoiceDetail.vue?vue&type=template&id=10097d0f&\"\nimport script from \"./InvoiceDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./InvoiceDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InvoiceDetail.vue?vue&type=style&index=0&id=10097d0f&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceDetail.vue?vue&type=style&index=0&id=10097d0f&prod&lang=scss&\""],"sourceRoot":""}