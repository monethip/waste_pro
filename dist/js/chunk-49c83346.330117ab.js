(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49c83346"],{"0b10":function(t,e,a){},"1e6c":function(t,e,a){"use strict";var i=a("9d65"),n=a("4e82"),o=a("c3f0"),s=a("80d2"),r=a("58df");const c=Object(r["a"])(i["a"],Object(n["a"])("windowGroup","v-window-item","v-window"));e["a"]=c.extend().extend().extend({name:"v-window-item",directives:{Touch:o["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(s["h"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick(()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(s["h"])(t.clientHeight))})}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}})},"468b":function(t,e,a){"use strict";a("c95d")},a523:function(t,e,a){"use strict";a("20f6"),a("4b85");var i=a("2b0e");function n(t){return i["a"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:a,data:i,children:n}){i.staticClass=`${t} ${i.staticClass||""}`.trim();const{attrs:o}=i;if(o){i.attrs={};const t=Object.keys(o).filter(t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(i.staticClass+=" "+t.join(" "))}return a.id&&(i.domProps=i.domProps||{},i.domProps.id=a.id),e(a.tag,i,n)}})}var o=a("d9f7");e["a"]=n("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:a,children:i}){let n;const{attrs:s}=a;return s&&(a.attrs={},n=Object.keys(s).filter(t=>{if("slot"===t)return!1;const e=s[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(a.domProps=a.domProps||{},a.domProps.id=e.id),t(e.tag,Object(o["a"])(a,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(n||[])}),i)}})},a7c3:function(t,e,a){"use strict";a("0b10")},c671:function(t,e,a){"use strict";var i=a("1e6c");e["a"]=i["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=i["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},c95d:function(t,e,a){},fc09:function(t,e,a){"use strict";a.r(e);var i=a("b0af"),n=a("99d9"),o=a("a523"),s=a("71a3"),r=a("c671"),c=a("fe57"),d=a("aac8"),u=function(){var t=this,e=t._self._c;return e(o["a"],[e(i["a"],{attrs:{elevation:"1"}},[e(n["b"],[e(c["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(s["a"],{attrs:{href:"#tab-1"}},[t._v(" New ")]),e(s["a"],{attrs:{href:"#tab-2"}},[t._v(" Read ")])],1),e(d["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(r["a"],{attrs:{value:"tab-1"}},[e("allnotification")],1)],1),e(d["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(r["a"],{attrs:{value:"tab-2"}},[e(i["a"],{attrs:{flat:""}},[e(n["b"],[e("read")],1)],1)],1)],1)],1)],1)],1)},l=[],h=(a("14d9"),a("62ad")),p=a("8fea"),f=a("132d"),m=a("0fd9"),g=function(){var t=this,e=t._self._c;return e(o["a"],[e(m["a"],[e(h["a"],[e("p",[t._v(" All Notification "),e("span",{staticClass:"primary-color"},[t._v("("+t._s(t.pagination.total)+")")])])])],1),e("div",[e(i["a"],{attrs:{elevation:"0"}},[e(n["b"],[e(p["a"],{attrs:{headers:t.headers,items:t.notifications,"disable-pagination":!0,"hide-default-footer":"","fixed-header":"",height:"100vh"},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e(f["a"],{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.viewPage(a.id)}}},[t._v(" mdi-eye ")])]}}])}),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},v=[],b={name:"Customer",data(){return{loading:!1,offset:12,pagination:{},per_page:20,notifications:[],server_errors:{},selectedStatus:"unread",headers:[{text:"Title",value:"data.name"},{text:"Notification Type",value:"notifiable_type",sortable:!1,align:"center"},{text:"Type",value:"type",sortable:!1},{text:"",value:"actions",sortable:!1}]}},computed:{notiType(){return this.$route.query.types}},watch:{notiType(){this.fetchData()}},created(){this.fetchData()},methods:{backPrevios(){this.$router.go(-1)},fetchData(){this.$store.commit("Loading_State",!0);const t={page:this.pagination.current_page,per_page:this.per_page,status:this.selectedStatus};this.notiType&&(t.types=this.notiType),this.$axios.get("notification",{params:t}).then(t=>{200==t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.notifications=t.data.data.data,this.pagination=t.data.data.pagination},300)}).catch(t=>{this.$store.commit("Loading_State",!1),this.$store.commit("Toast_State",{value:!0,color:"error",msg:t.response?t.response.data.message:"Something went wrong"})})},viewPage(t){this.$router.push({name:"NotificationView",params:{id:t}})}}},w=b,y=(a("a7c3"),a("2877")),T=Object(y["a"])(w,g,v,!1,null,null,null),_=T.exports,$=a("cc20"),x=function(){var t=this,e=t._self._c;return e("div",[e(m["a"],[e(h["a"],[e("p",[t._v(" Read Notification "),e("span",{staticClass:"primary-color"},[t._v("("+t._s(t.pagination.total)+")")])])])],1),e("div",[e(i["a"],{attrs:{elevation:"0"}},[e(n["b"],[e(p["a"],{attrs:{headers:t.headers,items:t.notifications,"disable-pagination":!0,"hide-default-footer":"","fixed-header":"",height:"100vh"},scopedSlots:t._u([{key:"item.read_at",fn:function({item:a}){return[e($["a"],{attrs:{color:"success"}},[t._v(" "+t._s(t.moment(a.read_at).format("mm:hh / DD-MM-YY"))+" ")])]}},{key:"item.actions",fn:function({item:a}){return[e(f["a"],{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.viewPage(a.id)}}},[t._v(" mdi-eye ")])]}}])}),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},S=[],C={name:"Notification",data(){return{loading:!1,offset:12,pagination:{},per_page:20,notifications:[],notiType:this.$route.query.types,server_errors:{},selectedStatus:"read",headers:[{text:"Title",value:"data.name"},{text:"Read",value:"read_at",sortable:!1,align:"center"},{text:"Notification Type",value:"notifiable_type",sortable:!1,align:"center"},{text:"Type",value:"type",sortable:!1},{text:"",value:"actions",sortable:!1}]}},watch:{notiType(){this.fetchData()}},created(){this.fetchData()},methods:{backPrevios(){this.$router.go(-1)},fetchData(){this.$store.commit("Loading_State",!0);const t={page:this.pagination.current_page,per_page:this.per_page,status:this.selectedStatus};this.notiType&&(t.types=this.notiType),this.$axios.get("notification/",{params:t}).then(t=>{200==t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.notifications=t.data.data.data,this.pagination=t.data.data.pagination},300)}).catch(t=>{this.$store.commit("Loading_State",!1),this.$store.commit("Toast_State",{value:!0,color:"error",msg:t.response?t.response.data.message:"Something went wrong"})})},viewPage(t){this.$router.push({name:"NotificationView",params:{id:t}})},readStatus(t){return"created"==t?(this.invoiceStatusColor="primary--text","ສ້າງບິນສຳເລັດ"):"approved"==t?(this.invoiceStatusColor="info--text","ອະນຸມັດແລ້ວ"):void 0}}},P=C,k=(a("468b"),Object(y["a"])(P,x,S,!1,null,null,null)),D=k.exports,G={title(){return"Vientiane Waste Co-Dev|Notification"},components:{allnotification:_,read:D},data(){return{tab:null}},watch:{tab(t){"tab-1"==t?this.$router.push({name:"NotificationTab",query:{tab:"notification-all",types:this.$route.query.types?this.$route.query.types:null}}).catch(()=>{}):"tab-2"==t&&this.$router.push({name:"NotificationTab",query:{tab:"notification-read",types:this.$route.query.types?this.$route.query.types:null}}).catch(()=>{})}},created(){"notification-all"==this.$route.query.tab?this.tab="tab-1":"notification-read"==this.$route.query.tab&&(this.tab="tab-2")}},j=G,q=Object(y["a"])(j,u,l,!1,null,null,null);e["default"]=q.exports}}]);
//# sourceMappingURL=chunk-49c83346.330117ab.js.map