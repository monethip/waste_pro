(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9bc89556"],{"3e36":function(t,a,e){"use strict";var o=e("c1a61");a["a"]=o["a"]},"5c3a":function(t,a,e){"use strict";e.r(a);var o=e("f046"),s=e("b325"),n=e("e02b"),i=e("ba9d"),c=e("e6e5"),r=e("3bc0"),l=e("489f"),m=function(){var t=this,a=t._self._c;return a("div",{staticStyle:{background:"#eee !important"}},[a(i["a"],[a(l["a"],{staticClass:"mb-n6"},[a(n["a"],[a("h3",[t._v("ຈຳນວນ User")])])],1),a(l["a"],[a(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a(l["a"],[a(n["a"],[a(r["a"],{attrs:{large:""},on:{click:function(a){return t.user()}}},[t._v(" mdi-account ")])],1),a(c["a"],{staticClass:"mx-4",attrs:{vertical:""}}),a(n["a"],[t.data.user?a("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.user.all_user)+" ")]):t._e(),a("h3",[t._v("Users")])])],1),a(l["a"],[a(n["a"],[a("h4",[t.data.user?a("span",{staticClass:"succes-color"},[t._v(t._s(t.data.user.active))]):t._e()]),a("h4",[t._v("Active")])]),a(n["a"],[a("h4",[t.data.user?a("span",{staticClass:"red-color"},[t._v(t._s(t.data.user.inactive))]):t._e()]),a("h4",[t._v("Inactive")])])],1)],1)],1)],1),a(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a(l["a"],[a(n["a"],[a(r["a"],{attrs:{large:""},on:{click:function(a){return t.driver()}}},[t._v(" mdi-account-tie ")])],1),a(c["a"],{staticClass:"mx-4",attrs:{vertical:""}}),a(n["a"],[t.data.customer?a("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.customer.all_driver)+" ")]):t._e(),a("h3",[t._v("Driver")])])],1),a(l["a"],[a(n["a"],[t.data.customer?a("h4",[a("span",{staticClass:"succes-color"},[t._v(t._s(t.data.customer.active))])]):t._e(),a("h4",[t._v("Active")])]),a(n["a"],[t.data.customer?a("h4",[a("span",{staticClass:"red-color"},[t._v(t._s(t.data.customer.inactive))])]):t._e(),a("h4",[t._v("Inactive")])])],1)],1)],1)],1),a(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a(l["a"],[a(n["a"],[a(r["a"],{attrs:{large:""},on:{click:function(a){return t.customer()}}},[t._v(" mdi-account-multiple ")])],1),a(c["a"],{staticClass:"mx-4",attrs:{vertical:""}}),a(n["a"],[t.data.customer?a("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.customer.all_driver)+" ")]):t._e(),a("h3",[t._v("Home")])])],1),a(l["a"],[a(n["a"],[t.data.customer?a("h4",[a("span",{staticClass:"succes-color"},[t._v(" "+t._s(t.data.customer.active))])]):t._e(),a("h4",[t._v("Active")])]),a(n["a"],[t.data.customer?a("h4",[a("span",{staticClass:"red-color"},[t._v(" "+t._s(t.data.customer.inactive))])]):t._e(),a("h4",[t._v("Inactive")])])],1)],1)],1)],1),a(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a(l["a"],[a(n["a"],[a(r["a"],{attrs:{large:""},on:{click:function(a){return t.company()}}},[t._v(" mdi-office-building ")])],1),a(c["a"],{staticClass:"mx-4",attrs:{vertical:""}}),a(n["a"],[t.data.company?a("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.company.all_driver)+" ")]):t._e(),a("h3",[t._v("Company")])])],1),a(l["a"],[a(n["a"],[t.data.company?a("h4",[a("span",{staticClass:"succes-color"},[t._v(t._s(t.data.company.active)+" ")])]):t._e(),a("h4",[t._v("Active")])]),a(n["a"],[t.data.company?a("h4",[a("span",{staticClass:"red-color"},[t._v(t._s(t.data.company.inactive))])]):t._e(),a("h4",[t._v("Inactive")])])],1)],1)],1)],1)],1),a(l["a"],[a(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[a(l["a"],[a(n["a"],[a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a("h3",{staticClass:"my-2"},[t._v(" ຈຳນວນຂີ້ເຫຍື້ອ ")]),a(l["a"],[a(n["a"],[a(r["a"],{attrs:{large:""},on:{click:function(a){return t.reportTrash()}}},[t._v(" mdi-package ")]),a(l["a"],[a(n["a"],[t.data.last_month_collection?a("h4",[a("span",{staticClass:"primary-color"},[t._v(t._s(t.data.last_month_collection.bag_amount))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" ຖົງ ")])]),a(n["a"],[t.data.last_month_collection?a("h4",[a("span",{staticClass:"primary-color"},[t._v(t._s(t.data.last_month_collection.container_amount))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" Container ")])])],1)],1),a(c["a"],{staticClass:"mx-4",attrs:{vertical:""}}),a(n["a"],[a(l["a"],[a(n["a"],[t.data.current_month_collection?a("h4",[a("span",{staticClass:"succes-color"},[t._v(t._s(t.data.current_month_collection.bag_amount))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" ຖົງ ")])]),a(n["a"],[t.data.current_month_collection?a("h4",[a("span",{staticClass:"succes-color"},[t._v(t._s(t.data.current_month_collection.container_amount))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" Container ")])])],1)],1)],1),a(l["a"],[a(n["a"],[a("h3",[t._v("ເດືອນຜ່ານມາ")])]),a(n["a"],[a("h3",[t._v("ເດືອນນີ້")])])],1)],1)],1)],1)],1)],1),a(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[a(l["a"],[a(n["a"],[a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a("h3",{staticClass:"my-2"},[t._v(" ລາຍໄດ້ສະເລ່ຍ ")]),a(l["a"],[a(n["a"],[a(r["a"],{attrs:{large:""},on:{click:function(a){return t.reportTrashInvoice()}}},[t._v(" mdi-cash-plus ")]),a(l["a"],[a(n["a"],[t.data.last_month_invoice?a("h4",[a("span",{staticClass:"primary-color"},[t._v(t._s(t.data.last_month_invoice.success_total))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" ກີບ ")])]),a(n["a"],[t.data.last_month_invoice?a("h4",[a("span",{staticClass:"primary-color"},[t._v(t._s(t.data.last_month_invoice.total_invoice))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" ບິນ ")])])],1)],1),a(c["a"],{staticClass:"mx-4",attrs:{vertical:""}}),a(n["a"],[a(l["a"],[a(n["a"],[t.data.current_month_invoice?a("h4",[a("span",{staticClass:"succes-color"},[t._v(t._s(t.data.current_month_invoice.success_total))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" ກີບ ")])]),a(n["a"],[t.data.current_month_invoice?a("h4",[a("span",{staticClass:"succes-color"},[t._v(t._s(t.data.current_month_invoice.total_invoice))])]):t._e(),a("h4",{staticClass:"text-medium"},[t._v(" ບິນ ")])])],1)],1)],1),a(l["a"],[a(n["a"],[a("h3",[t._v("ເດືອນຜ່ານມາ")])]),a(n["a"],[a("h3",[t._v("ເດືອນນີ້")])])],1)],1)],1)],1)],1)],1)],1),a("br",{staticClass:"mx-4"}),a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a(l["a"],[a(n["a"],[a("h3",[t._v("ຍອດຈຳນວນເກັບຂີ້ເຫຍື້ອ")])])],1),a(l["a"],[a(n["a"],[a("trash-chart")],1)],1)],1)],1),a("br",{staticClass:"mx-4"}),a(o["a"],{attrs:{elevation:"1"}},[a(s["b"],[a(l["a"],[a(n["a"],[a("h3",[t._v("ລາຍໄດ້ສະເລ່ຍແຕ່ລະເດືອນ")])])],1),a(l["a"],[a(n["a"],[a("income")],1)],1)],1)],1)],1)],1)},h=[],_=(e("a047"),e("cf97")),d=e("e862"),u=e("fd5c"),p=e("cc3d"),v=function(){var t=this,a=t._self._c;return a("div",[a(l["a"],[a(n["a"],[a(d["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:o}){return[a(p["a"],t._g(t._b({attrs:{label:"ເລືອກເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_from,callback:function(a){t.month_from=a},expression:"month_from"}},"v-text-field",o,!1),e))]}}]),model:{value:t.month_from_menu,callback:function(a){t.month_from_menu=a},expression:"month_from_menu"}},[a(_["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},model:{value:t.month_from,callback:function(a){t.month_from=a},expression:"month_from"}})],1)],1),a(n["a"],[a(d["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:o}){return[a(p["a"],t._g(t._b({attrs:{label:"ຫາເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_to,callback:function(a){t.month_to=a},expression:"month_to"}},"v-text-field",o,!1),e))]}}]),model:{value:t.month_to_menu,callback:function(a){t.month_to_menu=a},expression:"month_to_menu"}},[a(_["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},on:{input:function(a){return t.fetchData()}},model:{value:t.month_to,callback:function(a){t.month_to=a},expression:"month_to"}})],1)],1),a(n["a"],[a(u["a"],{attrs:{outlined:"",dense:"",items:t.collectionType,"item-text":"name","item-value":"value",label:"ປະເພດ"},model:{value:t.selectedCollection,callback:function(a){t.selectedCollection=a},expression:"selectedCollection"}})],1)],1),a("apexchart",{attrs:{options:t.options,series:t.translatedSeries}})],1)},f=[],y={data(){return{month_from:"",month_to:"",month_from_menu:!1,month_to_menu:!1,modal:!1,homeCollection:[],compnayCollection:[],selectedCollection:"home",collectionType:[{name:"ຄົວເຮືອນ",value:"home"},{name:"ບໍລິສັດ",value:"company"}],series:[],options:{labels:[],noData:{text:"Loading ...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{fontSize:"14px"}},chart:{type:"bar"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},title:{text:"ຈຳນວນການເກັບຂີ້ເຫື້ຍອລາຍເດືອນ",align:"center",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:"NotoSanLao, Google Sans, arial, serif, sans-serif !important",color:"#263238"}},xaxis:{title:{text:"Date",style:{colors:[],fontSize:"16px",fontWeight:400}}},yaxis:{title:{text:"ຈຳນວນຂີ້ເຫື້ຍອ",style:{fontSize:"14px",fontWeight:"bold",fontFamily:"NotoSanLao, Google Sans, arial, serif, sans-serif !important",color:"#263238"}}},fill:{opacity:1},tooltip:{y:{formatter(t){return""+Intl.NumberFormat().format(t)}},x:{formatter(t){return"ເດືອນ "+t}}}},translated:[{key:"success_count",value:"ເກັບສໍາເລັດ"},{key:"wait_to_confirm_count",value:"ລໍຖ້າຢືນຢັນ"},{key:"reject_count",value:"ປະຕິເສດການເກັບ"},{key:"pending_count",value:"ລໍຖ້າເກັບ"},{key:"total_bag_amount",value:"ຈຳນວນຖົງ"},{key:"total_number_of_times_to_collect",value:"ຈຳນວນຄັ້ງທີ່ລົງເກັບ"},{key:"total_pending_count",value:"ລໍຖ້າເກັບ"},{key:"total_success_count",value:"ເກັບສໍາເລັດ"}]}},computed:{translatedSeries(){const t=[];return this.series.map(a=>{const[e]=this.translated.filter(t=>t.key===a.name);e&&t.push({name:e.value,data:a.data})}),t}},watch:{selectedCollection(){this.series.name=[],this.series.data=[],this.fetchData()},month_to(){this.options.labels=[],this.series=[],this.fetchData()},month_from(){this.options.labels=[],this.series=[],this.fetchData()}},created(){this.fetchData()},methods:{async fetchData(){const t={data:[],labels:[]};t.labels=[],t.data=[],this.$store.commit("Loading_State",!0);const a=new FormData;a.append("type",this.selectedCollection),a.append("duration","month"),""!==this.month_from&&""!==this.month_to&&(a.append("month_from",this.moment(this.month_from).format("YYYY-MM")),a.append("month_to",this.moment(this.month_to).format("YYYY-MM"))),await this.$axios.post("report-collection",a).then(a=>{200==a.data.code&&(this.$store.commit("Loading_State",!1),this.series=[],this.chartOptions=[],this.homeCollection=a.data.data.summary,0==this.homeCollection.length&&(t.labels=[],t.data=[]),this.homeCollection.map(a=>{if("home"==this.selectedCollection){this.options.labels.push(a.month);for(const[t,e]of Object.entries(a.home)){const a=this.series.findIndex(a=>a.name==t);-1!=a?this.series[a].data.push(e):this.series.push({name:t,data:[e]})}window.dispatchEvent(new Event("resize"))}else if("company"==this.selectedCollection){t.labels.push(a.month);for(const[t,e]of Object.entries(a.company))if(this.inArray(t,["success_count","wait_to_confirm_count","reject_count","pending_count"])){const a=this.series.findIndex(a=>a.name==t);-1!=a?this.series[a].data.push(e):this.series.push({name:t,data:[e]})}window.dispatchEvent(new Event("resize"))}}))}).catch(()=>{this.$store.commit("Loading_State",!1)}),window.dispatchEvent(new Event("resize"))},inArray(t,a){const{length:e}=a;for(let o=0;o<e;o++)if(a[o]==t)return!0;return!1}}},b=y,x=e("4a4e"),C=Object(x["a"])(b,v,f,!1,null,null,null),g=C.exports,k=function(){var t=this,a=t._self._c;return a("div",[a(l["a"],[a(n["a"],[a(d["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:o}){return[a(p["a"],t._g(t._b({attrs:{label:"ເລືອກເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_from,callback:function(a){t.month_from=a},expression:"month_from"}},"v-text-field",o,!1),e))]}}]),model:{value:t.month_from_menu,callback:function(a){t.month_from_menu=a},expression:"month_from_menu"}},[a(_["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},model:{value:t.month_from,callback:function(a){t.month_from=a},expression:"month_from"}})],1)],1),a(n["a"],[a(d["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:o}){return[a(p["a"],t._g(t._b({attrs:{label:"ຫາເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_to,callback:function(a){t.month_to=a},expression:"month_to"}},"v-text-field",o,!1),e))]}}]),model:{value:t.month_to_menu,callback:function(a){t.month_to_menu=a},expression:"month_to_menu"}},[a(_["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},model:{value:t.month_to,callback:function(a){t.month_to=a},expression:"month_to"}})],1)],1),a(n["a"],[a(u["a"],{attrs:{outlined:"",dense:"",items:t.collectionType,"item-text":"name","item-value":"value",label:"ປະເພດ"},model:{value:t.selectedCollection,callback:function(a){t.selectedCollection=a},expression:"selectedCollection"}})],1)],1),a("apexchart",{attrs:{type:"bar",height:"350",options:t.chartOptions,series:t.translatedSeries}})],1)},w=[],S={data(){return{month_from:"",month_to:"",month_from_menu:!1,month_to_menu:!1,max:"",min:"",modal:!1,homeInvoice:[],compnayInvoice:[],selectedCollection:"home",collectionType:[{name:"ຄົວເຮືອນ",value:"home"},{name:"ບໍລິສັດ",value:"company"}],series:[],chartOptions:{labels:[],noData:{text:"Loading ...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0},chart:{type:"bar",height:350},plotOptions:{bar:{columnWidth:"50%",endingShape:"rounded"}},xaxis:{title:{text:"Date",style:{colors:[],fontSize:"16px",fontWeight:400}}},yaxis:{title:{text:"ລາຍໄດ້",style:{fontSize:"14px",fontWeight:"bold",fontFamily:"NotoSanLao, Google Sans, arial, serif, sans-serif !important",color:"#263238"}}},fill:{opacity:1},tooltip:{}},translated:[{key:"sum_total",value:"ລວມ"},{key:"total_approved",value:"ອະນຸມັດ"},{key:"total_created",value:"ສ້າງບິນ"},{key:"total_rejected",value:"ຍົກເລີກ"},{key:"total_success",value:"ສຳເລັດ"},{key:"total_to_confirm_payment",value:"ສຳເລັດທັງໝົດ"}]}},computed:{translatedSeries(){const t=[];return this.series.map(a=>{const[e]=this.translated.filter(t=>t.key===a.name);e&&t.push({name:e.value,data:a.data})}),t}},watch:{selectedCollection(){this.fetchData()},month_to(){this.chartOptions.labels=[],this.fetchData()},month_from(){this.chartOptions.labels=[],this.fetchData()}},created(){this.fetchData()},methods:{async fetchData(){this.$store.commit("Loading_State",!0);const t=new FormData;t.append("type",this.selectedCollection),t.append("duration","month"),""!==this.month_from&&""!==this.month_to&&(t.append("month_from",this.moment(this.month_from).format("YYYY-MM")),t.append("month_to",this.moment(this.month_to).format("YYYY-MM"))),await this.$axios.post("report-invoice",t).then(t=>{200==t.data.code&&(this.$store.commit("Loading_State",!1),this.homeInvoice=t.data.data.summary,this.series=[],this.homeInvoice.map(t=>{if("home"==this.selectedCollection){this.chartOptions.labels.push(t.month);for(const[a,e]of Object.entries(t.home)){const t=this.series.findIndex(t=>t.name==a);-1!=t?this.series[t].data.push(e):this.series.push({name:a,data:[e]})}}else if("company"==this.selectedCollection){this.chartOptions.labels.push(t.month);for(const[a,e]of Object.entries(t.company))if(this.inArray(a,["sum_total","total_approved","total_created","total_rejected","total_success","total_to_confirm_payment"])){const t=this.series.findIndex(t=>t.name==a);-1!=t?this.series[t].data.push(e):this.series.push({name:a,data:[e]})}}window.dispatchEvent(new Event("resize"))}))}).catch(()=>{this.$store.commit("Loading_State",!1)}),window.dispatchEvent(new Event("resize"))},inArray(t,a){const{length:e}=a;for(let o=0;o<e;o++)if(a[o]==t)return!0;return!1}}},D=S,N=Object(x["a"])(D,k,w,!1,null,null,null),Y=N.exports,$={title(){return"Vientiane Waste Co-Dev|Dashboard"},components:{Income:Y,TrashChart:g},data(){return{data:{}}},created(){this.fetchData()},methods:{fetchData(){this.$store.commit("Loading_State",!0),this.$axios.get("dashboard").then(t=>{200==t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.data=t.data.data},300)}).catch(t=>{if(this.$store.commit("Loading_State",!1),t.response&&422==t.response.status){const a=t.response.data.errors;for(const[t,e]of Object.entries(a))this.server_errors[t]=e[0]}})},user(){this.$router.push("user")},driver(){this.$router.push("driver")},customer(){this.$router.push("customer")},company(){this.$router.push("company")},reportTrash(){this.$router.push("/report/trash")},reportTrashInvoice(){this.$router.push("/report/invoice")},package(){this.$router.push("package")}}},O=$,I=(e("ea09"),Object(x["a"])(O,m,h,!1,null,null,null));a["default"]=I.exports},e02d:function(t,a,e){},ea09:function(t,a,e){"use strict";e("e02d")}}]);
//# sourceMappingURL=chunk-9bc89556.9f26f598.js.map