(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c932390"],{"54da":function(t,e,a){"use strict";e["a"]=function(t){const e={};if(!t[0]){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(void 0!==t[e]&&null!==t[e]&&""!==t[e]||delete t[e]);return t}for(const a of t)1==Object.keys(a).length&&a[Object.keys(a)]&&(e[Object.keys(a)]=a[Object.keys(a)]);return e}},"6ece":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));const n=t=>{""!==t.search?""!==t.oldVal?t.oldVal!==t.search&&(t.oldVal=t.search,t.pagination.current_page=1,t.fetchData()):(""!==t.search&&(t.pagination.current_page=1,t.fetchData()),t.oldVal=t.search):t.oldVal=""}},"7d97":function(t,e,a){},b254:function(t,e,a){"use strict";a("7d97")},e8d3:function(t,e,a){"use strict";a.r(e);var n=a("07b0"),i=a("db5a"),s=a("0f35"),r=a("1da9"),o=a("1789"),l=a("0cb6"),c=a("d415"),d=a("fde7"),u=a("d62f"),_=a("9b44"),h=function(){var t=this,e=t._self._c;return e(o["a"],[e(u["a"],{staticClass:"mb-n6"},[e(r["a"],[e(n["a"],{staticClass:"btn-primary",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.exportData}},[t._v(" Export ")])],1),e(r["a"],[e(d["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:n}){return[e(_["a"],t._g(t._b({attrs:{label:"ວັນທີ",readonly:"",outlined:"",dense:"",clearable:""},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}},"v-text-field",n,!1),a))]}}]),model:{value:t.start_menu,callback:function(e){t.start_menu=e},expression:"start_menu"}},[e(c["a"],{model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),e(r["a"],[e(_["a"],{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify",label:"ເບີໂທ, ເລກອ້າງອີງ...",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),e(u["a"],{staticClass:"my-n4"},[e(r["a"],[e("p",{staticClass:"text"},[t._v(" ລວມ "+t._s(t.pagination.total)+" ຄົນ ")])])],1),e("div",[e(i["a"],[e(i["a"],{attrs:{flat:""}},[e(s["b"],[e(l["a"],{attrs:{headers:t.headers,items:t.bcelTransactions,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.transaction_ref",fn:function({item:a}){return[e("p",{staticStyle:{color:"red"}},[t._v(" "+t._s(a.transaction_ref)+" ")])]}},{key:"item.billing.billing_display_id",fn:function({item:a}){return[a.billing.deleted_at?e("div",[t._v(" "+t._s(a.billing.billing_display_id)+" ")]):e("a",{attrs:{href:"#"},on:{click:function(e){return t.openRoute(a.billing.id)}}},[t._v(t._s(a.billing.billing_display_id))])]}}])}),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)],1)},p=[],f=a("6ece"),g=a("54da"),b={name:"Customer",title(){return"Vientiane Waste Co-Dev|Report Driver"},data(){return{start_date:"",end_date:"",start_menu:!1,end_menu:!1,bcelTransactions:[],loading:!1,customerId:"",offset:12,pagination:{},per_page:100,search:"",oldVal:"",districts:[],selectedDistrict:"",villages:[],selectedVillage:[],selectedStatus:"",status:[{id:1,name:"active"},{id:2,name:"inactive"}],headers:[{text:"ເລກອ້າງອີງ",value:"transaction_ref"},{text:"ເບີໂທ",value:"phone_number"},{text:"ວັນທີ statement",value:"date_statement"},{text:"ຈຳນວນເງິນ",value:"amount"},{text:"ສະກຸນເງິນ",value:"currency"},{text:"ວັນທີສ້າງ",value:"created_at"},{text:"ວັນທີອັພເດດ",value:"updated_at"},{text:"ໄອດີບິນ",value:"billing.billing_display_id"},{text:"ຫົວບິນ",value:"billing.content"},{text:"",value:"actions",sortable:!1}]}},watch:{search(t){this.pagination.current_page="",""==t&&this.fetchData()},selectedStatus(){this.pagination.current_page="",this.fetchData()},start_date(){this.pagination.current_page="",""!==this.end_date&&""!==this.start_date&&this.start_date>this.end_date&&(this.start_date=""),this.fetchData()},end_date(){this.pagination.current_page="",""!==this.end_date&&""!==this.start_date&&this.end_date<this.start_date&&(this.end_date=""),this.fetchData()}},created(){this.fetchData()},methods:{openRoute(t){const e={name:"billing-detail",params:{id:t}},a=this.$router.resolve(e);window.open(a.href,"_blank")},fetchData(t=null){this.$store.commit("Loading_State",!0),this.$axios.get("bank-transaction",{params:Object(g["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search},{date_statement:this.start_date},{download:t}])}).then(e=>{200==e.data.code&&(this.$store.commit("Loading_State",!1),t?window.open(e.data.data.download_link):(this.bcelTransactions=e.data.data.data,this.pagination=e.data.data.pagination,this.start_menu=!1,this.end_menu=!1))}).catch(()=>{this.$store.commit("Loading_State",!1),this.start_menu=!1,this.end_menu=!1})},Search(){Object(f["a"])(this)},statusColor(t){return"active"==t?"primary":"inactive"==t?"error":"info"},exportData(){this.fetchData("excel")}}},m=b,v=(a("b254"),a("4a4e")),y=Object(v["a"])(m,h,p,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-0c932390.08744304.js.map