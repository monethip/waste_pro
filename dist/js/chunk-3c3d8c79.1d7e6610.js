(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c3d8c79"],{"5c3a":function(t,e,a){"use strict";a.r(e);var o=a("84ff"),s=a("dff2"),n=a("2d66"),i=a("8042"),r=a("2599"),c=a("0002"),l=a("a972"),m=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{background:"#eee !important"}},[e(i["a"],[e(l["a"],{staticClass:"mb-n6"},[e(n["a"],[e("h3",[t._v("ຈຳນວນ User")])])],1),e(l["a"],[e(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[e(o["a"],{attrs:{elevation:"1"}},[e(s["b"],[e(l["a"],[e(n["a"],[e(c["a"],{attrs:{large:""},on:{click:function(e){return t.user()}}},[t._v(" mdi-account ")])],1),e(r["a"],{staticClass:"mx-4",attrs:{vertical:""}}),e(n["a"],[t.data.user?e("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.user.all_user)+" ")]):t._e(),e("h3",[t._v("Users")])])],1),e(l["a"],[e(n["a"],[e("h4",[t.data.user?e("span",{staticClass:"succes-color"},[t._v(t._s(t.data.user.active))]):t._e()]),e("h4",[t._v("Active")])]),e(n["a"],[e("h4",[t.data.user?e("span",{staticClass:"red-color"},[t._v(t._s(t.data.user.inactive))]):t._e()]),e("h4",[t._v("Inactive")])])],1)],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[e(o["a"],{attrs:{elevation:"1"}},[e(s["b"],[e(l["a"],[e(n["a"],[e(c["a"],{attrs:{large:""},on:{click:function(e){return t.driver()}}},[t._v(" mdi-account-tie ")])],1),e(r["a"],{staticClass:"mx-4",attrs:{vertical:""}}),e(n["a"],[t.data.customer?e("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.customer.all_driver)+" ")]):t._e(),e("h3",[t._v("Driver")])])],1),e(l["a"],[e(n["a"],[t.data.customer?e("h4",[e("span",{staticClass:"succes-color"},[t._v(t._s(t.data.customer.active))])]):t._e(),e("h4",[t._v("Active")])]),e(n["a"],[t.data.customer?e("h4",[e("span",{staticClass:"red-color"},[t._v(t._s(t.data.customer.inactive))])]):t._e(),e("h4",[t._v("Inactive")])])],1)],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[e(o["a"],{attrs:{elevation:"1"}},[e(s["b"],[e(l["a"],[e(n["a"],[e(c["a"],{attrs:{large:""},on:{click:function(e){return t.customer()}}},[t._v(" mdi-account-multiple ")])],1),e(r["a"],{staticClass:"mx-4",attrs:{vertical:""}}),e(n["a"],[t.data.customer?e("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.customer.all_driver)+" ")]):t._e(),e("h3",[t._v("Home")])])],1),e(l["a"],[e(n["a"],[t.data.customer?e("h4",[e("span",{staticClass:"succes-color"},[t._v(" "+t._s(t.data.customer.active))])]):t._e(),e("h4",[t._v("Active")])]),e(n["a"],[t.data.customer?e("h4",[e("span",{staticClass:"red-color"},[t._v(" "+t._s(t.data.customer.inactive))])]):t._e(),e("h4",[t._v("Inactive")])])],1)],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[e(o["a"],{attrs:{elevation:"1"}},[e(s["b"],[e(l["a"],[e(n["a"],[e(c["a"],{attrs:{large:""},on:{click:function(e){return t.company()}}},[t._v(" mdi-office-building ")])],1),e(r["a"],{staticClass:"mx-4",attrs:{vertical:""}}),e(n["a"],[t.data.company?e("h3",{staticClass:"primary-color"},[t._v(" "+t._s(t.data.company.all_driver)+" ")]):t._e(),e("h3",[t._v("Company")])])],1),e(l["a"],[e(n["a"],[t.data.company?e("h4",[e("span",{staticClass:"succes-color"},[t._v(t._s(t.data.company.active)+" ")])]):t._e(),e("h4",[t._v("Active")])]),e(n["a"],[t.data.company?e("h4",[e("span",{staticClass:"red-color"},[t._v(t._s(t.data.company.inactive))])]):t._e(),e("h4",[t._v("Inactive")])])],1)],1)],1)],1)],1),e(l["a"],[e(n["a"],{attrs:{cols:"12",md:"6",sm:"12"}},[e(l["a"],[e(n["a"],[e(o["a"],{attrs:{elevation:"1"}},[e(s["b"],[e("h3",{staticClass:"my-2"},[t._v(" ຈຳນວນຂີ້ເຫຍື້ອ ")]),e(l["a"],[e(n["a"],[e(c["a"],{attrs:{large:""},on:{click:function(e){return t.reportTrash()}}},[t._v(" mdi-package ")]),e(l["a"],[e(n["a"],[t.data.last_month_collection?e("h4",[e("span",{staticClass:"primary-color"},[t._v(t._s(t.data.last_month_collection.bag_amount))])]):t._e(),e("h4",{staticClass:"text-medium"},[t._v(" ຖົງ ")])]),e(n["a"],[t.data.last_month_collection?e("h4",[e("span",{staticClass:"primary-color"},[t._v(t._s(t.data.last_month_collection.container_amount))])]):t._e(),e("h4",{staticClass:"text-medium"},[t._v(" Container ")])])],1)],1),e(r["a"],{staticClass:"mx-4",attrs:{vertical:""}}),e(n["a"],[e(l["a"],[e(n["a"],[t.data.current_month_collection?e("h4",[e("span",{staticClass:"succes-color"},[t._v(t._s(t.data.current_month_collection.bag_amount))])]):t._e(),e("h4",{staticClass:"text-medium"},[t._v(" ຖົງ ")])]),e(n["a"],[t.data.current_month_collection?e("h4",[e("span",{staticClass:"succes-color"},[t._v(t._s(t.data.current_month_collection.container_amount))])]):t._e(),e("h4",{staticClass:"text-medium"},[t._v(" Container ")])])],1)],1)],1),e(l["a"],[e(n["a"],[e("h3",[t._v("ເດືອນຜ່ານມາ")])]),e(n["a"],[e("h3",[t._v("ເດືອນນີ້")])])],1)],1)],1)],1)],1)],1)],1),e("br",{staticClass:"mx-4"}),e(o["a"],{attrs:{elevation:"1"}},[e(s["b"],[e(l["a"],[e(n["a"],[e("h3",[t._v("ຍອດຈຳນວນເກັບຂີ້ເຫຍື້ອ")])])],1),e(l["a"],[e(n["a"],[e("trash-chart")],1)],1)],1)],1),e("br",{staticClass:"mx-4"}),e(o["a"],{attrs:{elevation:"1"}},[e(s["b"],[e(l["a"],[e(n["a"],[e("h3",[t._v("ລາຍໄດ້ສະເລ່ຍແຕ່ລະເດືອນ")])])],1),e(l["a"],[e(n["a"],[e("income")],1)],1)],1)],1)],1)],1)},h=[],d=(a("e34a"),a("37b7")),u=a("8619"),_=a("dc2c"),p=a("d736"),f=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],[e(n["a"],[e(u["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"ເລືອກເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_from,callback:function(e){t.month_from=e},expression:"month_from"}},"v-text-field",o,!1),a))]}}]),model:{value:t.month_from_menu,callback:function(e){t.month_from_menu=e},expression:"month_from_menu"}},[e(d["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},model:{value:t.month_from,callback:function(e){t.month_from=e},expression:"month_from"}})],1)],1),e(n["a"],[e(u["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"ຫາເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_to,callback:function(e){t.month_to=e},expression:"month_to"}},"v-text-field",o,!1),a))]}}]),model:{value:t.month_to_menu,callback:function(e){t.month_to_menu=e},expression:"month_to_menu"}},[e(d["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},on:{input:function(e){return t.fetchData()}},model:{value:t.month_to,callback:function(e){t.month_to=e},expression:"month_to"}})],1)],1),e(n["a"],[e(_["a"],{attrs:{outlined:"",dense:"",items:t.collectionType,"item-text":"name","item-value":"value",label:"ປະເພດ"},model:{value:t.selectedCollection,callback:function(e){t.selectedCollection=e},expression:"selectedCollection"}})],1)],1),e("apexchart",{attrs:{options:t.options,series:t.translatedSeries}})],1)},v=[],y={data(){return{month_from:"",month_to:"",month_from_menu:!1,month_to_menu:!1,modal:!1,homeCollection:[],compnayCollection:[],selectedCollection:"home",collectionType:[{name:"ຄົວເຮືອນ",value:"home"},{name:"ບໍລິສັດ",value:"company"}],series:[],options:{labels:[],noData:{text:"Loading ...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{fontSize:"14px"}},chart:{type:"bar"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},title:{text:"ຈຳນວນການເກັບຂີ້ເຫື້ຍອລາຍເດືອນ",align:"center",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:"NotoSanLao, Google Sans, arial, serif, sans-serif !important",color:"#263238"}},xaxis:{title:{text:"Date",style:{colors:[],fontSize:"16px",fontWeight:400}}},yaxis:{title:{text:"ຈຳນວນຂີ້ເຫື້ຍອ",style:{fontSize:"14px",fontWeight:"bold",fontFamily:"NotoSanLao, Google Sans, arial, serif, sans-serif !important",color:"#263238"}}},fill:{opacity:1},tooltip:{y:{formatter(t){return""+Intl.NumberFormat().format(t)}},x:{formatter(t){return"ເດືອນ "+t}}}},translated:[{key:"success_count",value:"ເກັບສໍາເລັດ"},{key:"wait_to_confirm_count",value:"ລໍຖ້າຢືນຢັນ"},{key:"reject_count",value:"ປະຕິເສດການເກັບ"},{key:"pending_count",value:"ລໍຖ້າເກັບ"},{key:"total_bag_amount",value:"ຈຳນວນຖົງ"},{key:"total_number_of_times_to_collect",value:"ຈຳນວນຄັ້ງທີ່ລົງເກັບ"},{key:"total_pending_count",value:"ລໍຖ້າເກັບ"},{key:"total_success_count",value:"ເກັບສໍາເລັດ"}]}},computed:{translatedSeries(){const t=[];return this.series.map(e=>{const[a]=this.translated.filter(t=>t.key===e.name);a&&t.push({name:a.value,data:e.data})}),t}},watch:{selectedCollection(){this.series.name=[],this.series.data=[],this.fetchData()},month_to(){this.options.labels=[],this.series=[],this.fetchData()},month_from(){this.options.labels=[],this.series=[],this.fetchData()}},created(){},methods:{async fetchData(){const t={data:[],labels:[]};t.labels=[],t.data=[],this.$store.commit("Loading_State",!0);const e=new FormData;e.append("type",this.selectedCollection),e.append("duration","month"),""!==this.month_from&&""!==this.month_to&&(e.append("month_from",this.moment(this.month_from).format("YYYY-MM")),e.append("month_to",this.moment(this.month_to).format("YYYY-MM"))),await this.$axios.post("report-collection",e).then(e=>{200==e.data.code&&(this.$store.commit("Loading_State",!1),this.series=[],this.chartOptions=[],this.homeCollection=e.data.data.summary,0==this.homeCollection.length&&(t.labels=[],t.data=[]),this.homeCollection.map(e=>{if("home"==this.selectedCollection){this.options.labels.push(e.month);for(const[t,a]of Object.entries(e.home)){const e=this.series.findIndex(e=>e.name==t);-1!=e?this.series[e].data.push(a):this.series.push({name:t,data:[a]})}window.dispatchEvent(new Event("resize"))}else if("company"==this.selectedCollection){t.labels.push(e.month);for(const[t,a]of Object.entries(e.company))if(this.inArray(t,["success_count","wait_to_confirm_count","reject_count","pending_count"])){const e=this.series.findIndex(e=>e.name==t);-1!=e?this.series[e].data.push(a):this.series.push({name:t,data:[a]})}window.dispatchEvent(new Event("resize"))}}))}).catch(()=>{this.$store.commit("Loading_State",!1)}),window.dispatchEvent(new Event("resize"))},inArray(t,e){const{length:a}=e;for(let o=0;o<a;o++)if(e[o]==t)return!0;return!1}}},b=y,x=a("d22c"),C=Object(x["a"])(b,f,v,!1,null,null,null),g=C.exports,k=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],[e(n["a"],[e(u["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"ເລືອກເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_from,callback:function(e){t.month_from=e},expression:"month_from"}},"v-text-field",o,!1),a))]}}]),model:{value:t.month_from_menu,callback:function(e){t.month_from_menu=e},expression:"month_from_menu"}},[e(d["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},model:{value:t.month_from,callback:function(e){t.month_from=e},expression:"month_from"}})],1)],1),e(n["a"],[e(u["a"],{ref:"menu",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"ຫາເດືອນ","prepend-icon":"mdi-calendar",readonly:"",outlined:"",dense:""},model:{value:t.month_to,callback:function(e){t.month_to=e},expression:"month_to"}},"v-text-field",o,!1),a))]}}]),model:{value:t.month_to_menu,callback:function(e){t.month_to_menu=e},expression:"month_to_menu"}},[e(d["a"],{attrs:{type:"month","no-title":"",scrollable:"",min:"2020-NaN-NaN"},model:{value:t.month_to,callback:function(e){t.month_to=e},expression:"month_to"}})],1)],1),e(n["a"],[e(_["a"],{attrs:{outlined:"",dense:"",items:t.collectionType,"item-text":"name","item-value":"value",label:"ປະເພດ"},model:{value:t.selectedCollection,callback:function(e){t.selectedCollection=e},expression:"selectedCollection"}})],1)],1),e("apexchart",{attrs:{type:"bar",height:"350",options:t.chartOptions,series:t.translatedSeries}})],1)},w=[],S={data(){return{month_from:"",month_to:"",month_from_menu:!1,month_to_menu:!1,max:"",min:"",modal:!1,homeInvoice:[],compnayInvoice:[],selectedCollection:"home",collectionType:[{name:"ຄົວເຮືອນ",value:"home"},{name:"ບໍລິສັດ",value:"company"}],series:[],chartOptions:{labels:[],noData:{text:"Loading ...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0},chart:{type:"bar",height:350},plotOptions:{bar:{columnWidth:"50%",endingShape:"rounded"}},xaxis:{title:{text:"Date",style:{colors:[],fontSize:"16px",fontWeight:400}}},yaxis:{title:{text:"ລາຍໄດ້",style:{fontSize:"14px",fontWeight:"bold",fontFamily:"NotoSanLao, Google Sans, arial, serif, sans-serif !important",color:"#263238"}}},fill:{opacity:1},tooltip:{}},translated:[{key:"sum_total",value:"ລວມ"},{key:"total_approved",value:"ອະນຸມັດ"},{key:"total_created",value:"ສ້າງບິນ"},{key:"total_rejected",value:"ຍົກເລີກ"},{key:"total_success",value:"ສຳເລັດ"},{key:"total_to_confirm_payment",value:"ສຳເລັດທັງໝົດ"}]}},computed:{translatedSeries(){const t=[];return this.series.map(e=>{const[a]=this.translated.filter(t=>t.key===e.name);a&&t.push({name:a.value,data:e.data})}),t}},watch:{selectedCollection(){this.fetchData()},month_to(){this.chartOptions.labels=[],this.fetchData()},month_from(){this.chartOptions.labels=[],this.fetchData()}},created(){},methods:{async fetchData(){this.$store.commit("Loading_State",!0);const t=new FormData;t.append("type",this.selectedCollection),t.append("duration","month"),""!==this.month_from&&""!==this.month_to&&(t.append("month_from",this.moment(this.month_from).format("YYYY-MM")),t.append("month_to",this.moment(this.month_to).format("YYYY-MM"))),await this.$axios.post("report-invoice",t).then(t=>{200==t.data.code&&(this.$store.commit("Loading_State",!1),this.homeInvoice=t.data.data.summary,this.series=[],this.homeInvoice.map(t=>{if("home"==this.selectedCollection){this.chartOptions.labels.push(t.month);for(const[e,a]of Object.entries(t.home)){const t=this.series.findIndex(t=>t.name==e);-1!=t?this.series[t].data.push(a):this.series.push({name:e,data:[a]})}}else if("company"==this.selectedCollection){this.chartOptions.labels.push(t.month);for(const[e,a]of Object.entries(t.company))if(this.inArray(e,["sum_total","total_approved","total_created","total_rejected","total_success","total_to_confirm_payment"])){const t=this.series.findIndex(t=>t.name==e);-1!=t?this.series[t].data.push(a):this.series.push({name:e,data:[a]})}}window.dispatchEvent(new Event("resize"))}))}).catch(()=>{this.$store.commit("Loading_State",!1)}),window.dispatchEvent(new Event("resize"))},inArray(t,e){const{length:a}=e;for(let o=0;o<a;o++)if(e[o]==t)return!0;return!1}}},D=S,N=Object(x["a"])(D,k,w,!1,null,null,null),Y=N.exports,$={title(){return"Vientiane Waste Co-Dev|Dashboard"},components:{Income:Y,TrashChart:g},data(){return{data:{}}},created(){this.fetchData()},methods:{fetchData(){this.$store.commit("Loading_State",!0),this.$axios.get("dashboard").then(t=>{200==t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.data=t.data.data},300)}).catch(t=>{if(this.$store.commit("Loading_State",!1),t.response&&422==t.response.status){const e=t.response.data.errors;for(const[t,a]of Object.entries(e))this.server_errors[t]=a[0]}})},user(){this.$router.push("user")},driver(){this.$router.push("driver")},customer(){this.$router.push("customer")},company(){this.$router.push("company")},reportTrash(){this.$router.push("/report/trash")},reportTrashInvoice(){this.$router.push("/report/invoice")},package(){this.$router.push("package")}}},O=$,I=(a("a369"),Object(x["a"])(O,m,h,!1,null,null,null));e["default"]=I.exports},6283:function(t,e,a){},"75fc":function(t,e,a){"use strict";var o=a("45f7");e["a"]=o["a"]},a369:function(t,e,a){"use strict";a("6283")}}]);
//# sourceMappingURL=chunk-3c3d8c79.1d7e6610.js.map