{"version":3,"sources":["webpack:///./src/Helpers/BillingStatus.js","webpack:///./src/views/invoice/v2/event/EditEventDriver.vue?eee7","webpack:///src/views/invoice/v2/event/EditEventDriver.vue","webpack:///./src/views/invoice/v2/event/EditEventDriver.vue?a0a5","webpack:///./src/views/invoice/v2/event/EditEventDriver.vue?5bd6","webpack:///./src/Helpers/Customer.js","webpack:///./src/views/invoice/v2/event/EditEventDriver.vue?d538"],"names":["getBgColor","status","getLaoStatus","getLaoBillingType","type","getLaoCollectStatus","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","backPrevios","_v","driverWithCar","model","value","data","callback","$$v","$set","expression","_s","server_errors","driver_id","scopedSlots","_u","key","fn","ref","_g","_b","date","start_menu","time","time_menu","staticStyle","UpdateData","staticRenderFns","loading","provinces","districts","selectedDistrict","villages","selectedVillage","driver","collectionStatus","errormsg","latlng","lat","lng","markers","currentPlace","markerOptions","url","size","width","height","f","b","scaledSize","preview_list","image_list","image","nameRules","statusRule","computed","statusColor","color","id","item","name","surname","vehicle","car_id","methods","filterCollectStatus","RemoveItem","splice","indexOf","fetchCollection","$axios","fetchDriver","previewMultiImage","input","files","count","reader","onload","push","index","readAsDataURL","fetchAddress","fetchVillage","$router","go","map","formData","append","village_id","phone","moment","dateTime","format","billing","total","collect_status","createNewAddressName","isCreate","onLocation","evt","latLng","address","setPlace","place","placeMarker","places","geometry","location","marker","animateMarker","$refs","searchInput","$el","onDataChange","$nextTick","geolocate","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","$emit","fetchUnit","result","removeItem","selectedVillageDetail","reset","form","watch","sub_total","email","mounted","created","component","VAutocomplete","VBreadcrumbs","VBtn","VCol","VContainer","VDatePicker","VIcon","VMenu","VRow","VTextField","VTimePicker","getLaoCompanyCostBy","costBy","getCompanyCostBy","en","la","getLaoCustomerType","getCustomerUnit","getEventStatus"],"mappings":"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","file":"js/chunk-2d5189d1.200bd3ff.js","sourcesContent":["export const getBgColor = function (status) {\n    switch (status) {\n        case \"created\":\n        case \"ລໍຖ້າອະນຸມັດ\":\n            return \"#73b8fd\";\n        case \"approved\":\n        case \"ອະນຸມັດແລ້ວ\":\n            return \"#0080fc\";\n        case \"canceled\":\n        case \"ບິນຖືກຍົກເລີກ\":\n            return \"#eb004c\";\n        case \"rejected\":\n        case \"ການຈ່າຍຖືກປະຕິເສດ\":\n            return \"#740127\";\n        case \"to_confirm_payment\":\n        case \"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ\":\n            return \"#9c540d\";\n        case \"success\":\n        case \"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ\":\n            return \"#02a38a\";\n    }\n}\n\nexport const getLaoStatus = function (status) {\n    switch (status) {\n        case \"created\":\n            return \"ລໍຖ້າອະນຸມັດ\"\n        case \"approved\":\n            return \"ອະນຸມັດແລ້ວ\"\n        case \"canceled\":\n            return \"ບິນຖືກຍົກເລີກ\"\n        case \"rejected\":\n            return \"ການຈ່າຍຖືກປະຕິເສດ\"\n        case \"to_confirm_payment\":\n            return \"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ\"\n        case \"success\":\n            return \"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ\"\n        case \"cash\":\n            return \"ຊຳລະເງິນສົດ\"\n        case \"bcel\":\n            return \"BCEL\"\n        default:\n            return status;\n    }\n}\n\nexport const getLaoBillingType = function (type) {\n    switch (type) {\n        case \"CustomBill\":\n            return \"ບິນຍ້ອນຫຼັງ\"\n        case \"NewCollectionEvent\":\n            return \"ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ\"\n        case \"FutureInvoice\":\n            return \"ບິນບໍລິການລ່ວງໜ້າ\"\n        case \"NewInvoice\":\n            return \"ບິນບໍລິການປະຈຳເດືອນ\"\n        default:\n            return type\n    }\n}\n\nexport const getLaoCollectStatus = function (status) {\n    switch (status) {\n        case \"requested\":\n            return \"ຮ້ອງຂໍເກັບຂີ້ເຫື້ຍອ\"\n        case \"rejected\":\n            return \"ປະຕິເສດເກັບຂີ້ເຫື້ຍອ\"\n        case \"approved\":\n            return \"ອະນຸມັດເກັບຂີ້ເຫື້ຍອ\"\n        case \"collected\":\n            return \"ເກັບຂີເຫື້ຍອສຳເລັດ\"\n        case \"collect_confirm\":\n            return \"ລູກຄ້າຢືນຢັນການເກັບ\"\n        case \"collect_reject\":\n            return \"ການເກັບຖືກປະຕິເສດ\"\n        default:\n            return status;\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-breadcrumbs',{attrs:{\"large\":\"\"}},[_c('v-btn',{staticClass:\"text-primary\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.backPrevios()}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-backspace\")]),_vm._v(\" ເລືອກຄົນຂັບ \")],1)],1),_c('v-row',[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.driverWithCar,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"ພະນັກງານຂັບລົດ\",\"dense\":\"\",\"outlined\":\"\"},model:{value:(_vm.data.driver_id),callback:function ($$v) {_vm.$set(_vm.data, \"driver_id\", $$v)},expression:\"data.driver_id\"}}),_c('p',{staticClass:\"errors\"},[_vm._v(_vm._s(_vm.server_errors.driver_id))])],1)],1),_c('v-row',[_c('v-col',[_c('v-menu',{attrs:{\"close-on-content-click\":true,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"ເລີ່ມວັນທີ\",\"readonly\":\"\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.start_menu),callback:function ($$v) {_vm.start_menu=$$v},expression:\"start_menu\"}},[_c('v-date-picker',{model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('p',{staticClass:\"errors\"},[_vm._v(_vm._s(_vm.server_errors.date))])],1),_c('v-col',[_c('v-menu',{attrs:{\"close-on-content-click\":true,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"ເວລາ\",\"readonly\":\"\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.time_menu),callback:function ($$v) {_vm.time_menu=$$v},expression:\"time_menu\"}},[_c('v-time-picker',{attrs:{\"type\":\"time\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-btn',{staticStyle:{\"width\":\"100%\"},attrs:{\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.UpdateData()}}},[_vm._v(\"ບັນທຶກ\")])],1),_c('v-col',[_c('v-btn',{staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){return _vm.backPrevios()}}},[_vm._v(\"ປິດ\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-breadcrumbs large>\n      <v-btn text class=\"text-primary\" @click=\"backPrevios()\">\n        <v-icon>mdi-keyboard-backspace</v-icon> ເລືອກຄົນຂັບ\n      </v-btn>\n    </v-breadcrumbs>\n    <v-row>\n      <v-col>\n        <v-autocomplete v-model=\"data.driver_id\" :items=\"driverWithCar\" item-text=\"name\" item-value=\"id\"\n          label=\"ພະນັກງານຂັບລົດ\" dense outlined></v-autocomplete>\n        <p class=\"errors\">{{ server_errors.driver_id }}</p>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <v-menu v-model=\"start_menu\" :close-on-content-click=\"true\" :nudge-right=\"40\" transition=\"scale-transition\"\n          offset-y min-width=\"auto\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-text-field v-model=\"date\" label=\"ເລີ່ມວັນທີ\" readonly outlined v-bind=\"attrs\" v-on=\"on\" dense>\n            </v-text-field>\n          </template>\n          <v-date-picker v-model=\"date\"></v-date-picker>\n        </v-menu>\n        <p class=\"errors\">{{ server_errors.date }}</p>\n      </v-col>\n      <v-col>\n        <v-menu v-model=\"time_menu\" :close-on-content-click=\"true\" :nudge-right=\"40\" transition=\"scale-transition\"\n          offset-y min-width=\"auto\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-text-field v-model=\"time\" label=\"ເວລາ\" readonly outlined v-bind=\"attrs\" v-on=\"on\" dense>\n            </v-text-field>\n          </template>\n          <v-time-picker v-model=\"time\" type=\"time\"></v-time-picker>\n        </v-menu>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <v-btn style=\"width:100%\" @click=\"UpdateData()\" color=\"blue\" dark>ບັນທຶກ</v-btn>\n      </v-col>\n      <v-col>\n        <v-btn style=\"width:100%\" @click=\"backPrevios()\">ປິດ</v-btn>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { getLaoCollectStatus } from \"@/Helpers/BillingStatus\";\nimport { getEventStatus } from \"@/Helpers/Customer\";\n\nexport default {\n  data() {\n    return {\n      data: {},\n      loading: false,\n      server_errors: {},\n      provinces: [],\n      districts: [],\n      selectedDistrict: \"\",\n      villages: [],\n      selectedVillage: \"\",\n      driver: [],\n      date: \"\",\n      collectionStatus: getEventStatus,\n      start_menu: false,\n      time: \"\",\n      time_menu: false,\n      errormsg: \"\",\n      //Map\n      latlng: {\n        lat: 18.1189434,\n        lng: 102.290218\n      },\n      markers: [],\n      currentPlace: null,\n      markerOptions: {\n        // eslint-disable-next-line global-require\n        url: require(\"@coms/../../src/assets/pin1.svg\"),\n        size: {\n          width: 35,\n          height: 55,\n          f: \"px\",\n          b: \"px\"\n        },\n        scaledSize: {\n          width: 35,\n          height: 55,\n          f: \"px\",\n          b: \"px\"\n        }\n      },\n\n      preview_list: [],\n      image_list: [],\n      image: [],\n\n      //Validation\n      nameRules: [\n        v => !!v || \"Name is required\",\n        v => (v && v.length >= 2) || \"Name must be less than 2 characters\"\n      ],\n      statusRule: [v => !!v || \"Status is required\"]\n    };\n  },\n  computed: {\n    statusColor() {\n      if (!this.data) return \"\"\n      const status = this.collectionStatus.find(item => item.en == this.data.collect_status)\n      return status ? status.color : \"\";\n    },\n    driverWithCar() {\n      let data = [];\n      for (const item of this.driver) {\n        data.push(\n          {\n            id: item.id,\n            name: item.name + ' ' + item.surname + ' (' + item.vehicle.car_id + ')',\n          }\n        )\n      }\n      return data\n    },\n  },\n  methods: {\n    filterCollectStatus(status) {\n      return getLaoCollectStatus(status.name)\n    },\n    RemoveItem(item) {\n      this.preview_list.splice(this.preview_list.indexOf(item), 1);\n    },\n    fetchCollection() {\n      this.$axios\n        .get(\"v2/collection-event/\" + this.$route.params.id)\n        .then(res => {\n          if (res.data.code == 200) {\n            setTimeout(() => {\n              this.data = res.data.data;\n              this.collect_status = res.data.data.collect_status;\n              this.selectedDistrict = this.data.village.district_id;\n              this.selectedVillage = this.data.village_id;\n              console.log(this.data);\n              this.time = this.moment(res.data.data.date).format(\"hh:mm\");\n              this.date = this.moment(res.data.data.date).format(\"YYYY-MM-DD\");\n            }, 300);\n          }\n        })\n        .catch({});\n    },\n    fetchDriver() {\n      this.$axios\n        .get(\"driver\")\n        .then(res => {\n          if (res.data.code == 200) {\n            this.driver = res.data.data;\n          }\n        })\n        .catch({});\n    },\n    previewMultiImage: function (event) {\n      let input = event.target;\n      let count = input.files.length;\n      let index = 0;\n      if (input.files) {\n        while (count--) {\n          let reader = new FileReader();\n          reader.onload = e => {\n            this.preview_list.push(e.target.result);\n          };\n          this.image_list.push(input.files[index]);\n          reader.readAsDataURL(input.files[index]);\n          index++;\n        }\n      }\n    },\n\n    fetchAddress() {\n      this.$axios\n        .get(\"info/address\", { params: { filter: \"ນະຄອນຫລວງວຽງຈັນ\" } })\n        .then(res => {\n          if (res.data.code == 200) {\n            this.address = res.data.data;\n            this.address.map(item => {\n              this.districts = item.districts;\n              this.selectedDistrict = this.districts[0].id;\n            });\n            this.fetchVillage();\n          }\n        })\n        .catch(() => { });\n    },\n\n    fetchVillage() {\n      this.$axios\n        .get(\"info/district/\" + this.selectedDistrict + \"/village\")\n        .then(res => {\n          if (res.data.code == 200) {\n            this.villages = res.data.data;\n            this.selectedVillage = this.villages[0].id;\n          }\n        })\n        .catch(() => { });\n    },\n    backPrevios() {\n      this.$router.go(-1);\n    },\n    UpdateData() {\n      const dateTime = `${this.date} ${this.time + `:00`}`;\n      let formData = new FormData();\n      this.image_list.map(item => {\n        formData.append(\"collect_location[]\", item);\n      });\n      formData.append(\"name\", this.data.name);\n      formData.append(\"surname\", this.data.surname);\n      formData.append(\"village_id\", this.data.village_id);\n      formData.append(\"lat\", this.data.lat);\n      formData.append(\"lng\", this.data.lng);\n      formData.append(\"phone\", this.data.phone);\n      formData.append(\"date\", this.moment(dateTime).format(\"y-MM-D hh:mm:ss\"));\n      formData.append(\"total\", this.data.billing.total);\n      if (this.data.driver_id) formData.append(\"driver_id\", this.data.driver_id);\n      formData.append(\"collect_status\", this.data.collect_status);\n      formData.append(\"_method\", \"PUT\");\n\n      this.loading = true;\n      this.$axios\n        .post(\"v2/collection-event/\" + this.$route.params.id, formData, {\n          headers: { \"Content-Type\": \"multipart/form-data\" }\n        })\n        .then(res => {\n          if (res.data.code == 200) {\n            setTimeout(() => {\n              this.loading = false;\n              this.$store.commit(\"Toast_State\", {\n                value: true,\n                color: \"success\",\n                msg: res.data.message\n              });\n              this.$router.push({\n                name: \"event-invoice\"\n              });\n            }, 300);\n          }\n        })\n        .catch(error => {\n          this.$store.commit(\"Toast_State\", {\n            value: true,\n            color: \"error\",\n            msg: error.response.data.message\n          });\n          if (error.response.status == 422) {\n            let obj = error.response.data.errors;\n            for (let [key, data] of Object.entries(obj)) {\n              this.server_errors[key] = data[0];\n            }\n          }\n          this.loading = false;\n          this.fetchData();\n        });\n    },\n\n    //Set Googlemap Api\n    createNewAddressName() {\n      const CUSTOMIZE = \"#CUSTOM ADDRESS:\";\n      return this.isCreate\n        ? this.currentAddress\n        : `${CUSTOMIZE} ${this.latlng.lat}, ${this.latlng.lng}`;\n    },\n    onLocation(evt) {\n      this.latlng.lat = evt.latLng.lat();\n      this.latlng.lng = evt.latLng.lng();\n      this.address = this.createNewAddressName();\n      //   this.customer_edit.latitude = this.center.lat;\n      //   this.customer_edit.longitude = this.center.lng;\n    },\n    setPlace(place) {\n      this.currentPlace = place;\n      this.placeMarker();\n    },\n    placeMarker() {\n      this.markers = [];\n      this.places = [];\n      if (this.currentPlace) {\n        const marker = {\n          lat: this.currentPlace.geometry.location.lat(),\n          lng: this.currentPlace.geometry.location.lng()\n        };\n        this.markers.push({ position: marker });\n        this.latlng = marker;\n        this.animateMarker();\n      } else {\n        const marker = {\n          lat: this.latlng.lat,\n          lng: this.latlng.lng\n        };\n        this.markers.push({ position: marker });\n        this.animateMarker();\n      }\n      // set address\n      if (this.$refs.searchInput) {\n        this.address = this.$refs.searchInput.$el.value;\n      } else {\n        // this.address = this.currentPlace.formatted_address;\n      }\n      this.onDataChange();\n    },\n    animateMarker() {\n      this.$nextTick(() => {\n        // const obj = this.$refs.markers[0].$markerObject;\n        // if (obj) {\n        //     obj.setAnimation(1);\n        //     clearTimeout(this.timer);\n        //     this.timer = setTimeout(() => {\n        //         obj.setAnimation(null);\n        //     }, 800);\n        // }\n      });\n    },\n    geolocate() {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.latlng = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        this.placeMarker();\n      });\n    },\n    onDataChange() {\n      this.$emit(\"onDataChange\", {\n        address: this.address,\n        position: this.latlng\n      });\n      // console.log(this.center);\n    },\n    fetchUnit() {\n      const result = this.addressdetail.filter(({ id }) =>\n        this.village_variation_id.includes(id)\n      );\n      result.map(item => {\n        for (let i = 0; i < item.village_details.length; i++) {\n          this.units.push(item.village_details[i]);\n        }\n      });\n    },\n    removeItem(item) {\n      const index = this.selectedVillageDetail.indexOf(item.id);\n      if (index >= 0) this.selectedVillageDetail.splice(index, 1);\n    },\n    reset() {\n      this.$refs.form.reset();\n    }\n  },\n  watch: {\n    selectedDistrict: function () {\n      this.fetchVillage();\n    },\n    //Clear error change\n    \"data.name\": function () {\n      this.server_errors.name = \"\";\n    },\n    \"data.surname\": function () {\n      this.server_errors.surname = \"\";\n    },\n    selectedVillage: function () {\n      this.server_errors.village_id = \"\";\n    },\n    date: function () {\n      this.server_errors.date = \"\";\n    },\n    driver_id: function () {\n      this.server_errors.driver_id = \"\";\n    },\n    \"data.driver_id\": function () {\n      this.server_errors.driver_id = \"\";\n    },\n    \"data.sub_total\": function () {\n      this.server_errors.sub_total = \"\";\n    },\n    \"data.phone\": function () {\n      this.server_errors.phone = \"\";\n    },\n    \"data.discount\": function () {\n      this.server_errors.email = \"\";\n    }\n  },\n  mounted() {\n    this.geolocate();\n  },\n  created() {\n    this.fetchDriver();\n    this.fetchAddress();\n    this.fetchCollection();\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../../public/scss/main.scss\";\n\n.main-card {\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  // background-color: aqua;\n}\n\n.primary-color {\n  color: $primary-color;\n}\n\n.text-field {\n  border-color: $primary-color;\n  padding: 12px 8px 12px 8px;\n  width: 100%;\n  margin-bottom: 12px;\n  font-size: 16px;\n  background: #eee;\n  border-radius: 2px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditEventDriver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditEventDriver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditEventDriver.vue?vue&type=template&id=2e6bf15a&\"\nimport script from \"./EditEventDriver.vue?vue&type=script&lang=js&\"\nexport * from \"./EditEventDriver.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditEventDriver.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBreadcrumbs } from 'vuetify/lib/components/VBreadcrumbs';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VAutocomplete,VBreadcrumbs,VBtn,VCol,VContainer,VDatePicker,VIcon,VMenu,VRow,VTextField,VTimePicker})\n","export const getLaoCompanyCostBy = function (costBy) {\n    switch (costBy) {\n        case \"container\":\n            return \"ຄອນເທນເນີ\"\n        case \"fix_cost\":\n            return \"ເປັນຖ້ຽວ\"\n        case \"chartered\":\n            return \"ມອບເໝົາ\"\n        case \"bag\":\n            return \"ບໍລິມາດ\"\n        default: return costBy\n    }\n}\n\nexport const getCompanyCostBy = [\n    {\n        en: \"container\",\n        la: \"ຄອນເທນເນີ\"\n    },\n    {\n        en: \"fix_cost\",\n        la: \"ເປັນຖ້ຽວ\"\n    },\n    {\n        en: \"chartered\",\n        la: \"ມອບເໝົາ\"\n    },\n    {\n        en: \"bag\",\n        la: \"ບໍລິມາດ\"\n    },\n]\n\nexport const getPaymentMethod = [\n    {\n        en: \"bcel\",\n        la: \"ແນບຮູບບິນ\"\n    },\n    {\n        en: \"cash\",\n        la: \"ເງິນສົດ\"\n    },\n    {\n        en: \"bcel_online\",\n        la: \"Bcel Bill Payment\"\n    },\n]\n\nexport const getLaoCustomerType = function (type) {\n    switch (type) {\n        case \"company\":\n            return \"ຫົວໜ່ວຍທຸລະກິດ\"\n        case \"home\":\n            return \"ຄົວເຮືອນ\"\n        default: return type\n    }\n}\nexport const getLaoInvoiceTypes = function (type) {\n    switch (type) {\n        case \"FutureInvoice\":\n            return \"ຫົວໜ່ວຍທຸລະກິດ\"\n        case \"NewInvoice\":\n            return \"ຄົວເຮືອນ\"\n        case \"NewCollectionEvent\":\n            return \"ຄົວເຮືອນ\"\n        case \"CustomBill\":\n            return \"ຄົວເຮືອນ\"\n        default: return type\n    }\n}\n\nexport const getCustomerUnit = function (costBy) {\n    switch (costBy) {\n        case \"bag\":\n        case \"chartered\":\n            return \"ຖົງ\"\n        case \"container\":\n            return \"ຄອນເທນເນີ\"\n        case \"fix_cost\":\n            return \"ຖ້ຽວ\"\n        default: return costBy\n    }\n}\n\nexport const getEventStatus = [\n    {\n        en: \"requested\",\n        la: \"ລູກຄ້າຮ້ອງຂໍເຂົ້າມາ\",\n        color: \"#34495e\"\n    },\n    {\n        en: \"rejected\",\n        la: \"ປະຕິເສດລູກຄ້າແລ້ວ\",\n        color: \"#eff3f5\"\n    },\n    {\n        en: \"approved\",\n        la: \"ອະນຸມັດແລ້ວ ລໍຖ້າລົງເກັບ\",\n        color: \"#54a0ff\"\n    },\n    {\n        en: \"collected\",\n        la: \"ເກັບແລ້ວ ລໍຖ້າຢືນຢັນ\",\n        color: \"#c1c40f\"\n    },\n    {\n        en: \"collect_confirm\",\n        la: \"ລູກຄ້າຢືນຢັນການເກັບແລ້ວ\",\n        color: \"#30cb83\"\n    },\n    {\n        en: \"collect_reject\",\n        la: \"ລູກຄ້າປະຕິເສດການເກັບ\",\n        color: \"#e74c3c\"\n    },\n]","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditEventDriver.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}