(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c582bbd"],{"1f4f":function(e,t,a){"use strict";var n=a("5530"),i=(a("a9e3"),a("8b37"),a("80d2")),s=a("7560"),r=a("58df");t["a"]=Object(r["a"])(s["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(i["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"22aa":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"g",(function(){return o}));var n=function(e){switch(e){case"created":case"ລໍຖ້າອະນຸມັດ":return"#73b8fd";case"approved":case"ອະນຸມັດແລ້ວ":return"#0080fc";case"canceled":case"ບິນຖືກຍົກເລີກ":return"#eb004c";case"rejected":case"ການຈ່າຍຖືກປະຕິເສດ":return"#740127";case"to_confirm_payment":case"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ":return"#9c540d";case"success":case"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ":return"#02a38a"}},i=function(e){switch(e){case"created":return"ລໍຖ້າອະນຸມັດ";case"approved":return"ອະນຸມັດແລ້ວ";case"canceled":return"ບິນຖືກຍົກເລີກ";case"rejected":return"ການຈ່າຍຖືກປະຕິເສດ";case"to_confirm_payment":return"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ";case"success":return"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ";case"cash":return"ຊຳລະເງິນສົດ";case"bcel":return"BCEL";default:return e}},s=function(e){switch(e){case"CustomBill":return"ບິນຍ້ອນຫຼັງ";case"NewCollectionEvent":return"ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ";case"FutureInvoice":return"ບິນບໍລິການລ່ວງໜ້າ";case"NewInvoice":return"ບິນບໍລິການປະຈຳເດືອນ";default:return e}},r=function(e){switch(e){case"requested":return"ຮ້ອງຂໍເກັບຂີ້ເຫື້ຍອ";case"rejected":return"ປະຕິເສດເກັບຂີ້ເຫື້ຍອ";case"approved":return"ອະນຸມັດເກັບຂີ້ເຫື້ຍອ";case"collected":return"ເກັບຂີເຫື້ຍອສຳເລັດ";case"collect_confirm":return"ລູກຄ້າຢືນຢັນການເກັບ";case"collect_reject":return"ການເກັບຖືກປະຕິເສດ";default:return e}},l=[{value:"cash",text:"ເງິນສົດ"},{value:"bcel",text:"ເງິນໂອນ"},{value:"bcel_online",text:"bcel bill payments"}],c=["created","approved","to_confirm_payment","success"],o=["rejected","canceled"]},"2bfd":function(e,t,a){},"54da":function(e,t,a){"use strict";var n=a("b85c");a("b64b");t["a"]=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},i=Object(n["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;1==Object.keys(s).length&&s[Object.keys(s)]&&(a[Object.keys(s)]=s[Object.keys(s)])}}catch(r){i.e(r)}finally{i.f()}return a}},5610:function(e,t,a){},"74dd":function(e,t,a){"use strict";a("5610")},7660:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"g",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return u}));var n=a("b85c"),i=(a("99af"),a("b0c0"),function(e){switch(e){case"container":return"ຄອນເທນເນີ";case"fix_cost":return"ເປັນຖ້ຽວ";case"chartered":return"ມອບເໝົາ";case"bag":return"ບໍລິມາດ";default:return e}}),s=[{en:"container",la:"ຄອນເທນເນີ"},{en:"fix_cost",la:"ເປັນຖ້ຽວ"},{en:"chartered",la:"ມອບເໝົາ"},{en:"bag",la:"ບໍລິມາດ"}],r=function(e){switch(e){case"company":return"ຫົວໜ່ວຍທຸລະກິດ";case"home":return"ຄົວເຮືອນ";default:return e}},l=function(e){switch(e){case"bag":case"chartered":return"ຖົງ";case"container":return"ຄອນເທນເນີ";case"fix_cost":return"ຖ້ຽວ";default:return e}},c=[{en:"requested",la:"ລູກຄ້າຮ້ອງຂໍເຂົ້າມາ",color:"#34495e"},{en:"rejected",la:"ປະຕິເສດລູກຄ້າແລ້ວ",color:"#eff3f5"},{en:"approved",la:"ອະນຸມັດແລ້ວ ລໍຖ້າລົງເກັບ",color:"#54a0ff"},{en:"collected",la:"ເກັບແລ້ວ ລໍຖ້າຢືນຢັນ",color:"#c1c40f"},{en:"collect_confirm",la:"ລູກຄ້າຢືນຢັນການເກັບແລ້ວ",color:"#30cb83"},{en:"collect_reject",la:"ລູກຄ້າປະຕິເສດການເກັບ",color:"#e74c3c"}],o=[{text:"ວັນທີຈ່າຍບິນ",value:"paided_at"},{text:"ວັນທີສ້າງບິນ",value:"created_at"},{text:"ວັນທີອະນຸມັດບິນ",value:"approved_at"},{text:"ວັນທີກວດສອບບິນສຳເລັດ",value:"confirmed_payment_at"}],u=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[],i=Object(n["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;a.push({id:s.id,name:"".concat(s.name," (").concat(Intl.NumberFormat().format(s.price)," ກີບ)")})}}catch(r){i.e(r)}finally{i.f()}return a}},"841c":function(e,t,a){"use strict";var n=a("d784"),i=a("825a"),s=a("1d80"),r=a("129f"),l=a("577e"),c=a("dc4a"),o=a("14c3");n("search",(function(e,t,a){return[function(t){var a=s(this),n=void 0==t?void 0:c(t,e);return n?n.call(t,a):new RegExp(t)[e](l(a))},function(e){var n=i(this),s=l(e),c=a(t,n,s);if(c.done)return c.value;var u=n.lastIndex;r(u,0)||(n.lastIndex=0);var d=o(n,s);return r(n.lastIndex,u)||(n.lastIndex=u),null===d?-1:d.index}]}))},"8b37":function(e,t,a){},"990b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.selectedVillage.length>0?a("v-row",e._l(e.villageDetail,(function(t){return a("v-col",{key:t.id},[a("v-select",{attrs:{outlined:"",dense:"",items:t.details,"item-text":"name","item-value":"id",label:t.variation_name,multiple:""},model:{value:e.selectedDetails[t.variation_name],callback:function(a){e.$set(e.selectedDetails,t.variation_name,a)},expression:"selectedDetails[detail.variation_name]"}})],1)})),1):e._e()},i=[],s=a("b85c"),r=a("1da1"),l=(a("96cf"),a("b0c0"),a("07ac"),{props:{selectedVillage:Array},data:function(){return{villageVariation:[],villageDetail:[],selectedDetails:{}}},methods:{setVillageDetails:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.villageDetail=[],t.next=3,e.fetchVillageVariation();case 3:a=Object(s["a"])(e.villageVariation),t.prev=4,a.s();case 6:if((n=a.n()).done){t.next=14;break}return i=n.value,t.next=10,e.fetchVillageDetail(e.selectedVillage,i.id);case 10:r=t.sent,e.villageDetail.push({variation_id:i.id,variation_name:i.name,details:r});case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](4),a.e(t.t0);case 19:return t.prev=19,a.f(),t.finish(19);case 22:console.log("dd",e.villageDetail);case 23:case"end":return t.stop()}}),t,null,[[4,16,19,22]])})))()},fetchVillageVariation:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("Loading_State",!0),t.next=3,e.$axios.get("info/village-variation").catch((function(t){e.$store.commit("Loading_State",!1),e.$store.commit("Toast_State",{value:!0,color:"error",msg:t.response?t.response.data.message:"Something went wrong"})}));case 3:a=t.sent,e.$store.state.isLoading&&(e.villageVariation=a.data.data,e.$store.commit("Loading_State",!1));case 5:case"end":return t.stop()}}),t)})))()},fetchVillageDetail:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=[],a.$store.commit("Loading_State",!0),n.next=4,a.$axios.get("info/village-detail",{params:{villages:e,village_variation_id:t}}).catch((function(e){a.$store.commit("Loading_State",!1),a.$store.commit("Toast_State",{value:!0,color:"error",msg:e.response?e.response.data.message:"Something went wrong"})}));case 4:return s=n.sent,a.$store.state.isLoading&&(i=s.data.data,a.$store.commit("Loading_State",!1)),n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))()}},computed:{selectedDetailIds:function(){for(var e=[],t=0,a=Object.values(this.selectedDetails);t<a.length;t++){var n,i=a[t],r=Object(s["a"])(i);try{for(r.s();!(n=r.n()).done;){var l=n.value;e.push(l)}}catch(c){r.e(c)}finally{r.f()}}return e}},watch:{selectedDetailIds:function(){this.$emit("input",this.selectedDetailIds)},selectedVillage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setVillageDetails();case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchVillageVariation();case 2:return t.next=4,e.setVillageDetails();case 4:case"end":return t.stop()}}),t)})))()}}),c=l,o=a("2877"),u=a("6544"),d=a.n(u),h=a("62ad"),m=a("0fd9"),f=a("b974"),p=Object(o["a"])(c,n,i,!1,null,null,null);t["a"]=p.exports;d()(p,{VCol:h["a"],VRow:m["a"],VSelect:f["a"]})},"9d4c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-breadcrumbs",{staticClass:"pt-0",attrs:{large:""}},[e._v("ລາຍງານຍອດຂາຍ")]),a("v-row",{staticClass:"mb-n6"},[a("v-col",[a("v-row",[a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"ວັນທີເພີ່ມລູກຄ້າແຕ່",readonly:"",outlined:"",dense:"",clearable:""},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.start_menu,callback:function(t){e.start_menu=t},expression:"start_menu"}},[a("v-date-picker",{model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"ຫາວັນທີ",readonly:"",outlined:"",dense:"",clearable:""},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.end_menu,callback:function(t){e.end_menu=t},expression:"end_menu"}},[a("v-date-picker",{model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),a("v-col",[a("v-autocomplete",{attrs:{outlined:"",dense:"",items:e.districts,"item-text":"name","return-object":"",label:"ເມືອງ",clearable:""},model:{value:e.selectedDistrict,callback:function(t){e.selectedDistrict=t},expression:"selectedDistrict"}})],1),a("v-col",[a("v-autocomplete",{attrs:{outlined:"",dense:"",items:e.selectedDistrict.villages,"item-text":"name","item-value":"id",label:"ບ້ານ",multiple:"",clearable:""},model:{value:e.selectedVillage,callback:function(t){e.selectedVillage=t},expression:"selectedVillage"}})],1)],1),a("v-row",[a("VillageDetail",{attrs:{selectedVillage:e.selectedVillage},model:{value:e.selectedDetails,callback:function(t){e.selectedDetails=t},expression:"selectedDetails"}})],1),a("v-row",[a("v-col",[a("v-select",{attrs:{outlined:"",dense:"",items:e.customerTypes,"item-text":"name_la","item-value":"name",label:"ເລືອກປະເພດລູກຄ້າ",clearable:""},model:{value:e.selectedCustomerType,callback:function(t){e.selectedCustomerType=t},expression:"selectedCustomerType"}})],1),"company"==e.selectedCustomerType?a("v-col",[a("v-select",{attrs:{outlined:"",dense:"",items:e.comapnyTypes,"item-text":"la","item-value":"en",label:"ເລືອກປະເພດບໍລິການ",clearable:""},model:{value:e.selectedComapnyType,callback:function(t){e.selectedComapnyType=t},expression:"selectedComapnyType"}})],1):e._e(),"home"==e.selectedCustomerType?a("v-col",[a("v-select",{attrs:{items:e.packageList,"item-text":"name","item-value":"id",label:"ເລືອກແພັກເກດ",outlined:"",dense:""},model:{value:e.filteredPackage,callback:function(t){e.filteredPackage=t},expression:"filteredPackage"}})],1):e._e()],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-folder-key",label:"ໄອດີລູກຄ້າ",type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData()}},model:{value:e.customer_id,callback:function(t){e.customer_id=t},expression:"customer_id"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-phone",label:"ໂທລະສັບ",type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData()}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-account",label:"ຊື່",type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",[a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"green",dark:""},on:{click:function(t){return e.fetchData()}}},[e._v("ຄົ້ນຫາ ")])],1)],1)],1)],1),a("v-row",[a("v-col",[a("v-row",[a("v-col",[a("v-simple-table",{staticStyle:{"white-space":"nowrap"}},[a("thead",[a("tr",e._l(e.headers,(function(t){return a("td",{key:t.text},[e._v(e._s(t.text))])})),0)]),a("tbody",[e._l(e.customers,(function(t){return[a("tr",{key:t.id},[a("td",{attrs:{rowspan:t.user.billings.length?t.user.billings.length:1}},[a("v-row",[a("a",{staticClass:"font-weight-bold text--accent-3 ml-6",attrs:{href:"#"}},[e._v(e._s(t.customer_id))])]),a("v-row",[a("div",{staticClass:"text-large font-weight-bold ml-6"},[e._v(e._s(t.full_name))])]),a("v-row",[a("v-icon",{staticClass:"ml-8 mr-1",attrs:{small:""}},[e._v(" mdi-map-marker")]),e._v(" "+e._s(t.village.name)+", "+e._s(t.village.district.name)+" ")],1),a("v-row",[a("v-icon",{staticClass:"ml-8 mr-1",attrs:{small:""}},[e._v(" mdi-phone")]),e._v(" "+e._s(t.user.phone)+" ")],1)],1),a("td",{attrs:{rowspan:t.user.billings.length?t.user.billings.length:1}},[e._v(" "+e._s(t.cost_by_la)+" ")]),a("td",{attrs:{rowspan:t.user.billings.length?t.user.billings.length:1}},[a("v-list",[a("v-list-item",[a("v-list-item-icon",[a("v-chip",{attrs:{small:"",color:"primary",dark:""}},[e._v(" ລວມ ")])],1),a("v-list-item-content",{staticClass:"text-large"},[e._v(" "+e._s(Intl.NumberFormat().format(t.user.billings_sum_total))+" ("+e._s(t.user.billings_count)+" ບິນ) ")])],1),a("v-list-item",[a("v-list-item-icon",[a("v-chip",{attrs:{small:"",color:"success",dark:""}},[e._v(" ຈ່າຍແລ້ວ ")])],1),a("v-list-item-content",{staticClass:"text-large"},[e._v(" "+e._s(Intl.NumberFormat().format(t.user.billings_paid_sum_total))+" ("+e._s(t.user.billings_paid_count)+" ບິນ) ")])],1),a("v-list-item",[a("v-list-item-icon",[a("v-chip",{attrs:{small:"",color:"warning",dark:""}},[e._v(" ຄົງຄ້າງ ")])],1),a("v-list-item-content",{staticClass:"text-large"},[e._v(" "+e._s(Intl.NumberFormat().format(t.user.billings_unpaid_sum_total))+" ("+e._s(t.user.billings_unpaid_count)+" ບິນ) ")])],1)],1)],1),a("td",[a("v-row",[a("a",{staticClass:"font-weight-bold text--accent-3",attrs:{href:"#"},on:{click:function(a){return e.openBilling(t.user.billings[0].id)}}},[e._v(e._s(t.user.billings[0].billing_display_id))])]),a("v-row",[a("div",{staticClass:"font-weight-bold"},[e._v(e._s(t.user.billings[0].content))])])],1),a("td",[e._v(e._s(Intl.NumberFormat().format(t.user.billings[0].total)))]),a("td",[a("v-chip",{attrs:{color:e.getBgColorFn(t.user.billings[0].status),dark:""}},[e._v(" "+e._s(t.user.billings[0].status_la)+" ")])],1),a("td",[e._v(e._s(t.user.billings[0].payment_method_la))]),a("td",[e._v(e._s(t.user.billings[0].paided_by?t.user.billings[0].paided_by.name:"")+" ")]),a("td",[e._v(e._s(t.user.billings[0].created_at))]),a("td",[e._v(e._s(t.user.billings[0].approved_at))]),a("td",[e._v(e._s(t.user.billings[0].paided_at))]),a("td",[e._v(e._s(t.user.billings[0].confirmed_payment_at))])]),e._l(t.user.billings.slice(1),(function(t){return a("tr",{key:t.id},[a("td",[a("v-row",[a("a",{staticClass:"font-weight-bold text--accent-3",attrs:{href:"#"},on:{click:function(a){return e.openBilling(t.id)}}},[e._v(e._s(t.billing_display_id))])]),a("v-row",[a("div",{staticClass:"font-weight-bold"},[e._v(e._s(t.content))])])],1),a("td",[e._v(e._s(Intl.NumberFormat().format(t.total)))]),a("td",[a("v-chip",{attrs:{color:e.getBgColorFn(t.status),dark:""}},[e._v(" "+e._s(t.status_la)+" ")])],1),a("td",[e._v(e._s(t.payment_method_la))]),a("td",[e._v(e._s(t.paided_by?t.paided_by.name:""))]),a("td",[e._v(e._s(t.created_at))]),a("td",[e._v(e._s(t.approved_at))]),a("td",[e._v(e._s(t.paided_at))]),a("td",[e._v(e._s(t.confirmed_payment_at))])])}))]}))],2)]),[a("Pagination",{attrs:{pagination:e.pagination,offset:e.offset},on:{paginate:function(t){return e.fetchData()}}})]],2)],1)],1)],1)],1)},i=[],s=a("b85c"),r=a("1da1"),l=(a("ac1f"),a("841c"),a("96cf"),a("54da")),c=a("22aa"),o=a("7660"),u=a("990b"),d={title:function(){return"Vientiane Waste Co-Dev|Calendar"},components:{VillageDetail:u["a"]},data:function(){return{firstLoad:!0,filteredPackage:"",selectedCustomerType:"",selectedComapnyType:"",comapnyTypes:o["c"],customerTypes:[{name:"",name_la:"ທັງໝົດ"},{name_la:"ຄົວເຮືອນ",name:"home"},{name_la:"ຫົວໜ່ວຍທຸລະກິດ",name:"company"}],start_date:"",end_date:"",selected_month:this.$route.query.month||(new Date).toISOString().substr(0,7),month_menu:!1,start_menu:!1,end_menu:!1,districts:[],selectedDistrict:"",districtLoaded:!1,villages:[],selectedVillage:[],selectedDetails:[],selectedStatus:[],search:"",phone:"",customer_id:"",loading:!1,customerId:"",pagination:{},per_page:100,offset:12,customers:[],headers:[{text:"ລູກຄ້າ",value:"full_name",align:"center",divider:!0},{text:"ປະເພດບໍລິການ",value:"cost_by_la"},{text:"ຍອດລວມ",value:""},{text:"ໄອດີບິນ",value:"billings_id"},{text:"ຈຳນວນ",value:"billings_total"},{text:"ສະຖານະຈ່າຍ",value:"billings_status"},{text:"ຈ່າຍດ້ວຍ",value:"billings_paymet_method"},{text:"ຜູ້ຈ່າຍບິນ",value:"billings_paid_by"},{text:"ເວລາສ້າງບິນ",value:"billings_created_at"},{text:"ເວລາອະນຸມັດບິນ",value:"billings_approved_at"},{text:"ເວລາຈ່າຍບິນ",value:"billings_paid_at"},{text:"ເວລາຢືນຢັນການຈ່າຍ",value:"billings_confirm_at"}]}},methods:{getBgColorFn:function(e){return Object(c["a"])(e)},fetchPackage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("package").catch((function(){}));case 2:a=t.sent,200==a.data.code&&(e.packages=a.data.data);case 4:case"end":return t.stop()}}),t)})))()},fetchVillage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("info/district/"+e.selectedDistrict+"/village").catch((function(){}));case 2:a=t.sent,200==a.data.code&&(e.villages=a.data.data);case 4:case"end":return t.stop()}}),t)})))()},fetchAddress:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.districtLoaded=!1,t.next=3,e.$axios.get("info/address",{params:{filter:"ນະຄອນຫລວງວຽງຈັນ",with_village:!0}}).catch((function(){}));case 3:if(a=t.sent,200==a.data.code){e.address=a.data.data,n=Object(s["a"])(e.address);try{for(n.s();!(i=n.n()).done;)r=i.value,e.districts=r.districts}catch(l){n.e(l)}finally{n.f()}}e.districtLoaded=!0;case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("Loading_State",!0),t.next=3,e.$axios.get("v2/report-billing-for-customer",{params:Object(l["a"])([{order_by:"newest"},{without_month_info:!0},{has_billing_only:!0},{customer_id:e.customer_id},{phone:e.phone},{customer_type:e.selectedCustomerType},{package_id:e.package_id},{cost_by:e.selectedComapnyType},{villages:e.selectedVillage},{district_id:e.selectedDistrict},{village_details:e.selectedDetails},{date_from:e.start_date},{date_to:e.end_date},{filter:e.search},{per_page:e.per_page},{page:e.pagination.current_page}])}).catch((function(e){return console.log(e)}));case 3:a=t.sent,e.$store.commit("Loading_State",!1),e.customers=a.data.data.data,e.pagination=a.data.data.pagination;case 7:case"end":return t.stop()}}),t)})))()},openBilling:function(e){var t=this.$router.resolve({name:"billing-detail",params:Object(l["a"])([{id:e}])});window.open(t.href)},backPrevios:function(){this.$router.go(-1)}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchAddress();case 2:return t.next=4,e.fetchPackage();case 4:e.fetchData();case 5:case"end":return t.stop()}}),t)})))()},computed:{packageList:function(){return Object(o["b"])(this.packages)}},watch:{}},h=d,m=(a("74dd"),a("2877")),f=a("6544"),p=a.n(f),v=a("c6a6"),g=a("2bc5"),_=a("8336"),b=a("cc20"),x=a("62ad"),y=a("a523"),w=a("2e4b"),I=a("132d"),k=a("8860"),S=a("da13"),D=a("5d23"),C=a("34c3"),V=a("e449"),j=a("0fd9"),O=a("b974"),$=a("1f4f"),T=a("8654"),L=Object(m["a"])(h,n,i,!1,null,null,null);t["default"]=L.exports;p()(L,{VAutocomplete:v["a"],VBreadcrumbs:g["a"],VBtn:_["a"],VChip:b["a"],VCol:x["a"],VContainer:y["a"],VDatePicker:w["a"],VIcon:I["a"],VList:k["a"],VListItem:S["a"],VListItemContent:D["b"],VListItemIcon:C["a"],VMenu:V["a"],VRow:j["a"],VSelect:O["a"],VSimpleTable:$["a"],VTextField:T["a"]})},afdd:function(e,t,a){"use strict";var n=a("8336");t["a"]=n["a"]},c6a6:function(e,t,a){"use strict";var n=a("5530"),i=(a("d81d"),a("4de4"),a("498a"),a("7db0"),a("caad"),a("2532"),a("2bfd"),a("b974")),s=a("8654"),r=a("d9f7"),l=a("80d2"),c=Object(n["a"])(Object(n["a"])({},i["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1});t["a"]=i["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(e,t,a){return a.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:i["a"].options.props.menuProps.type,default:function(){return c}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},hasDisplayedItems:function(){var e=this;return this.hideSelected?this.filteredItems.some((function(t){return!e.hasItem(t)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var e=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(t){var a=Object(l["r"])(t,e.itemText),n=null!=a?String(a):"";return e.filter(t,String(e.internalSearch),n)}))},internalSearch:{get:function(){return this.lazySearch},set:function(e){this.lazySearch!==e&&(this.lazySearch=e,this.$emit("update:search-input",e))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var e=i["a"].options.computed.$_menuProps.call(this);return e.contentClass="v-autocomplete__content ".concat(e.contentClass||"").trim(),Object(n["a"])(Object(n["a"])({},c),e)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var e=this;return this.multiple?null:this.selectedItems.find((function(t){return e.valueComparator(e.getValue(t),e.getValue(e.internalValue))}))},listData:function(){var e=i["a"].options.computed.listData.call(this);return e.props=Object(n["a"])(Object(n["a"])({},e.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(e){!e&&this.hasSlot&&(this.lazySearch=null)},items:function(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput:function(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(e,t){var a=this;e!==t&&(this.setMenuIndex(-1),this.$nextTick((function(){a.internalSearch&&(1===e.length||a.autoSelectFirst)&&(a.$refs.menu.getTiles(),a.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(e){this.searchIsDirty||(this.multiple&&e===l["y"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===l["y"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==l["y"].backspace&&e!==l["y"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var e=this.selectedIndex,t=this.selectedItems[e];if(this.isInteractive&&!this.getDisabled(t)){var a=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===a){var n=this.selectedItems.length,i=e!==n-1?e:e-1,s=this.selectedItems[i];s?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=i}else this.selectedIndex=a}},clearableCallback:function(){this.internalSearch=null,i["a"].options.methods.clearableCallback.call(this)},genInput:function(){var e=s["a"].options.methods.genInput.call(this);return e.data=Object(r["a"])(e.data,{attrs:{"aria-activedescendant":Object(l["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(l["p"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot:function(){var e=i["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections:function(){return this.hasSlot||this.multiple?i["a"].options.methods.genSelections.call(this):[]},onClick:function(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput:function(e){if(!(this.selectedIndex>-1)&&e.target){var t=e.target,a=t.value;t.value&&this.activateMenu(),this.internalSearch=a,this.badInput=t.validity&&t.validity.badInput}},onKeyDown:function(e){var t=e.keyCode;!e.ctrlKey&&[l["y"].home,l["y"].end].includes(t)||i["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown:function(e){},onTabDown:function(e){i["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown:function(e){e.preventDefault(),this.activateMenu()},selectItem:function(e){i["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems:function(){i["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var e=this;this.$nextTick((function(){e.multiple&&e.internalSearch&&e.isMenuActive||(e.internalSearch=!e.selectedItems.length||e.multiple||e.hasSlot?null:e.getText(e.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy:function(e){var t,a;if(-1!==this.selectedIndex){var n=this.selectedItems[this.selectedIndex],i=this.getText(n);null==(t=e.clipboardData)||t.setData("text/plain",i),null==(a=e.clipboardData)||a.setData("text/vnd.vuetify.autocomplete.item+plain",i),e.preventDefault()}}}})}}]);
//# sourceMappingURL=chunk-5c582bbd.9890a57b.js.map