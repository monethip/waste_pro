(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44c60e80"],{"1eb4":function(t,e,a){"use strict";a("f3a1")},"4fad":function(t,e,a){var n=a("23e7"),i=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"54da":function(t,e,a){"use strict";var n=a("b85c");a("b64b");e["a"]=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},i=Object(n["a"])(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;1==Object.keys(s).length&&s[Object.keys(s)]&&(a[Object.keys(s)]=s[Object.keys(s)])}}catch(r){i.e(r)}finally{i.f()}return a}},"6eceb":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("ac1f"),a("841c");var n=function(t){""!==t.search?""!==t.oldVal?t.oldVal!==t.search&&(t.oldVal=t.search,t.pagination.current_page=1,t.fetchData()):(""!==t.search&&(t.pagination.current_page=1,t.fetchData()),t.oldVal=t.search):t.oldVal=""}},f3a1:function(t,e,a){},fc44:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mb-n6"},[a("v-col",[a("p",[t._v("ຈັດການຂໍ້ມູນບິນລ່ວງໜ້າ")])]),a("v-col",[a("v-select",{attrs:{outlined:"",dense:"",items:t.paymentStatus,"item-text":"dis_play","item-value":"name",label:"ສະຖານະບິນ",clearable:""},model:{value:t.selectedPaymentStatus,callback:function(e){t.selectedPaymentStatus=e},expression:"selectedPaymentStatus"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify",label:"ຊື່",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{staticClass:"align-end "},[a("v-btn",{staticClass:"btn-primary",on:{click:function(e){return t.choseCustomer()}}},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-plus")]),t._v(" ສ້າງບິນ ")],1)],1)],1),a("div",[a("v-card",[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.invoices,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.total",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.total))+" ")]}},{key:"item.sub_total",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.sub_total))+" ")]}},{key:"item.discount",fn:function(e){var a=e.item;return[t._v(" "+t._s(Intl.NumberFormat().format(a.billing.discount))+" ")]}},{key:"item.status",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.paymentStatusText(a.billing.status))+" ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"success",small:""},on:{click:function(e){return t.ViewInvoice(n.id)}}},[t._v(" mdi-eye ")])]}}])}),a("br"),[t.pagination.total_pages>1?a("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},i=[],s=a("3835"),r=(a("ac1f"),a("841c"),a("4fad"),a("6eceb")),c=a("54da"),o={name:"Invoice",title:function(){return"Vientiane Waste Co-Dev|Invoice"},data:function(){return{tab:null,invoices:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",date:(new Date).toISOString().substr(0,7),start_menu:!1,server_errors:{},selectedPaymentStatus:"",paymentStatus:[{id:1,name:"pending",dis_play:"ລໍຖ້າເກັບເງິນ"},{id:2,name:"to_confirm_payment",dis_play:"ລໍຖ້າຢືນຢັນຊຳລະ"},{id:3,name:"rejected",dis_play:"ປະຕິເສດການຊຳລະ"},{id:4,name:"success",dis_play:"ຊຳລະສຳເລັດ"}],headers:[{text:"ເລກບິນ",value:"billing.content"},{text:"ຊື່ລູກຄ້າ",value:"billing.user.name",sortable:!1},{text:"ວັນທີ",value:"start_month"},{text:"ຫາວັນທີ",value:"end_month"},{text:"ສ່ວນຫຼຸດ",value:"discount",align:"center",sortable:!1},{text:"ຄ່າບໍລິການ",value:"sub_total",align:"center",sortable:!1},{text:"ລວມທັງໝົດ",value:"total",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("future-invoice",{params:Object(c["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search},{status:this.selectedPaymentStatus}])}).then((function(e){200==e.data.code&&(t.$store.commit("Loading_State",!1),t.invoices=e.data.data.data,console.log(t.invoices),t.pagination=e.data.data.pagination)})).catch((function(e){if(t.$store.commit("Loading_State",!1),422==e.response.status)for(var a=e.response.data.errors,n=0,i=Object.entries(a);n<i.length;n++){var r=Object(s["a"])(i[n],2),c=r[0],o=r[1];t.server_errors[c]=o[0]}}))},paymentStatusText:function(t){return"created"==t?"ສ້າງບິນສຳເລັດ":"approved"==t?"ອະນຸມັດສຳເລັດ":"pending"==t?"ລໍຖ້າເກັບເງິນ":"to_confirm_payment"==t?"ລໍຖ້າຢືນຢັນຊຳລະ":"rejected"==t?"ປະຕິເສດການຊຳລະ":"success"==t?"ຊຳລະສຳເລັດ":"cancel"==t?"ຍົກເລີກ":""},Search:function(){Object(r["a"])(this)},choseCustomer:function(){this.$router.push({name:"chose-customer"})},ViewInvoice:function(t){var e=this.$router.resolve({name:"billing-detail",params:{id:t}});window.open(e.href,"_blank")}},watch:{search:function(t){""==t&&this.fetchData()},selectedPaymentStatus:function(){this.pagination.current_page="",this.fetchData()}},created:function(){this.fetchData()}},l=o,u=(a("1eb4"),a("2877")),d=a("6544"),f=a.n(d),m=a("8336"),v=a("b0af"),p=a("99d9"),h=a("62ad"),b=a("a523"),g=a("8fea"),_=a("132d"),y=a("0fd9"),k=a("b974"),x=a("8654"),S=Object(u["a"])(l,n,i,!1,null,null,null);e["default"]=S.exports;f()(S,{VBtn:m["a"],VCard:v["a"],VCardText:p["c"],VCol:h["a"],VContainer:b["a"],VDataTable:g["a"],VIcon:_["a"],VRow:y["a"],VSelect:k["a"],VTextField:x["a"]})}}]);
//# sourceMappingURL=chunk-44c60e80.f3a0c153.js.map