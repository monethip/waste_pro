(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bd7fd60"],{"54da":function(t,e,a){"use strict";var n=a("b85c");a("b64b");e["a"]=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},s=Object(n["a"])(e);try{for(s.s();!(t=s.n()).done;){var i=t.value;1==Object.keys(i).length&&i[Object.keys(i)]&&(a[Object.keys(i)]=i[Object.keys(i)])}}catch(r){s.e(r)}finally{s.f()}return a}},6333:function(t,e,a){"use strict";a("9290")},"6eceb":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("ac1f"),a("841c");var n=function(t){""!==t.search?""!==t.oldVal?t.oldVal!==t.search&&(t.oldVal=t.search,t.pagination.current_page=1,t.fetchData()):(""!==t.search&&(t.pagination.current_page=1,t.fetchData()),t.oldVal=t.search):t.oldVal=""}},9290:function(t,e,a){},d1dd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"mb-n6"},[a("v-col",[a("v-btn",{staticClass:"btn-primary",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.exportData}},[t._v("Export ")])],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"ເລີ່ມວັນທີ",readonly:"",outlined:"",dense:""},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}},"v-text-field",s,!1),n))]}}]),model:{value:t.start_menu,callback:function(e){t.start_menu=e},expression:"start_menu"}},[a("v-date-picker",{on:{input:function(e){return t.fetchData()}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"ຫາວັນທີ",readonly:"",outlined:"",dense:""},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}},"v-text-field",s,!1),n))]}}]),model:{value:t.end_menu,callback:function(e){t.end_menu=e},expression:"end_menu"}},[a("v-date-picker",{on:{input:function(e){return t.fetchData()}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1),a("v-col",[a("v-select",{attrs:{outlined:"",dense:"",items:t.status,"item-text":"name","item-value":"name",label:"ສະຖານະ"},on:{input:function(e){return t.fetchData()}},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify",label:"ຊື່ລູກຄ້າ",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-row",{staticClass:"my-n4"},[a("v-col",[a("p",{staticClass:"text"},[t._v("ລວມ "+t._s(t.pagination.total)+" ຄົນ")])])],1),a("div",[a("v-card",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.customers,search:t.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:t._u([{key:"item.media",fn:function(e){var n=e.item;return t._l(n.media,(function(e,n){return a("v-avatar",{key:n,attrs:{size:"36px"}},[e.thumb?a("img",{attrs:{src:e.thumb}}):t._e()])}))}},{key:"item.status",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{label:"",color:t.statusColor(n.status)}},[t._v(t._s(n.status)+" ")])]}},{key:"item.roles",fn:function(e){var n=e.item;return[a("div",t._l(n.roles,(function(e,n){return a("span",{key:n},[t._v(" "+t._s(e.name)+", ")])})),0)]}},{key:"item.permissions",fn:function(e){var n=e.item;return[a("div",t._l(n.permissions,(function(e,n){return a("span",{key:n},[a("span",[t._v(t._s(e.name)+", ")])])})),0)]}}])}),a("br"),[t.pagination.total_pages>1?a("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)],1)},s=[],i=(a("ac1f"),a("841c"),a("6eceb")),r=a("54da"),o={name:"Customer",title:function(){return"Vientiane Waste Co-Dev|Report Driver"},data:function(){return{start_date:"",end_date:"",start_menu:!1,end_menu:!1,customers:[],loading:!1,customerId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",districts:[],selectedDistrict:"",villages:[],selectedVillage:[],selectedStatus:"",status:[{id:1,name:"active"},{id:2,name:"inactive"}],headers:[{text:"ຊື່",value:"name"},{text:"ນາມສະກຸນ",value:"surname"},{text:"ເບີໂທ",value:"user.phone",sortable:!1},{text:"Email",value:"user.email",sortable:!1},{text:"ທະບຽນລົດ",value:"vehicle.car_number"},{text:"ສະຖານະ",value:"status",sortable:!1},{text:"Profile",value:"media",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("driver",{params:Object(r["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search},{date_from:this.start_date},{date_end:this.end_date},{status:this.selectedStatus}])}).then((function(e){200==e.data.code&&(t.$store.commit("Loading_State",!1),t.customers=e.data.data.data,t.pagination=e.data.data.pagination,t.start_menu=!1,t.end_menu=!1)})).catch((function(){t.$store.commit("Loading_State",!1),t.start_menu=!1,t.end_menu=!1}))},Search:function(){Object(i["a"])(this)},statusColor:function(t){return"active"==t?"primary":"inactive"==t?"error":"info"},exportData:function(){var t=this;this.loading=!0,this.$axios.post("export-driver/",{status:this.selectedStatus,date_from:this.start_date,date_end:this.end_date}).then((function(e){200==e.status&&(null!=e.data.data.download_link&&window.open(e.data.data.download_link),t.loading=!1)})).catch((function(e){t.$store.commit("Toast_State",{value:!0,color:"error",msg:e.response.data.message}),t.loading=!1}))}},watch:{search:function(t){""==t&&this.fetchData()}},created:function(){this.fetchData()}},c=o,l=(a("6333"),a("2877")),d=a("6544"),u=a.n(d),f=a("8212"),m=a("8336"),v=a("b0af"),_=a("99d9"),p=a("cc20"),h=a("62ad"),b=a("a523"),g=a("8fea"),k=a("2e4b"),x=a("e449"),y=a("0fd9"),V=a("b974"),w=a("8654"),D=Object(l["a"])(c,n,s,!1,null,null,null);e["default"]=D.exports;u()(D,{VAvatar:f["a"],VBtn:m["a"],VCard:v["a"],VCardText:_["b"],VChip:p["a"],VCol:h["a"],VContainer:b["a"],VDataTable:g["a"],VDatePicker:k["a"],VMenu:x["a"],VRow:y["a"],VSelect:V["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-0bd7fd60.e2327192.js.map