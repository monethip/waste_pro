{"version":3,"sources":["webpack:///../../../src/components/VForm/VForm.ts","webpack:///../../../src/components/VFileInput/VFileInput.ts","webpack:///./src/Helpers/BillingStatus.js","webpack:///./src/Helpers/queryOption.js","webpack:///./src/Helpers/Customer.js","webpack:///./src/views/invoice/v2/custom/CustomBill.vue?ad3e","webpack:///../../../src/components/VGrid/grid.ts","webpack:///../../../src/components/VGrid/VContainer.ts","webpack:///../../../src/components/VTextField/index.ts","webpack:///./src/views/invoice/v2/custom/CustomBill.vue","webpack:///src/views/invoice/v2/custom/CustomBill.vue","webpack:///./src/views/invoice/v2/custom/CustomBill.vue?c7d1","webpack:///./src/views/invoice/v2/custom/CustomBill.vue?bde2"],"names":["mixins","BindsAttrs","RegistrableProvide","extend","name","provide","form","this","inheritAttrs","props","disabled","Boolean","lazyValidation","readonly","value","data","inputs","watchers","errorBag","watch","handler","val","errors","Object","values","includes","$emit","deep","immediate","methods","watchInput","input","watcher","$watch","$set","_uid","valid","shouldValidate","hasOwnProperty","validate","filter","length","reset","forEach","resetErrorBag","setTimeout","resetValidation","register","push","unregister","found","find","i","unwatch","$delete","render","h","staticClass","attrs","novalidate","attrs$","on","submit","e","$slots","default","VTextField","model","prop","event","chips","clearable","type","counterSizeString","String","counterString","hideInput","multiple","placeholder","prependIcon","showSize","Number","validator","v","smallChips","truncateLength","undefined","wrapInArray","every","computed","classes","options","call","computedCounterValue","fileCount","lazyValue","File","$vuetify","lang","t","bytes","internalArrayValue","reduce","size","humanReadableFileSize","base","internalValue","get","set","isDirty","isLabelActive","text","persistentPlaceholder","isFocused","hasLabel","map","file","truncatedText","truncateText","hasChips","consoleError","deepEqual","$refs","files","clearableCallback","genChips","index","$createElement","VChip","small","click:close","splice","genControl","style","mergeStyles","display","genInput","domProps","change","onInput","genSelections","genPrependSlot","icon","genIcon","click","genSlot","genSelectionText","counter","children","$scopedSlots","selection","class","genTextFieldSlot","node","target","nodeName","initialValue","onKeyDown","str","charsKeepOneSide","Math","floor","slice","getBgColor","status","getLaoStatus","getLaoBillingType","getLaoCollectStatus","payment_methods","normal","red","units","array","option","key","prototype","item","keys","getLaoCompanyCostBy","costBy","getCompanyCostBy","en","la","getLaoCustomerType","getCustomerUnit","getEventStatus","color","billDateList","concatPackage","packageArr","connateArr","packageItem","id","Intl","NumberFormat","format","price","getCustomerCanCollect","getFullName","surname","company_name","customerType","getDisplayId","VGrid","Vue","functional","tag","trim","startsWith","join","Grid","fluid","mergeData","Array","concat","callback","selectedPaymentStatus","expression","$event","_vm","_c","openAddModal","scopedSlots","_v","fn","pagination","total_pages","offset","fetchData","_e","closeAddModal","loading","staticRenderFns","title","tab","invoices","billId","searchPhone","searchCustomerId","billingId","calendarId","importSuccess","importErrors","imported","per_page","search","oldVal","date","Date","toISOString","substr","start_menu","server_errors","paymentStatus","headers","width","align","sortable","current_page","created","canDelete","billingArray","indexOf","getLaoStatusFunc","getBgColorFunc","filterStatusLao","$store","commit","$axios","params","queryOption","page","phone","customer_id","billing_status","order_by","bill_id","then","res","code","catch","error","response","obj","message","entries","Search","window","open","download_link","uploadFile","formData","FormData","append","post","exception","msg","choseUser","$router","query","redirect","closeDelete","deleteItem","deleteInvoice","delete","ViewInvoice","route","resolve","href","paymentStatusText","component"],"mappings":"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","file":"js/chunk-5f8aac24.884abbb8.js","sourcesContent":["// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","// Styles\nimport './VFileInput.sass'\n\n// Extensions\nimport VTextField from '../VTextField'\n\n// Components\nimport { VChip } from '../VChip'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n// Utilities\nimport { deepEqual, humanReadableFileSize, wrapInArray } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\nimport { mergeStyles } from '../../util/mergeData'\n\nexport default VTextField.extend({\n  name: 'v-file-input',\n\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n\n  props: {\n    chips: Boolean,\n    clearable: {\n      type: Boolean,\n      default: true,\n    },\n    counterSizeString: {\n      type: String,\n      default: '$vuetify.fileInput.counterSize',\n    },\n    counterString: {\n      type: String,\n      default: '$vuetify.fileInput.counter',\n    },\n    hideInput: Boolean,\n    multiple: Boolean,\n    placeholder: String,\n    prependIcon: {\n      type: String,\n      default: '$file',\n    },\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n    showSize: {\n      type: [Boolean, Number],\n      default: false,\n      validator: (v: boolean | number) => {\n        return (\n          typeof v === 'boolean' ||\n          [1000, 1024].includes(v)\n        )\n      },\n    } as PropValidator<boolean | 1000 | 1024>,\n    smallChips: Boolean,\n    truncateLength: {\n      type: [Number, String],\n      default: 22,\n    },\n    type: {\n      type: String,\n      default: 'file',\n    },\n    value: {\n      default: undefined,\n      validator: val => {\n        return wrapInArray(val).every(v => v != null && typeof v === 'object')\n      },\n    } as PropValidator<File | File[]>,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VTextField.options.computed.classes.call(this),\n        'v-file-input': true,\n      }\n    },\n    computedCounterValue (): string {\n      const fileCount = (this.multiple && this.lazyValue)\n        ? this.lazyValue.length\n        : (this.lazyValue instanceof File) ? 1 : 0\n\n      if (!this.showSize) return this.$vuetify.lang.t(this.counterString, fileCount)\n\n      const bytes = this.internalArrayValue.reduce((bytes: number, { size = 0 }: File) => {\n        return bytes + size\n      }, 0)\n\n      return this.$vuetify.lang.t(\n        this.counterSizeString,\n        fileCount,\n        humanReadableFileSize(bytes, this.base === 1024)\n      )\n    },\n    internalArrayValue (): File[] {\n      return wrapInArray(this.internalValue)\n    },\n    internalValue: {\n      get (): File[] {\n        return this.lazyValue\n      },\n      set (val: File | File[]) {\n        this.lazyValue = val\n        this.$emit('change', this.lazyValue)\n      },\n    },\n    isDirty (): boolean {\n      return this.internalArrayValue.length > 0\n    },\n    isLabelActive (): boolean {\n      return this.isDirty\n    },\n    text (): string[] {\n      if (!this.isDirty && (this.persistentPlaceholder || this.isFocused || !this.hasLabel)) return [this.placeholder]\n\n      return this.internalArrayValue.map((file: File) => {\n        const {\n          name = '',\n          size = 0,\n        } = file\n\n        const truncatedText = this.truncateText(name)\n\n        return !this.showSize\n          ? truncatedText\n          : `${truncatedText} (${humanReadableFileSize(size, this.base === 1024)})`\n      })\n    },\n    base (): 1000 | 1024 | undefined {\n      return typeof this.showSize !== 'boolean' ? this.showSize : undefined\n    },\n    hasChips (): boolean {\n      return this.chips || this.smallChips\n    },\n  },\n\n  watch: {\n    readonly: {\n      handler (v) {\n        if (v === true) consoleError('readonly is not supported on <v-file-input>', this)\n      },\n      immediate: true,\n    },\n    value (v) {\n      const value = this.multiple ? v : v ? [v] : []\n      if (!deepEqual(value, this.$refs.input.files)) {\n        // When the input value is changed programatically, clear the\n        // internal input's value so that the `onInput` handler\n        // can be triggered again if the user re-selects the exact\n        // same file(s). Ideally, `input.files` should be\n        // manipulated directly but that property is readonly.\n        this.$refs.input.value = ''\n      }\n    },\n  },\n\n  methods: {\n    clearableCallback () {\n      this.internalValue = this.multiple ? [] : null\n      this.$refs.input.value = ''\n    },\n    genChips () {\n      if (!this.isDirty) return []\n\n      return this.text.map((text, index) => this.$createElement(VChip, {\n        props: { small: this.smallChips },\n        on: {\n          'click:close': () => {\n            const internalValue = this.internalValue\n            internalValue.splice(index, 1)\n            this.internalValue = internalValue // Trigger the watcher\n          },\n        },\n      }, [text]))\n    },\n    genControl () {\n      const render = VTextField.options.methods.genControl.call(this)\n\n      if (this.hideInput) {\n        render.data!.style = mergeStyles(\n          render.data!.style,\n          { display: 'none' }\n        )\n      }\n\n      return render\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.data!.attrs!.multiple = this.multiple\n\n      // We should not be setting value\n      // programmatically on the input\n      // when it is using type=\"file\"\n      delete input.data!.domProps!.value\n\n      // This solves an issue in Safari where\n      // nothing happens when adding a file\n      // due to the input event not firing\n      // https://github.com/vuetifyjs/vuetify/issues/7941\n      delete input.data!.on!.input\n      input.data!.on!.change = this.onInput\n\n      return [this.genSelections(), input]\n    },\n    genPrependSlot () {\n      if (!this.prependIcon) return null\n\n      const icon = this.genIcon('prepend', () => {\n        this.$refs.input.click()\n      })\n\n      return this.genSlot('prepend', 'outer', [icon])\n    },\n    genSelectionText (): string[] {\n      const length = this.text.length\n\n      if (length < 2) return this.text\n      if (this.showSize && !this.counter) return [this.computedCounterValue]\n      return [this.$vuetify.lang.t(this.counterString, length)]\n    },\n    genSelections () {\n      const children = []\n\n      if (this.isDirty && this.$scopedSlots.selection) {\n        this.internalArrayValue.forEach((file: File, index: number) => {\n          if (!this.$scopedSlots.selection) return\n\n          children.push(\n            this.$scopedSlots.selection({\n              text: this.text[index],\n              file,\n              index,\n            })\n          )\n        })\n      } else {\n        children.push(this.hasChips && this.isDirty ? this.genChips() : this.genSelectionText())\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-file-input__text',\n        class: {\n          'v-file-input__text--placeholder': this.placeholder && !this.isDirty,\n          'v-file-input__text--chips': this.hasChips && !this.$scopedSlots.selection,\n        },\n      }, children)\n    },\n    genTextFieldSlot () {\n      const node = VTextField.options.methods.genTextFieldSlot.call(this)\n\n      node.data!.on = {\n        ...(node.data!.on || {}),\n        click: (e: MouseEvent) => {\n          // Clicking the label already delegates to input element, so we shouldn't click it twice\n          if (e.target && (e.target as HTMLElement).nodeName === 'LABEL') return\n\n          this.$refs.input.click()\n        },\n      }\n\n      return node\n    },\n    onInput (e: Event) {\n      const files = [...(e.target as HTMLInputElement).files || []]\n\n      this.internalValue = this.multiple ? files : files[0]\n\n      // Set initialValue here otherwise isFocused\n      // watcher in VTextField will emit a change\n      // event whenever the component is blurred\n      this.initialValue = this.internalValue\n    },\n    onKeyDown (e: KeyboardEvent) {\n      this.$emit('keydown', e)\n    },\n    truncateText (str: string) {\n      if (str.length < Number(this.truncateLength)) return str\n      const charsKeepOneSide = Math.floor((Number(this.truncateLength) - 1) / 2)\n      return `${str.slice(0, charsKeepOneSide)}…${str.slice(str.length - charsKeepOneSide)}`\n    },\n  },\n})\n","export const getBgColor = function (status) {\n  switch (status) {\n    case 'created':\n    case 'ລໍຖ້າອະນຸມັດ':\n      return '#73b8fd';\n    case 'approved':\n    case 'ອະນຸມັດແລ້ວ':\n      return '#0080fc';\n    case 'canceled':\n    case 'ບິນຖືກຍົກເລີກ':\n      return '#eb004c';\n    case 'rejected':\n    case 'ການຈ່າຍຖືກປະຕິເສດ':\n      return '#740127';\n    case 'to_confirm_payment':\n    case 'ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ':\n      return '#9c540d';\n    case 'success':\n    case 'ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ':\n      return '#02a38a';\n  }\n};\n\nexport const getLaoStatus = function (status) {\n  switch (status) {\n    case 'created':\n      return 'ລໍຖ້າອະນຸມັດ';\n    case 'approved':\n      return 'ອະນຸມັດແລ້ວ';\n    case 'canceled':\n      return 'ບິນຖືກຍົກເລີກ';\n    case 'rejected':\n      return 'ການຈ່າຍຖືກປະຕິເສດ';\n    case 'to_confirm_payment':\n      return 'ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ';\n    case 'success':\n      return 'ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ';\n    case 'cash':\n      return 'ຊຳລະເງິນສົດ';\n    case 'bcel':\n      return 'BCEL';\n    default:\n      return status;\n  }\n};\n\nexport const getLaoBillingType = function (type) {\n  switch (type) {\n    case 'CustomBill':\n      return 'ບິນຍ້ອນຫຼັງ';\n    case 'NewCollectionEvent':\n      return 'ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ';\n    case 'FutureInvoice':\n      return 'ບິນບໍລິການລ່ວງໜ້າ';\n    case 'NewInvoice':\n      return 'ບິນບໍລິການປະຈຳເດືອນ';\n    default:\n      return type;\n  }\n};\n\nexport const getLaoCollectStatus = function (status) {\n  switch (status) {\n    case 'requested':\n      return 'ລູກຄ້າຮ້ອງຂໍເຂົ້າມາ';\n    case 'rejected':\n      return 'ປະຕິເສດລູກຄ້າແລ້ວ';\n    case 'approved':\n      return 'ອະນຸມັດແລ້ວ ລໍຖ້າລົງເກັບ';\n    case 'collected':\n      return 'ເກັບແລ້ວ ລໍຖ້າຢືນຢັນ';\n    case 'collect_confirm':\n      return 'ລູກຄ້າຢືນຢັນການເກັບແລ້ວ';\n    case 'collect_reject':\n      return 'ລູກຄ້າປະຕິເສດການເກັບ';\n    default:\n      return status;\n  }\n};\n\nexport const payment_methods = [\n  {\n    value: 'cash',\n    text: 'ເງິນສົດ',\n  },\n  {\n    value: 'bcel',\n    text: 'ເງິນໂອນ',\n  },\n  {\n    value: 'bcel_online',\n    text: 'bcel bill payments',\n  },\n];\n\nexport const normal = ['created', 'approved', 'to_confirm_payment', 'success'];\nexport const red = ['rejected', 'canceled'];\n\nexport const units = ['kg', 'ຖົງ', 'container', 'ຄັ້ງ'];\n","export default function (array) {\n  const option = {};\n  if (!array[0]) {\n    for (const key in array) {\n      if (Object.prototype.hasOwnProperty.call(array, key)) {\n        if (array[key] === undefined || array[key] === null || array[key] === '') {\n          delete array[key];\n        }\n      }\n    }\n    return array;\n  }\n  for (const item of array) {\n    if (Object.keys(item).length == 1 && item[Object.keys(item)]) {\n      option[Object.keys(item)] = item[Object.keys(item)];\n    }\n  }\n  return option;\n}\n","export const getLaoCompanyCostBy = function (costBy, type = null) {\n  switch (costBy) {\n    case 'container':\n      return 'ຄອນເທນເນີ';\n    case 'fix_cost':\n      return 'ເປັນຖ້ຽວ';\n    case 'chartered':\n      return 'ມອບເໝົາ';\n    case 'bag':\n      if (type == 'company') { return 'ບໍລິມາດ'; }\n      return 'ຄົວເຮືອນ';\n    case 'infect':\n      return 'ຂີ້ເຫຍື້ອຕິດເຊື້ອ';\n    case '32km':\n      return 'ຫຼັກ32';\n    default: return costBy;\n  }\n};\n\nexport const getCompanyCostBy = [\n  {\n    en: 'container',\n    la: 'ຄອນເທນເນີ',\n  },\n  {\n    en: 'fix_cost',\n    la: 'ເປັນຖ້ຽວ',\n  },\n  {\n    en: 'chartered',\n    la: 'ມອບເໝົາ',\n  },\n  {\n    en: 'bag',\n    la: 'ບໍລິມາດ',\n  },\n  {\n    en: 'infect',\n    la: 'ຂີ້ເຫຍື້ອຕິດເຊື້ອ',\n  },\n  {\n    en: '32km',\n    la: 'ຫຼັກ32',\n  },\n];\n\nexport const getPaymentMethod = [\n  {\n    en: 'bcel',\n    la: 'ແນບຮູບບິນ',\n  },\n  {\n    en: 'cash',\n    la: 'ເງິນສົດ',\n  },\n  {\n    en: 'bcel_online',\n    la: 'Bcel Bill Payment',\n  },\n];\n\nexport const getLaoCustomerType = function (type) {\n  switch (type) {\n    case 'company':\n      return 'ຫົວໜ່ວຍທຸລະກິດ';\n    case 'home':\n      return 'ຄົວເຮືອນ';\n    default: return type;\n  }\n};\nexport const getLaoInvoiceTypes = function (type) {\n  switch (type) {\n    case 'FutureInvoice':\n      return 'ຫົວໜ່ວຍທຸລະກິດ';\n    case 'NewInvoice':\n      return 'ຄົວເຮືອນ';\n    case 'NewCollectionEvent':\n      return 'ຄົວເຮືອນ';\n    case 'CustomBill':\n      return 'ຄົວເຮືອນ';\n    default: return type;\n  }\n};\n\nexport const getCustomerUnit = function (costBy) {\n  switch (costBy) {\n    case 'bag':\n    case 'chartered':\n    case '32km':\n    case 'infect':\n      return 'ຖົງ';\n    case 'container':\n      return 'ຄອນເທນເນີ';\n    case 'fix_cost':\n      return 'ຖ້ຽວ';\n    default: return costBy;\n  }\n};\n\nexport const getEventStatus = [\n  {\n    en: 'requested',\n    la: 'ລູກຄ້າຮ້ອງຂໍເຂົ້າມາ',\n    color: '#34495e',\n  },\n  {\n    en: 'rejected',\n    la: 'ປະຕິເສດລູກຄ້າແລ້ວ',\n    color: '#eff3f5',\n  },\n  {\n    en: 'approved',\n    la: 'ອະນຸມັດແລ້ວ ລໍຖ້າລົງເກັບ',\n    color: '#54a0ff',\n  },\n  {\n    en: 'collected',\n    la: 'ເກັບແລ້ວ ລໍຖ້າຢືນຢັນ',\n    color: '#c1c40f',\n  },\n  {\n    en: 'collect_confirm',\n    la: 'ລູກຄ້າຢືນຢັນການເກັບແລ້ວ',\n    color: '#30cb83',\n  },\n  {\n    en: 'collect_reject',\n    la: 'ລູກຄ້າປະຕິເສດການເກັບ',\n    color: '#e74c3c',\n  },\n];\n\nexport const billDateList = [\n  {\n    text: 'ວັນທີຈ່າຍບິນ',\n    value: 'paided_at',\n  },\n  {\n    text: 'ວັນທີສ້າງບິນ',\n    value: 'created_at',\n  },\n  {\n    text: 'ວັນທີອະນຸມັດບິນ',\n    value: 'approved_at',\n  },\n\n  {\n    text: 'ວັນທີກວດສອບບິນສຳເລັດ',\n    value: 'confirmed_payment_at',\n  },\n];\n\nexport const concatPackage = (packageArr = []) => {\n  const connateArr = [];\n\n  for (const packageItem of packageArr) {\n    connateArr.push({\n      id: packageItem.id,\n      name: `${packageItem.name} (${Intl.NumberFormat().format(packageItem.price)} ກີບ)`,\n    });\n  }\n\n  return connateArr;\n};\n\nexport const getCustomerCanCollect = [\n  {\n    value: '',\n    text: 'ທັງໝົດ',\n  },\n  {\n    value: 'can',\n    text: 'ເກັບໄດ້',\n  },\n  {\n    value: 'not',\n    text: 'ເກັບບໍ່ໄດ້',\n  },\n];\n\nexport const getFullName = function (name, surname, company_name, customerType) {\n  if (customerType === 'company') return company_name;\n\n  return `${name} ${surname}`;\n};\n\nexport const getDisplayId = function (customerType, id) {\n  if (customerType === 'company') return `COM_${id}`;\n\n  return `CUS_${id}`;\n};\n","export * from \"-!../../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.47.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.89.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/.pnpm/vue-loader@15.11.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.15_webpack@4.47.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/.pnpm/sass-loader@10.4.1_sass@1.32.13_webpack@5.89.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/.pnpm/vue-loader@15.11.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.15_webpack@4.47.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBill.vue?vue&type=style&index=0&id=50afc6a9&prod&lang=scss\"","// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n","import VTextField from './VTextField'\n\nexport { VTextField }\nexport default VTextField\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-row',[_c('v-col',[_c('p',[_vm._v(\"ຈັດການຂໍ້ມູນບິນບິນຢ້ອນຫຼັງ\")])])],1),_c('v-row',{staticClass:\"mb-n6\"},[_c('v-col',[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.paymentStatus,\"item-value\":\"name\",\"label\":\"ສະຖານະບິນ\",\"item-text\":_vm.filterStatusLao,\"clearable\":\"\"},model:{value:(_vm.selectedPaymentStatus),callback:function ($$v) {_vm.selectedPaymentStatus=$$v},expression:\"selectedPaymentStatus\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"prepend-inner-icon\":\"mdi-account\",\"label\":\"ຊື່\",\"type\":\"text\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.Search()}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"prepend-inner-icon\":\"mdi-account\",\"label\":\"ໄອດີລູກຄ້າ\",\"type\":\"text\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.Search()}},model:{value:(_vm.searchCustomerId),callback:function ($$v) {_vm.searchCustomerId=$$v},expression:\"searchCustomerId\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"prepend-inner-icon\":\"mdi-phone\",\"label\":\"ເບີໂທ\",\"type\":\"text\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.Search()}},model:{value:(_vm.searchPhone),callback:function ($$v) {_vm.searchPhone=$$v},expression:\"searchPhone\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"prepend-inner-icon\":\"mdi-note-text-outline\",\"label\":\"ໄອດີບິນ\",\"type\":\"text\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.Search()}},model:{value:(_vm.billId),callback:function ($$v) {_vm.billId=$$v},expression:\"billId\"}})],1),_c('v-col',{staticClass:\"align-end text-end\"},[_c('v-btn',{staticClass:\"btn-primary mr-4\",on:{\"click\":function($event){return _vm.openAddModal()}}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\" mdi-upload \")]),_vm._v(\" import ບິນ \")],1)],1),_c('v-col',[_c('v-btn',{staticClass:\"btn-primary\",on:{\"click\":function($event){return _vm.choseUser()}}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\" mdi-plus \")]),_vm._v(\" ສ້າງບິນ \")],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-btn',{staticClass:\"btn-primary mr-4\",attrs:{\"color\":\"green\"},on:{\"click\":function($event){return _vm.downloadExample()}}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\" mdi-download \")]),_vm._v(\" ຕົວຢ່າງ import \")],1)],1)],1),_c('v-row',[_c('v-card',[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.invoices,\"search\":_vm.search,\"disable-pagination\":true,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.user\",fn:function({ item }){return [(item.billing.user.customer)?_c('div',[(item.billing.user.customer.customer_type = 'home')?_c('div',[_vm._v(\" \"+_vm._s(item.billing.user.name)+\" \")]):(item.billing.user.customer.customer_type = 'company')?_c('div',[_vm._v(\" \"+_vm._s(item.billing.user.customer.company_name)+\" \")]):_vm._e()]):_c('div',{staticClass:\"error--text\"},[_vm._v(\" ຍັງບໍ່ທັນສະໝັກບໍລິການ \")])]}},{key:\"item.customerType\",fn:function({ item }){return [(item.billing.user.customer)?_c('div',[_vm._v(\" \"+_vm._s(item.billing.user.customer.customer_type_la)+\" \")]):_vm._e()]}},{key:\"item.total\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(item.billing.total))+\" \")]}},{key:\"item.sub_total\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(item.billing.sub_total))+\" \")]}},{key:\"item.discount\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(item.billing.discount))+\" \")]}},{key:\"item.status\",fn:function({ item }){return [_c('v-chip',{attrs:{\"color\":_vm.getBgColorFunc(item.billing.status),\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.getLaoStatusFunc(item.billing.status))+\" \")])]}},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"success\",\"small\":\"\"},on:{\"click\":function($event){return _vm.ViewInvoice(item.billing.id)}}},[_vm._v(\" mdi-eye \")]),(_vm.canDelete(item.billing.status))?_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"red\",\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item.id)}}},[_vm._v(\" mdi-delete \")]):_vm._e()]}}])}),_c('br'),[(_vm.pagination.total_pages > 1)?_c('Pagination',{attrs:{\"pagination\":_vm.pagination,\"offset\":_vm.offset},on:{\"paginate\":function($event){return _vm.fetchData()}}}):_vm._e()]],2)],1)],1),_c('ModalAdd',[[_c('v-card',{staticClass:\"py-8 px-14\"},[_c('v-card-title',[_c('p',[_vm._v(\"Import ບິນຂີ້ເຫື້ຍອ\")])]),_c('v-card-text',[(!_vm.imported)?_c('v-container',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-file-input',{attrs:{\"show-size\":\"\",\"label\":\"File \",\"accept\":\"xlsx,xls\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_c('p',{staticClass:\"errors\"},[_vm._v(\" \"+_vm._s(_vm.server_errors.file)+\" \")]),_vm._l((_vm.errors),function(error,index){return _c('p',{key:index,staticClass:\"errors\"},[_vm._v(\" \"+_vm._s(error)+\" \")])})],2)],1)],1)],1):_c('v-container',[_c('v-row',[_c('v-col',[_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\" mdi-check-circle \")]),_vm._v(\" ສຳເລັດແລ້ວ \"+_vm._s(_vm.importSuccess)+\" ລາບການ \")],1)],1),(_vm.importErrors)?_c('v-row',[_c('v-col',[_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\" mdi-alert-circle \")]),_vm._v(\" ຜິດພາດ \"+_vm._s(_vm.importErrors)+\" ລາບການ \")],1)],1):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"elevation-0 btn mr-4 px-12\",attrs:{\"color\":\"error\",\"medium\":\"\"},on:{\"click\":function($event){return _vm.closeAddModal()}}},[_vm._v(\" ປິດ \")]),(!_vm.imported)?_c('v-btn',{staticClass:\"elevation-0 btn btn-primary px-12\",attrs:{\"medium\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.uploadFile}},[_vm._v(\" Import \")]):_vm._e()],1)],1)],1)]],2),_c('ModalDelete',[[_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.deleteInvoice}},[_vm._v(\" OK \")]),_c('v-spacer')],1)]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row>\n      <v-col>\n        <p>ຈັດການຂໍ້ມູນບິນບິນຢ້ອນຫຼັງ</p>\n      </v-col>\n    </v-row>\n    <v-row class=\"mb-n6\">\n      <v-col>\n        <v-select\n          v-model=\"selectedPaymentStatus\"\n          outlined\n          dense\n          :items=\"paymentStatus\"\n          item-value=\"name\"\n          label=\"ສະຖານະບິນ\"\n          :item-text=\"filterStatusLao\"\n          clearable\n        />\n      </v-col>\n\n      <v-col>\n        <v-text-field\n          v-model=\"search\"\n          outlined\n          dense\n          clearable\n          prepend-inner-icon=\"mdi-account\"\n          label=\"ຊື່\"\n          type=\"text\"\n          @keyup.enter=\"Search()\"\n        />\n      </v-col>\n      <v-col>\n        <v-text-field\n          v-model=\"searchCustomerId\"\n          outlined\n          dense\n          clearable\n          prepend-inner-icon=\"mdi-account\"\n          label=\"ໄອດີລູກຄ້າ\"\n          type=\"text\"\n          @keyup.enter=\"Search()\"\n        />\n      </v-col>\n      <v-col>\n        <v-text-field\n          v-model=\"searchPhone\"\n          outlined\n          dense\n          clearable\n          prepend-inner-icon=\"mdi-phone\"\n          label=\"ເບີໂທ\"\n          type=\"text\"\n          @keyup.enter=\"Search()\"\n        />\n      </v-col>\n      <v-col>\n        <v-text-field\n          v-model=\"billId\"\n          outlined\n          dense\n          clearable\n          prepend-inner-icon=\"mdi-note-text-outline\"\n          label=\"ໄອດີບິນ\"\n          type=\"text\"\n          @keyup.enter=\"Search()\"\n        />\n      </v-col>\n\n      <v-col class=\"align-end text-end\">\n        <v-btn\n          class=\"btn-primary mr-4\"\n          @click=\"openAddModal()\"\n        >\n          <v-icon class=\"mr-2\">\n            mdi-upload\n          </v-icon>\n          import ບິນ\n        </v-btn>\n      </v-col>\n      <v-col>\n        <v-btn\n          class=\"btn-primary\"\n          @click=\"choseUser()\"\n        >\n          <v-icon class=\"mr-2\">\n            mdi-plus\n          </v-icon>\n          ສ້າງບິນ\n        </v-btn>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <v-btn\n          class=\"btn-primary mr-4\"\n          color=\"green\"\n          @click=\"downloadExample()\"\n        >\n          <v-icon class=\"mr-2\">\n            mdi-download\n          </v-icon>\n          ຕົວຢ່າງ import\n        </v-btn>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-card>\n        <v-card-text>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"invoices\"\n            :search=\"search\"\n            :disable-pagination=\"true\"\n            hide-default-footer\n          >\n            <template v-slot:item.user=\"{ item }\">\n              <div v-if=\"item.billing.user.customer\">\n                <div v-if=\"item.billing.user.customer.customer_type = 'home'\">\n                  {{ item.billing.user.name }}\n                </div>\n                <div v-else-if=\"item.billing.user.customer.customer_type = 'company'\">\n                  {{ item.billing.user.customer.company_name }}\n                </div>\n              </div>\n              <div\n                v-else\n                class=\"error--text\"\n              >\n                ຍັງບໍ່ທັນສະໝັກບໍລິການ\n              </div>\n            </template>\n            <template v-slot:item.customerType=\"{ item }\">\n              <div v-if=\"item.billing.user.customer\">\n                {{ item.billing.user.customer.customer_type_la }}\n              </div>\n            </template>\n            <template v-slot:item.total=\"{ item }\">\n              {{ Intl.NumberFormat().format(item.billing.total) }}\n            </template>\n            <template v-slot:item.sub_total=\"{ item }\">\n              {{ Intl.NumberFormat().format(item.billing.sub_total) }}\n            </template>\n            <template v-slot:item.discount=\"{ item }\">\n              {{ Intl.NumberFormat().format(item.billing.discount) }}\n            </template>\n            <template v-slot:item.status=\"{ item }\">\n              <v-chip\n                :color=\"getBgColorFunc(item.billing.status)\"\n                dark\n              >\n                {{ getLaoStatusFunc(item.billing.status) }}\n              </v-chip>\n            </template>\n\n            <template v-slot:item.actions=\"{ item }\">\n              <v-icon\n                color=\"success\"\n                small\n                class=\"mr-2\"\n                @click=\"ViewInvoice(item.billing.id)\"\n              >\n                mdi-eye\n              </v-icon>\n              <v-icon\n                v-if=\"canDelete(item.billing.status)\"\n                color=\"red\"\n                small\n                class=\"mr-2\"\n                @click=\"deleteItem(item.id)\"\n              >\n                mdi-delete\n              </v-icon>\n            </template>\n          </v-data-table>\n          <br>\n          <template>\n            <Pagination\n              v-if=\"pagination.total_pages > 1\"\n              :pagination=\"pagination\"\n              :offset=\"offset\"\n              @paginate=\"fetchData()\"\n            />\n          </template>\n        </v-card-text>\n      </v-card>\n    </v-row>\n\n    <ModalAdd>\n      <template @close=\"close\">\n        <v-card class=\"py-8 px-14\">\n          <v-card-title>\n            <p>Import ບິນຂີ້ເຫື້ຍອ</p>\n          </v-card-title>\n          <v-card-text>\n            <v-container v-if=\"!imported\">\n              <v-form\n                ref=\"form\"\n                lazy-validation\n              >\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-file-input\n                      v-model=\"file\"\n                      show-size\n                      label=\"File \"\n                      accept=\"xlsx,xls\"\n                      outlined\n                      dense\n                    />\n                    <p class=\"errors\">\n                      {{ server_errors.file }}\n                    </p>\n                    <p\n                      v-for=\"(error, index) in errors\"\n                      :key=\"index\"\n                      class=\"errors\"\n                    >\n                      {{ error }}\n                    </p>\n                  </v-col>\n                </v-row>\n              </v-form>\n            </v-container>\n            <v-container v-else>\n              <v-row>\n                <v-col>\n                  <v-icon color=\"green\">\n                    mdi-check-circle\n                  </v-icon> ສຳເລັດແລ້ວ {{ importSuccess }} ລາບການ\n                </v-col>\n              </v-row>\n              <v-row v-if=\"importErrors\">\n                <v-col>\n                  <v-icon color=\"red\">\n                    mdi-alert-circle\n                  </v-icon> ຜິດພາດ {{ importErrors }} ລາບການ\n                </v-col>\n              </v-row>\n            </v-container>\n            <v-card-actions>\n              <v-spacer />\n              <v-btn\n                color=\"error\"\n                class=\"elevation-0 btn mr-4 px-12\"\n                medium\n                @click=\"closeAddModal()\"\n              >\n                ປິດ\n              </v-btn>\n              <v-btn\n                v-if=\"!imported\"\n                class=\"elevation-0 btn btn-primary px-12\"\n                medium\n                :loading=\"loading\"\n                :disabled=\"loading\"\n                @click=\"uploadFile\"\n              >\n                Import\n              </v-btn>\n            </v-card-actions>\n          </v-card-text>\n        </v-card>\n      </template>\n    </ModalAdd>\n\n    <!--Delete Modal-->\n    <ModalDelete>\n      <template>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"blue darken-1\"\n            text\n            @click=\"closeDelete\"\n          >\n            Cancel\n          </v-btn>\n          <v-btn\n            color=\"blue darken-1\"\n            text\n            :loading=\"loading\"\n            :disabled=\"loading\"\n            @click=\"deleteInvoice\"\n          >\n            OK\n          </v-btn>\n          <v-spacer />\n        </v-card-actions>\n      </template>\n    </ModalDelete>\n  </v-container>\n</template>\n\n<script>\nimport queryOption from '@/Helpers/queryOption';\nimport { getLaoStatus, getBgColor } from '@/Helpers/BillingStatus';\nimport { getLaoCustomerType } from '@/Helpers/Customer';\n\nexport default {\n  name: 'Invoice',\n  title() {\n    return `Vientiane Waste Co-Dev|Invoice`;\n  },\n  data() {\n    return {\n      tab: null,\n      invoices: [],\n      billId: null,\n      searchPhone: \"\",\n      searchCustomerId: \"\",\n      billingId: '',\n      loading: false,\n      calendarId: '',\n      importSuccess: 0,\n      importErrors: null,\n      imported: false,\n      // Pagination\n\n      offset: 12,\n      pagination: {},\n      per_page: 100,\n      search: '',\n      oldVal: '',\n      // Add Package\n      date: new Date().toISOString().substr(0, 7),\n      start_menu: false,\n      server_errors: {},\n      errors: [],\n      file: null,\n      // Filter\n      selectedPaymentStatus: '',\n      paymentStatus: [\n        {\n          id: 1,\n          name: 'created',\n        }, {\n          id: 2,\n          name: 'approved',\n        },\n        {\n          id: 3,\n          name: 'to_confirm_payment',\n        },\n        {\n          id: 4,\n          name: 'rejected',\n        },\n        {\n          id: 5,\n          name: 'success',\n        },\n      ],\n\n      headers: [\n        { text: 'ເລກບິນ', value: 'billing.billing_display_id', width: '150' },\n        { text: 'ຫົວບິນ', value: 'billing.content', width: '150' },\n        { text: 'ເດືອນ', value: 'billing.bill_month', width: '120' },\n        {\n          text: 'ລວມທັງໝົດ',\n          value: 'total',\n          align: 'center',\n        }, {\n          text: 'ໄອດີລູກຄ້າ',\n          value: 'billing.user.customer.customer_id',\n          width: '130',\n        },\n        {\n          text: 'ລູກຄ້າ',\n          value: 'billing.user.customer.full_name',\n          width: '130',\n        },\n\n        {\n          text: 'ເບີໂທ',\n          value: 'billing.user.phone',\n          width: '130',\n        },\n        {\n          text: 'ປະເພດລູກຄ້າ',\n          value: 'customerType',\n          width: '130',\n        },\n        { text: 'ວັນທີສ້າງ', value: 'created_at', width: '120' },\n\n        {\n          text: 'ສະຖານະ',\n          value: 'status',\n        },\n        { text: '', value: 'actions', sortable: false },\n      ],\n    };\n  },\n  watch: {\n    search(value) {\n      this.pagination.current_page = '';\n      if (value == '') {\n        this.fetchData();\n      }\n    },\n    selectedPaymentStatus() {\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    file() {\n      this.errors = [];\n    },\n\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    canDelete(status) {\n      const billingArray = ['created', 'approved'];\n      return billingArray.indexOf(status) != -1;\n    },\n    getLaoStatusFunc(status) {\n      return getLaoStatus(status);\n    },\n    getBgColorFunc(status) {\n      return getBgColor(status);\n    },\n    filterStatusLao(status) {\n      return getLaoStatus(status.name);\n    },\n    getLaoCustomerType(type) {\n      return getLaoCustomerType(type);\n    },\n    fetchData() {\n      this.$store.commit('Loading_State', true);\n      this.$axios\n        .get('custom-bill', {\n          params: queryOption([\n            { page: this.pagination.current_page },\n            { per_page: this.per_page },\n            { filter: this.search },\n            { phone: this.searchPhone },\n            { customer_id: this.searchCustomerId },\n            { billing_status: this.selectedPaymentStatus },\n            { order_by: 'newest' },\n            { bill_id: this.billId },\n          ]),\n        })\n        .then((res) => {\n          if (res.data.code == 200) {\n            this.$store.commit('Loading_State', false);\n            this.invoices = res.data.data.data;\n            this.pagination = res.data.data.pagination;\n          }\n        })\n        .catch((error) => {\n          this.$store.commit('Loading_State', false);\n          if (error.response && error.response.status == 422) {\n            const obj = error.response.data.errors;\n            for (const [key, message] of Object.entries(obj)) {\n              this.server_errors[key] = message[0];\n            }\n          }\n        });\n    },\n    Search() {\n      this.fetchData();\n    },\n    async downloadExample() {\n      const res = await this.$axios.get('import-old-payment-example');\n      window.open(res.data.data.download_link);\n    },\n    openAddModal() {\n      this.$store.commit('modalAdd_State', true);\n    },\n    closeAddModal() {\n      this.file = '';\n      this.importSuccess = 0;\n      this.imported = false;\n      this.importErrors = null;\n\n      this.$store.commit('modalAdd_State', false);\n    },\n    uploadFile() {\n      const formData = new FormData();\n      formData.append('file', this.file);\n      if (this.$refs.form.validate() == true) {\n        this.$store.commit('Loading_State', true);\n        this.$axios\n          .post('import-old-payment', formData)\n          .then((res) => {\n            this.imported = true;\n            this.$store.commit('Loading_State', false);\n            if (res.data.code == 200) {\n              if (res.data.data.errors || res.data.data.exception) {\n                this.importErrors = res.data.data.errors || res.data.data.exception;\n                this.$store.commit('Toast_State', {\n                  value: true,\n                  color: 'error',\n                  msg: this.importErrors,\n                });\n              } else if (res.data.data.data) {\n                this.fetchData();\n                this.$refs.form.reset();\n                this.importSuccess = res.data.data.data.length;\n                this.$store.commit('Toast_State', {\n                  value: true,\n                  color: 'success',\n                  msg: res.data.message,\n                });\n              } else {\n                this.$store.commit('Toast_State', {\n                  value: true,\n                  color: 'error',\n                  msg: 'ຂໍ້ມູນບໍ່ສາມາດ import ໄດ້ເລີຍ ກະລຸນາກວດໄຟລຄືນໃໝ່',\n                });\n              }\n            }\n          })\n          .catch((error) => {\n            this.imported = true;\n            this.$store.commit('Loading_State', false);\n            if (error.response) {\n              this.$store.commit('Toast_State', {\n                value: true,\n                color: 'error',\n                msg: error.response ? error.response.data.message : 'Something went wrong',\n              });\n              if (error.response && error.response.status == 422) {\n                const obj = error.response.data.errors;\n                this.errors = obj;\n                for (const [key, data] of Object.entries(obj)) {\n                  this.server_errors[key] = data[0];\n                }\n              }\n            } else {\n              this.$store.commit('Toast_State', {\n                value: true,\n                color: 'error',\n                msg: `ຂໍ້ຜິດພາດທາງລະບົບ ກະລຸນາຕິດຕໍ່ນັກພັດທະນາ ${error}`,\n              });\n            }\n          });\n      }\n    },\n    choseUser() {\n      this.$router.push({\n        name: 'chose-customer',\n        query: { redirect: 'create-custom-bill' },\n      });\n\n      // this.$router.push({\n      //   name: \"chose-user\",\n      // });\n    },\n    closeDelete() {\n      this.$store.commit('modalDelete_State', false);\n    },\n    deleteItem(id) {\n      this.billingId = id;\n      this.$store.commit('modalDelete_State', true);\n    },\n\n    deleteInvoice() {\n      this.$store.commit('Loading_State', true);\n      this.$axios\n        .delete(`custom-bill/${this.billingId}`)\n\n        .then((res) => {\n          if (res.data.code == 200) {\n            setTimeout(() => {\n              this.$store.commit('Loading_State', false);\n              this.$store.commit('modalDelete_State', false);\n              this.fetchData();\n              this.$store.commit('Toast_State', {\n                value: true,\n                color: 'success',\n                msg: res.data.message,\n              });\n            }, 300);\n          }\n        })\n        .catch((error) => {\n          this.$store.commit('Loading_State', false);\n          this.$store.commit('Toast_State', {\n            value: true,\n            color: 'error',\n            msg: error.response ? error.response.data.message : 'Something went wrong',\n          });\n          this.$store.commit('modalDelete_State', false);\n        });\n    },\n    ViewInvoice(id) {\n      const route = this.$router.resolve({ name: 'billing-detail', params: { id } });\n      window.open(route.href, '_blank');\n    },\n    paymentStatusText(status) {\n      if (status == 'created') return 'ສ້າງບິນສຳເລັດ';\n      if (status == 'approved') return 'ອະນຸມັດສຳເລັດ';\n      if (status == 'pending') return 'ລໍຖ້າເກັບເງິນ';\n      if (status == 'to_confirm_payment') return 'ລໍຖ້າຢືນຢັນຊຳລະ';\n      if (status == 'rejected') return 'ປະຕິເສດການຊຳລະ';\n      if (status == 'success') return 'ຊຳລະສຳເລັດ';\n      if (status == 'cancel') return 'ຍົກເລີກ';\n      return '';\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../../public/scss/main\";\n</style>\n","import mod from \"-!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.47.0/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.23.2_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/.pnpm/vue-loader@15.11.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.15_webpack@4.47.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBill.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.47.0/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.23.2_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/.pnpm/vue-loader@15.11.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.15_webpack@4.47.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBill.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CustomBill.vue?vue&type=template&id=50afc6a9\"\nimport script from \"./CustomBill.vue?vue&type=script&lang=js\"\nexport * from \"./CustomBill.vue?vue&type=script&lang=js\"\nimport style0 from \"./CustomBill.vue?vue&type=style&index=0&id=50afc6a9&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/.pnpm/vue-loader@15.11.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.15_webpack@4.47.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}