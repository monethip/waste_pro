(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-259a3c59"],{"1eb4":function(e,t,a){"use strict";a("f3a1")},"22aa":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c}));var n=function(e){switch(e){case"created":case"ລໍຖ້າອະນຸມັດ":return"#73b8fd";case"approved":case"ອະນຸມັດແລ້ວ":return"#0080fc";case"canceled":case"ບິນຖືກຍົກເລີກ":return"#eb004c";case"rejected":case"ການຈ່າຍຖືກປະຕິເສດ":return"#740127";case"to_confirm_payment":case"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ":return"#9c540d";case"success":case"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ":return"#02a38a"}},r=function(e){switch(e){case"created":return"ລໍຖ້າອະນຸມັດ";case"approved":return"ອະນຸມັດແລ້ວ";case"canceled":return"ບິນຖືກຍົກເລີກ";case"rejected":return"ການຈ່າຍຖືກປະຕິເສດ";case"to_confirm_payment":return"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ";case"success":return"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ";case"cash":return"ຊຳລະເງິນສົດ";case"bcel":return"BCEL"}},c=function(e){switch(e){case"CustomBill":return"ບິນອື່ນໆ";case"NewCollectionEvent":return"ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ";case"FutureInvoice":return"ບິນບໍລິການລ່ວງໜ້າ";case"NewInvoice":return"ບິນບໍລິການປະຈຳເດືອນ";default:return e}}},"4fad":function(e,t,a){var n=a("23e7"),r=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},"54da":function(e,t,a){"use strict";var n=a("b85c");a("b64b");t["a"]=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},r=Object(n["a"])(t);try{for(r.s();!(e=r.n()).done;){var c=e.value;1==Object.keys(c).length&&c[Object.keys(c)]&&(a[Object.keys(c)]=c[Object.keys(c)])}}catch(i){r.e(i)}finally{r.f()}return a}},"6eceb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("ac1f"),a("841c");var n=function(e){""!==e.search?""!==e.oldVal?e.oldVal!==e.search&&(e.oldVal=e.search,e.pagination.current_page=1,e.fetchData()):(""!==e.search&&(e.pagination.current_page=1,e.fetchData()),e.oldVal=e.search):e.oldVal=""}},7660:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return c}));var n=function(e){switch(e){case"container":return"ຄອນເທນເນີ";case"fix_cost":return"ເປັນຖ້ຽວ";case"chartered":return"ມອບເໝົາ";case"bag":return"ບໍລິມາດ";default:return e}},r=[{en:"container",la:"ຄອນເທນເນີ"},{en:"fix_cost",la:"ເປັນຖ້ຽວ"},{en:"chartered",la:"ມອບເໝົາ"},{en:"bag",la:"ບໍລິມາດ"}],c=function(e){switch(e){case"company":return"ຫົວໜ່ວຍທຸລະກິດ";case"home":return"ຄົວເຮືອນ";default:return e}}},f3a1:function(e,t,a){},fc44:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"mb-n6"},[a("v-col",[a("p",[e._v("ຈັດການຂໍ້ມູນບິນລ່ວງໜ້າ")])]),a("v-col",[a("v-select",{attrs:{outlined:"",dense:"",items:e.paymentStatus,"item-text":e.filterStatusLao,"item-value":"name",label:"ສະຖານະບິນ",clearable:""},model:{value:e.selectedPaymentStatus,callback:function(t){e.selectedPaymentStatus=t},expression:"selectedPaymentStatus"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify",label:"ຊື່",type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Search()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{staticClass:"align-end "},[a("v-btn",{staticClass:"btn-primary elevation-0",on:{click:function(t){return e.choseCustomer()}}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-plus")]),e._v(" ສ້າງບິນ ")],1)],1)],1),a("div",[a("v-card",[a("v-card-text",[a("v-data-table",{attrs:{headers:e.headers,items:e.invoices,search:e.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:e._u([{key:"item.user",fn:function(t){var n=t.item;return[n.billing.user.customer?a("div",[(n.billing.user.customer.customer_type="home")?a("div",[e._v(" "+e._s(n.billing.user.name)+" ")]):(n.billing.user.customer.customer_type="company")?a("div",[e._v(" "+e._s(n.billing.user.customer.company_name)+" ")]):e._e()]):a("div",{staticClass:"error--text"},[e._v(" ຍັງບໍ່ທັນສະໝັກບໍລິການ ")])]}},{key:"item.customerType",fn:function(t){var n=t.item;return[n.billing.user.customer?a("div",[e._v(" "+e._s(e.getLaoCustomerType(n.billing.user.customer.customer_type))+" ")]):e._e()]}},{key:"item.start_month",fn:function(t){var n=t.item;return[a("div",{staticClass:"success--text"},[e._v(" "+e._s(n.start_month)+" ")])]}},{key:"item.end_month",fn:function(t){var n=t.item;return[a("div",{staticClass:"error--text"},[e._v(" "+e._s(n.start_month)+" ")])]}},{key:"item.total",fn:function(t){var a=t.item;return[e._v(" "+e._s(Intl.NumberFormat().format(a.billing.total))+" ")]}},{key:"item.sub_total",fn:function(t){var a=t.item;return[e._v(" "+e._s(Intl.NumberFormat().format(a.billing.sub_total))+" ")]}},{key:"item.discount",fn:function(t){var a=t.item;return[e._v(" "+e._s(Intl.NumberFormat().format(a.billing.discount))+" ")]}},{key:"item.status",fn:function(t){var n=t.item;return[a("v-chip",{attrs:{color:e.getBgColorFunc(n.billing.status),dark:""}},[e._v(e._s(e.getLaoStatusFunc(n.billing.status)))])]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"success",small:""},on:{click:function(t){return e.ViewInvoice(n.billing.id)}}},[e._v(" mdi-eye ")])]}}])}),a("br"),[e.pagination.total_pages>1?a("Pagination",{attrs:{pagination:e.pagination,offset:e.offset},on:{paginate:function(t){return e.fetchData()}}}):e._e()]],2)],1)],1)],1)},r=[],c=a("3835"),i=(a("b0c0"),a("ac1f"),a("841c"),a("4fad"),a("6eceb")),s=a("54da"),o=a("22aa"),u=a("7660"),l={name:"Invoice",title:function(){return"Vientiane Waste Co-Dev|Invoice"},data:function(){return{tab:null,invoices:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:15,search:"",oldVal:"",date:(new Date).toISOString().substr(0,7),start_menu:!1,server_errors:{},selectedPaymentStatus:"",paymentStatus:[{id:1,name:"created"},{id:2,name:"approved"},{id:3,name:"to_confirm_payment"},{id:4,name:"rejected"},{id:5,name:"success"}],headers:[{text:"ເລກບິນ",value:"billing.content",width:"150"},{text:"ລູກຄ້າ",value:"user",width:"130",sortable:!1},{text:"ເບີໂທ",value:"billing.user.phone",width:"130",sortable:!1},{text:"ປະເພດລູກຄ້າ",value:"customerType",width:"130",sortable:!1},{text:"ວັນທີ",value:"start_month",width:"120"},{text:"ຫາວັນທີ",value:"end_month",width:"120"},{text:"ຄ່າບໍລິການ",value:"sub_total",align:"center",sortable:!1},{text:"ລວມທັງໝົດ",value:"total",align:"center",sortable:!1},{text:"ສະຖານະ",value:"status",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{getLaoStatusFunc:function(e){return Object(o["c"])(e)},getBgColorFunc:function(e){return Object(o["a"])(e)},filterStatusLao:function(e){return Object(o["c"])(e.name)},getLaoCustomerType:function(e){return Object(u["c"])(e)},fetchData:function(){var e=this;this.$store.commit("Loading_State",!0),this.$axios.get("future-invoice",{params:Object(s["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search},{billing_status:this.selectedPaymentStatus}])}).then((function(t){200==t.data.code&&(e.$store.commit("Loading_State",!1),e.invoices=t.data.data.data,e.pagination=t.data.data.pagination)})).catch((function(t){if(e.$store.commit("Loading_State",!1),422==t.response.status)for(var a=t.response.data.errors,n=0,r=Object.entries(a);n<r.length;n++){var i=Object(c["a"])(r[n],2),s=i[0],o=i[1];e.server_errors[s]=o[0]}}))},Search:function(){Object(i["a"])(this)},choseCustomer:function(){this.$router.push({name:"chose-customer",query:{redirect:"create-future-customer"}})},ViewInvoice:function(e){var t=this.$router.resolve({name:"billing-detail",params:{id:e}});window.open(t.href,"_blank")}},watch:{search:function(e){""==e&&this.fetchData()},selectedPaymentStatus:function(){this.pagination.current_page="",this.fetchData()}},created:function(){this.fetchData()}},d=l,f=(a("1eb4"),a("2877")),m=a("6544"),v=a.n(m),b=a("8336"),h=a("b0af"),p=a("99d9"),_=a("cc20"),g=a("62ad"),y=a("a523"),k=a("8fea"),w=a("132d"),x=a("0fd9"),C=a("b974"),S=a("8654"),V=Object(f["a"])(d,n,r,!1,null,null,null);t["default"]=V.exports;v()(V,{VBtn:b["a"],VCard:h["a"],VCardText:p["b"],VChip:_["a"],VCol:g["a"],VContainer:y["a"],VDataTable:k["a"],VIcon:w["a"],VRow:x["a"],VSelect:C["a"],VTextField:S["a"]})}}]);
//# sourceMappingURL=chunk-259a3c59.36cf3bbd.js.map