(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7062d826"],{"4bd4":function(t,a,e){"use strict";e("14d9");var s=e("58df"),i=e("7e2b"),r=e("3206");a["a"]=Object(s["a"])(i["a"],Object(r["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const a=Object.values(t).includes(!0);this.$emit("input",!a)},deep:!0,immediate:!0}},methods:{watchInput(t){const a=t=>t.$watch("hasError",a=>{this.$set(this.errorBag,t._uid,a)},{immediate:!0}),e={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?e.shouldValidate=t.$watch("shouldValidate",s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(e.valid=a(t)))}):e.valid=a(t),e},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const a=this.inputs.find(a=>a._uid===t._uid);if(!a)return;const e=this.watchers.find(t=>t._uid===a._uid);e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==a._uid),this.inputs=this.inputs.filter(t=>t._uid!==a._uid),this.$delete(this.errorBag,a._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"6eceb":function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));const s=t=>{""!==t.search?""!==t.oldVal?t.oldVal!==t.search&&(t.oldVal=t.search,t.pagination.current_page=1,t.fetchData()):(""!==t.search&&(t.pagination.current_page=1,t.fetchData()),t.oldVal=t.search):t.oldVal=""}},"85a5":function(t,a,e){"use strict";e("962c")},"962c":function(t,a,e){},afdd:function(t,a,e){"use strict";var s=e("8336");a["a"]=s["a"]},c1bb:function(t,a,e){"use strict";e.r(a);var s=e("2bc5"),i=e("8336"),r=e("b0af"),n=e("99d9"),o=e("62ad"),l=e("a523"),d=e("2e4b"),c=e("4bd4"),u=e("132d"),h=e("0fd9"),p=e("2fa4"),m=e("8654"),b=function(){var t=this,a=t._self._c;return a(l["a"],[a(h["a"],{staticClass:"mb-4"},[a(o["a"],[a(s["a"],{staticClass:"pa-0",attrs:{large:""}},[a(i["a"],{staticClass:"text-primary",attrs:{text:""},on:{click:function(a){return t.backPrevios()}}},[a(u["a"],[t._v("mdi-chevron-left")])],1),t._v(" ສ້າງບິນຢ້ອນຫຼັງ ")],1)],1)],1),a("div",[a(r["a"],[a(n["b"],{staticClass:"pa-8"},[a(c["a"],{ref:"form",attrs:{"lazy-validation":""}},[a(h["a"],[a(o["a"],{attrs:{cols:"4"}},[a("p",[t._v("ວັນທີບິນ")]),a(d["a"],{attrs:{type:"month",max:t.now},model:{value:t.billDate,callback:function(a){t.billDate=a},expression:"billDate"}})],1),a(o["a"],{attrs:{cols:"8"}},[a(h["a"],[a(o["a"],[a(m["a"],{attrs:{label:"ຊື່ລາຍການ *",required:"",rules:t.totalRules,outlined:"",dense:"",disabled:t.disabledTitle},model:{value:t.data.title,callback:function(a){t.$set(t.data,"title",a)},expression:"data.title"}}),a("p",{staticClass:"errors"},[t._v(" "+t._s(t.server_errors.title)+" ")])],1),a(o["a"],{attrs:{cols:"2"}},[a(i["a"],{attrs:{color:"primary"},on:{click:function(a){t.disabledTitle=!t.disabledTitle}}},[a(u["a"],[t._v("mdi-pen")])],1)],1)],1),a(h["a"],[a(o["a"],[a(m["a"],{attrs:{label:"ຄຳອະທິບາຍ *",required:"",rules:t.totalRules,outlined:"",dense:"",disabled:t.disabledDescription},model:{value:t.data.description,callback:function(a){t.$set(t.data,"description",a)},expression:"data.description"}}),a("p",{staticClass:"errors"},[t._v(" "+t._s(t.server_errors.description)+" ")])],1),a(o["a"],{attrs:{cols:"2"}},[a(i["a"],{attrs:{color:"primary"},on:{click:function(a){t.disabledDescription=!t.disabledDescription}}},[a(u["a"],[t._v("mdi-pen")])],1)],1)],1),a(h["a"],[a(o["a"],[a(m["a"],{staticClass:"input-number",attrs:{label:"ລາຄາ *",required:"",rules:t.totalRules,type:"number",outlined:"",dense:""},model:{value:t.data.price,callback:function(a){t.$set(t.data,"price",a)},expression:"data.price"}}),a("p",{staticClass:"errors"},[t._v(" "+t._s(t.server_errors.price)+" ")])],1)],1),a(h["a"],[a(o["a"],[a(m["a"],{staticClass:"input-number",attrs:{label:"ຈຳນວນ *",required:"",rules:t.totalRules,type:"number",outlined:"",dense:""},model:{value:t.data.quantity,callback:function(a){t.$set(t.data,"quantity",a)},expression:"data.quantity"}}),a("p",{staticClass:"errors"},[t._v(" "+t._s(t.server_errors.quantity)+" ")])],1)],1)],1)],1)],1),a(n["a"],[a(p["a"]),a(i["a"],{staticClass:"elevation-0 btn-warning mr-4",on:{click:function(a){return t.backPrevios()}}},[t._v(" ຍ້ອນກັບ ")]),a(i["a"],{staticClass:"elevation-0 btn-primary",attrs:{loading:t.loading,disabled:t.loading},on:{click:function(a){return t.AddData()}}},[t._v(" ສ້າງບິນ ")])],1)],1)],1)],1)],1)},f=[],v=(e("14d9"),e("6eceb")),_=e("c1df"),g=e.n(_),w={name:"Invoice",props:["items"],title(){return"Vientiane Waste Co-Dev|Invoice"},data(){return{tab:null,now:(new Date).toISOString().substr(0,7),start_date:(new Date).toISOString().substr(0,7),billDate:(new Date).toISOString().substr(0,7),end_date:"",disabledTitle:!0,disabledDescription:!0,start_menu:!1,end_menu:!1,invoices:[],loading:!1,is_instantly:0,data:{email:""},user:{},calendarId:"",offset:12,pagination:{},per_page:100,search:"",oldVal:"",packages:[],selectedPackage:"",server_errors:{},preview_list:[],image_list:[],image:[],totalRules:[t=>!!t||"Total is required"]}},watch:{is_instantly(t){console.log(t)},search(t){""==t&&this.fetchData()},"plan.name":function(){this.server_errors.name=""},start_date(){this.server_errors.month=""},billDate(t){this.data.title="ຄ່າບໍລິການປະຈຳເດືອນ "+g()(t).format("MM-YYYY"),this.data.description="ຄ່າບໍລິການປະຈຳເດືອນ "+g()(t).format("MM-YYYY")},"calendarEdit.name":function(){this.server_errors.name=""},"calendarEdit.month":function(){this.server_errors.month=""}},created(){this.fetchData(),console.log("2222",this.items),this.items||this.$router.push("/")},methods:{fetchData(){this.user=this.items},Search(){Object(v["a"])(this)},backPrevios(){this.$router.go(-1)},AddData(){const t={user_id:this.user.id,title:this.data.title,description:this.data.description,price:this.data.price,date:this.billDate,quantity:this.data.quantity};1==this.$refs.form.validate()&&(this.loading=!0,this.$axios.post("custom-bill",t).then(t=>{200==t.data.code&&(this.loading=!1,this.$store.commit("Toast_State",{value:!0,color:"success",msg:t.data.message}),this.$router.push({name:"custom-bill"}))}).catch(t=>{if(this.$store.commit("Toast_State",{value:!0,color:"error",msg:t.response?t.response.data.message:"Something went wrong"}),t.response&&422==t.response.status){const a=t.response.data.errors;for(const[t,e]of Object.entries(a))this.server_errors[t]=e[0]}this.loading=!1}))}}},y=w,D=(e("85a5"),e("2877")),$=Object(D["a"])(y,b,f,!1,null,null,null);a["default"]=$.exports}}]);
//# sourceMappingURL=chunk-7062d826.e46247ad.js.map