(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d688ae0"],{"1e6c":function(t,e,a){"use strict";var s=a("9d65"),i=a("4e82"),o=a("c3f0"),r=a("80d2"),n=a("58df");const l=Object(n["a"])(s["a"],Object(i["a"])("windowGroup","v-window-item","v-window"));e["a"]=l.extend().extend().extend({name:"v-window-item",directives:{Touch:o["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(r["h"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick(()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(r["h"])(t.clientHeight))})}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}})},"1f4f":function(t,e,a){"use strict";a("8b37");var s=a("80d2"),i=a("7560"),o=a("58df");e["a"]=Object(o["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["h"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"22aa":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"f",(function(){return n})),a.d(e,"e",(function(){return l})),a.d(e,"g",(function(){return c})),a.d(e,"h",(function(){return d}));const s=function(t){switch(t){case"created":case"ລໍຖ້າອະນຸມັດ":return"#73b8fd";case"approved":case"ອະນຸມັດແລ້ວ":return"#0080fc";case"canceled":case"ບິນຖືກຍົກເລີກ":return"#eb004c";case"rejected":case"ການຈ່າຍຖືກປະຕິເສດ":return"#740127";case"to_confirm_payment":case"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ":return"#9c540d";case"success":case"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ":return"#02a38a"}},i=function(t){switch(t){case"created":return"ລໍຖ້າອະນຸມັດ";case"approved":return"ອະນຸມັດແລ້ວ";case"canceled":return"ບິນຖືກຍົກເລີກ";case"rejected":return"ການຈ່າຍຖືກປະຕິເສດ";case"to_confirm_payment":return"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ";case"success":return"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ";case"cash":return"ຊຳລະເງິນສົດ";case"bcel":return"BCEL";default:return t}},o=function(t){switch(t){case"CustomBill":return"ບິນຍ້ອນຫຼັງ";case"NewCollectionEvent":return"ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ";case"FutureInvoice":return"ບິນບໍລິການລ່ວງໜ້າ";case"NewInvoice":return"ບິນບໍລິການປະຈຳເດືອນ";default:return t}},r=function(t){switch(t){case"requested":return"ຮ້ອງຂໍເກັບຂີ້ເຫື້ຍອ";case"rejected":return"ປະຕິເສດເກັບຂີ້ເຫື້ຍອ";case"approved":return"ອະນຸມັດເກັບຂີ້ເຫື້ຍອ";case"collected":return"ເກັບຂີເຫື້ຍອສຳເລັດ";case"collect_confirm":return"ລູກຄ້າຢືນຢັນການເກັບ";case"collect_reject":return"ການເກັບຖືກປະຕິເສດ";default:return t}},n=[{value:"cash",text:"ເງິນສົດ"},{value:"bcel",text:"ເງິນໂອນ"},{value:"bcel_online",text:"bcel bill payments"}],l=["created","approved","to_confirm_payment","success"],c=["rejected","canceled"],d=["kg","ຖົງ","container","ຄັ້ງ"]},"347c":function(t,e,a){t.exports=a.p+"img/pin1.d74f27bd.svg"},"398d":function(t,e,a){"use strict";var s=a("62ad"),i=a("0fd9"),o=function(){var t=this,e=t._self._c;return e(i["a"],t._l(t.cards,(function(t,a){return e(s["a"],{key:a},[e("MoneyCard",{attrs:{title:t.status_la,total:t.total,billing_count:t.count_billing,bg_color:t.bg_color,route:t.route,icon:t.icon,icon_color:t.icon_color}})],1)})),1)},r=[],n=a("b0af"),l=a("99d9"),c=a("cc20"),d=a("132d"),u=function(){var t=this,e=t._self._c;return e(n["a"],{staticStyle:{height:"100px"},attrs:{outlined:""},on:{click:function(e){return t.openNewTab(t.route)}}},[e(l["c"],{staticClass:"d-flex justify-between w-full",staticStyle:{position:"relative"}},[t.icon?e(c["a"],{staticClass:"text-caption",attrs:{color:t.icon_color,dark:""}},[e(d["a"],{attrs:{"x-small":!0}},[t._v(" "+t._s(t.icon)+" ")]),e("div",{staticClass:"ml-1",attrs:{color:t.icon_color}},[t._v(" "+t._s(t.title)+" ")])],1):e(c["a"],{staticClass:"text-caption",attrs:{color:t.bg_color,dark:""}},[t._v(" "+t._s(t.title)+" ")]),null!=t.billing_count&&""!=t.billing_count&&void 0!=t.billing_count?e(c["a"],{staticStyle:{position:"absolute",right:"10px"},attrs:{color:t.bg_color,outlined:""}},[t._v(" "+t._s(Intl.NumberFormat().format(t.billing_count))+" ບິນ ")]):t._e()],1),t.total?e(l["b"],[e("p",{staticClass:"text-h5"},[t._v(" "+t._s(Intl.NumberFormat().format(t.total))+" K ")])]):t._e()],1)},h=[],m={props:["title","billing_count","total","bg_color","route","icon","icon_color"],data(){return{}},created(){},beforeUpdate(){this.$store.commit("Loading_State",!0)},updated(){this.$store.commit("Loading_State",!1)},methods:{getColor(t){return"background-color: "+t},openNewTab(t){t&&window.open(t.href,"_blank")}}},_=m,p=a("2877"),v=Object(p["a"])(_,u,h,!1,null,null,null),f=v.exports,g={components:{MoneyCard:f},props:["cards"],data(){return{}}},b=g,C=Object(p["a"])(b,o,r,!1,null,null,null);e["a"]=C.exports},"3e35":function(t,e,a){"use strict";a("14d9");var s=a("1e6c"),i=a("adda"),o=a("58df"),r=a("80d2"),n=a("1c87");const l=Object(o["a"])(s["a"],n["a"]);e["a"]=l.extend().extend({name:"v-carousel-item",inject:{parentTheme:{default:{isDark:!1}}},provide(){return{theme:this.parentTheme}},inheritAttrs:!1,methods:{genDefaultSlot(){return[this.$createElement(i["a"],{staticClass:"v-carousel__item",props:{...this.$attrs,height:this.windowGroup.internalHeight},on:this.$listeners,scopedSlots:{placeholder:this.$scopedSlots.placeholder}},Object(r["s"])(this))]},genWindowItem(){const{tag:t,data:e}=this.generateRouteLink();return e.staticClass="v-window-item",e.directives.push({name:"show",value:this.isActive}),this.$createElement(t,e,this.genDefaultSlot())}}})},"5e66":function(t,e,a){"use strict";a("14d9"),a("63b7");var s=a("f665"),i=a("afdd"),o=a("9d26"),r=a("37c6"),n=a("604c"),l=n["a"].extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return n["a"].options.computed.classes.call(this)}},methods:{genData:n["a"].options.methods.genData}}),c=a("80d2"),d=a("d9bd");e["a"]=s["a"].extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>t>0},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},provide(){return{parentTheme:this.theme}},data(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical}},isDark(){return this.dark||!this.light},isVertical(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height(t,e){t!==e&&t&&(this.internalHeight=t)},cycle(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created(){this.$attrs.hasOwnProperty("hide-controls")&&Object(d["a"])("hide-controls",':show-arrows="false"',this)},mounted(){this.startTimeout()},methods:{genControlIcons(){return this.isVertical?null:s["a"].options.methods.genControlIcons.call(this)},genDelimiters(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems(){const t=this.items.length,e=[];for(let a=0;a<t;a++){const s=this.$createElement(i["a"],{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",a+1,t)},props:{icon:!0,small:!0,value:this.getValue(this.items[a],a)},key:a},[this.$createElement(o["a"],{props:{size:18}},this.delimiterIcon)]);e.push(s)}return this.$createElement(l,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:t=>{this.internalValue=t}}},e)},genProgress(){return this.$createElement(r["a"],{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render(t){const e=s["a"].options.render.call(this,t);return e.data.style=`height: ${Object(c["h"])(this.height)};`,this.hideDelimiters||e.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&e.children.push(this.genProgress()),e}})},"63b7":function(t,e,a){},"6cdd":function(t,e,a){"use strict";a("92fe")},"8adc":function(t,e,a){},"8b37":function(t,e,a){},"92fe":function(t,e,a){},af97:function(t,e,a){"use strict";a.r(e);var s=a("2bc5"),i=a("8336"),o=a("b0af"),r=a("99d9"),n=a("5e66"),l=a("3e35"),c=a("cc20"),d=a("62ad"),u=a("a523"),h=a("2e4b"),m=a("ce7e"),_=a("132d"),p=a("adda"),v=a("da13"),f=a("5d23"),g=a("34c3"),b=a("e449"),C=a("0fd9"),y=a("1f4f"),w=a("2fa4"),x=a("71a3"),k=a("c671"),$=a("fe57"),S=a("aac8"),T=a("8654"),I=function(){var t=this,e=t._self._c;return e(u["a"],[e(s["a"],{staticClass:"pt-0",attrs:{large:""}},[e(i["a"],{staticClass:"text-primary",attrs:{text:""},on:{click:function(e){return t.backPrevios()}}},[e(_["a"],[t._v("mdi-chevron-left")])],1),t._v("ລາຍລະອຽດ "),e("router-link",{staticClass:"ml-4",attrs:{to:"/edit/company/"+t.data.id}},[t._v(" ແກ້ໄຂ ")])],1),e(o["a"],[t.data.media&&t.data.media.length?e(n["a"],t._l(t.data.media,(function(a,s){return e(l["a"],{key:s,attrs:{src:a.url,"reverse-transition":"fade-transition",transition:"fade-transition"},on:{click:function(e){return t.showImage(a.url)}}})})),1):t._e(),e(r["b"],[e($["a"],{attrs:{"background-color":"#49A3DA",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(x["a"],{attrs:{href:"#tab-1"}},[t._v(" ຂໍ້ມູນກ່ຽວກັບ ")]),e(x["a"],{attrs:{href:"#tab-2"}},[t._v(" ຂໍ້ມູນການບໍລິການ ")]),e(x["a"],{attrs:{href:"#tab-3"}},[t._v(" ຂໍ້ມູນການຊຳລະ ")])],1),e(S["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(k["a"],{attrs:{value:"tab-1"}},[e(u["a"],[e(C["a"],[e(v["a"],[e(g["a"],[e(_["a"],{attrs:{color:"indigo"}},[t._v(" mdi-office-building ")])],1),e(f["b"],[e(f["c"],[t._v("ບໍລິສັດ")]),e(f["d"],[t._v(" "+t._s(t.data.name)+" "+t._s(t.data.company_name)+" ")])],1),e(w["a"]),e(g["a"],[e(_["a"],{staticClass:"mr-6",attrs:{color:"indigo"}},[t._v(" mdi-phone ")])],1),e(f["b"],[e(f["c"],[t._v("ເບີໂທ")]),t.data.user?e(f["d"],[t._v(" "+t._s(t.data.user.phone)+" ")]):t._e()],1),e(w["a"]),e(g["a"],[e(_["a"],{staticClass:"mr-6",attrs:{color:"indigo"}},[t._v(" mdi-email ")])],1),e(f["b"],[e(f["c"],[t._v("Email")]),t.data.user?e(f["d"],[t._v(" "+t._s(t.data.user.email)+" ")]):t._e()],1)],1),e(m["a"],{attrs:{inset:""}})],1),e(C["a"],[t._l(t.data.company_coordinators,(function(a,s){return e(v["a"],{key:s},[e(g["a"],[e(_["a"],{attrs:{color:"indigo"}},[t._v(" mdi-account-circle ")])],1),e(f["b"],[e(f["c"],[t._v("ຜູ້ປະສານງານ")]),e(f["d"],[t._v(" "+t._s(a.name)+" "+t._s(a.surname)+" ")])],1),e(w["a"]),e(g["a"],[e(_["a"],{staticClass:"mr-6",attrs:{color:"indigo"}},[t._v(" mdi-phone ")])],1),e(f["b"],[e(f["c"],[t._v("ເບີໂທ")]),e(f["d"],[t._v(t._s(a.phone))])],1),e(w["a"]),e(g["a"],[e(_["a"],{staticClass:"mr-6",attrs:{color:"indigo"}},[t._v(" mdi-email ")])],1),e(f["b"],[e(f["c"],[t._v("Email")]),e(f["d"],[t._v(t._s(a.email))])],1),e(f["b"],{staticClass:"text-center"},[e(f["d"],[e(_["a"],{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")]),e(_["a"],{attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" mdi-delete ")])],1)],1)],1)})),e(m["a"],{attrs:{inset:""}}),e(v["a"],[e(g["a"],[e(_["a"],{attrs:{color:"indigo"}},[t._v(" mdi-calendar ")])],1),e(f["b"],[e(f["c"],[t._v("ວັນທີ່ເລີ່ມ")]),e(f["d"],[t._v(" "+t._s(t.data.start_month)+" ")]),e(f["c"],[e("span",["active"==t.data.status?e(c["a"],{staticClass:"success",attrs:{label:""}},[t._v(t._s(t.data.status))]):"inactive"==t.data.status?e(c["a"],{staticClass:"error",attrs:{label:""}},[t._v(t._s(t.data.status))]):e(c["a"],{staticClass:"primary",attrs:{label:""}},[t._v(" "+t._s(t.data.status)+" ")])],1)])],1),e(w["a"]),e(g["a"],[e(_["a"],{staticClass:"mr-6",attrs:{color:"indigo"}},[t._v(" mdi-package ")])],1),e(f["b"],[e(f["c"],[t._v("ປະເພດບໍລິການ")]),"fix_cost"==t.data.cost_by?e(f["d"],[t._v(" ທຸລະກິດເປັນຖ້ຽວ ")]):t._e(),"container"==t.data.cost_by?e(f["d"],[t._v(" ຄອນເທັນເນີ ")]):t._e(),"chartered"==t.data.cost_by?e(f["d"],[t._v(" ມອບເໝົາ ")]):t._e(),"32km"==t.data.cost_by?e(f["d"],[t._v(" ຫຼັກ32 ")]):t._e(),"infect"==t.data.cost_by?e(f["d"],[t._v(" ຂີ້ເຫຍື້ອຕິດເຊື້ອ ")]):t._e(),"fix_cost"==t.data.cost_by?e(f["c"],[t._v(" "+t._s(Intl.NumberFormat().format(t.data.fix_cost))+" ")]):t._e()],1)],1),e(m["a"],{attrs:{inset:""}}),e(v["a"],[e(g["a"],[e(_["a"],{attrs:{color:"indigo"}},[t._v(" mdi-map-marker ")])],1),e(f["b"],[t.data.village?e(f["d"],[t._v(" "+t._s(t.data.village.name)+", "+t._s(t.data.district.name)+" ")]):t._e(),t._l(t.data.village_details,(function(a,s){return e("div",{key:s},[e(f["c"],[t._v(" "+t._s(a.name)+" ")])],1)}))],2)],1)],2),e(C["a"],[e(d["a"],{staticClass:"mb-4",attrs:{cols:"12"}},[e("GmapMap",{staticStyle:{width:"100%",height:"450px"},attrs:{center:t.getCenter().lat>0||t.getCenter().lat<0?t.getCenter():{lat:0,lng:0},zoom:16,"disable-default-u-i":!0}},[e("GmapMarker",{ref:"markers",attrs:{position:t.getMarkers(t.data),draggable:!1,icon:t.markerOptions,animation:2},on:{click:function(e){t.latlng=t.data}}})],1)],1)],1)],1)],1)],1),e(S["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(k["a"],{attrs:{value:"tab-2"}},[e(u["a"],[e("h3",[t._v("ຂໍ້ມູນການບໍລິການ")]),e(C["a"],[e(d["a"],[e("div",[t._v("ຈຳນວນຖົງ: "+t._s(t.serviceSummary.total_bag))])]),e(d["a"],[e("div",[t._v("ຈຳນວນຄັ້ງ: "+t._s(t.serviceSummary.total_time))])]),e(d["a"],[e("div",[t._v("ຈຳນວນລໍຖ້າ: "+t._s(t.statusSummary.pending_count))])]),e(d["a"],[e("div",[t._v("ຈຳນວນປະຕິເສດ: "+t._s(t.statusSummary.reject_count))])]),e(d["a"],[e("div",[t._v("ຈຳນວນສຳເລັດ: "+t._s(t.statusSummary.success_count))])]),e(d["a"],[e("div",[t._v(" ລໍຖ້າຢືນຢັນ: "+t._s(t.statusSummary.wait_to_confirm_count)+" ")])])],1),e(y["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v(" Date ")]),e("td",{staticClass:"text-left"},[t._v(" ຊື່ ")]),e("td",{staticClass:"text-left"},[t._v(" ໄອດີ ")]),e("td",{staticClass:"text-left"},[t._v(" ເບີໂທ ")]),e("td",{staticClass:"text-left"},[t._v(" ແພກເກຈ ")]),e("th",{staticClass:"text-left"},[t._v(" ຈຳນວນ ")]),e("th",{staticClass:"text-left"},[t._v(" Status ")]),e("th",{staticClass:"text-left"},[t._v(" ເວລາລົງເກັບ ")])])]),e("tbody",t._l(t.services,(function(a,s){return e("tr",{key:s},[e("td",[e("router-link",{attrs:{to:{name:"PlanCalendarDetail",params:{id:a.plan_calendar_id,planMonthId:a.plan_calendar.plan_month_id}}}},[t._v(" "+t._s(t.moment(a.date).format("DD-MM-YYYY"))+" ")])],1),e("td",{staticClass:"text-left"},[t._v(" "+t._s(t.data.full_name)+" ")]),e("td",{staticClass:"text-left"},[t._v(" "+t._s(t.data.customer_id)+" ")]),e("td",{staticClass:"text-left"},[t._v(" "+t._s(t.data.user.phone)+" ")]),e("td",{staticClass:"text-left"},[t._v(" "+t._s(t.data.cost_by_la)+" ")]),e("td",["bag"===a.collection_type||"infect"===a.collection_type||"32km"===a.collection_type?e("div",[t._v(" "+t._s(a.bag)+" ຖົງ ")]):t._e(),"container"===a.collection_type?e("div",[t._v(" "+t._s(a.container)+" ຄອນເທັນເນີ ")]):"chartered"===a.collection_type?e("div",[t._v(" "+t._s(a.bag)+" ຖົງ(ມອບເໝົາ) ")]):"fix_cost"===a.collection_type?e("div",[t._v(" ບໍລິການເປັນຖ້ຽວ ")]):e("div",[t._v(" "+t._s(a.collection_type)+" ")])]),e("td",[e(c["a"],{attrs:{color:t.statusColor(a.status),label:""}},[t._v(" "+t._s(a.status_la)+" ")])],1),e("td",[t._v(t._s(a.collected_at))])])})),0)]},proxy:!0}])}),e("br"),t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.customerCollection()}}}):t._e()],1)],1)],1),e(S["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(k["a"],{attrs:{value:"tab-3"}},[e(u["a"],[e(C["a"],[e(d["a"],[e("h3",[t._v("ປະຫັວດການຊຳລະ")]),e(C["a"],[e(d["a"],[e(b["a"],{attrs:{"close-on-content-click":!0,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(T["a"],t._g(t._b({attrs:{label:"ເດືອນ",readonly:"",outlined:"",dense:"",clearable:""},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}},"v-text-field",s,!1),a))]}}]),model:{value:t.start_menu,callback:function(e){t.start_menu=e},expression:"start_menu"}},[e(h["a"],{attrs:{type:"month"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1)],1)],1),e("RowSection",{attrs:{cards:t.allMonths}})],1)],1),e(C["a"],[e(d["a"],[e(y["a"],{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v(" ວັນທີບິນ ")]),e("th",{staticClass:"text-left"},[t._v(" ໄອດີ ")]),e("th",{staticClass:"text-left"},[t._v(" ຫົວບິນ ")]),e("th",{staticClass:"text-left"},[t._v(" ຊື່ລູກຄ້າ ")]),e("th",{staticClass:"text-left"},[t._v(" ໄອດີ ")]),e("th",{staticClass:"text-left"},[t._v(" ແພັກເກຈ ")]),e("th",{staticClass:"text-left"},[t._v(" ສະຖານະ ")]),e("th",{staticClass:"text-left"},[t._v(" ເວລາຈ່າຍ ")]),e("th",{staticClass:"text-left"},[t._v(" Payment ")]),e("th",{staticClass:"text-left"},[t._v(" Subtotal ")]),e("th",{staticClass:"text-left"},[t._v(" ສ່ວນຫຼູດ ")]),e("th",{staticClass:"text-left"},[t._v(" Total ")]),e("th",{staticClass:"text-left"},[t._v(" ເບິ່ງລາຍລະອຽດ ")])])]),e("tbody",t._l(t.invoices,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(t.moment(a.date).format("DD-MM-YYYY")))]),e("td",[t._v(t._s(a.billing_display_id))]),e("td",[t._v(t._s(a.content))]),e("td",{staticClass:"text-left"},[t._v(" "+t._s(t.data.full_name)+" ")]),e("td",{staticClass:"text-left"},[t._v(" "+t._s(t.data.customer_id)+" ")]),e("td",{staticClass:"text-left"},[t._v(" "+t._s(t.data.cost_by_la)+" ")]),e("td",[e(c["a"],{attrs:{color:t.getBgColorFn(a.status),dark:""}},[t._v(" "+t._s(a.status_la)+" ")])],1),e("td",[t._v(t._s(a.paided_at))]),e("td",[e("div",{staticClass:"primary--text"},[t._v(" "+t._s(a.payment_method)+" ")])]),e("td",[t._v(t._s(Intl.NumberFormat().format(a.sub_total)))]),e("td",[t._v(t._s(Intl.NumberFormat().format(a.discount)))]),e("td",[t._v(t._s(Intl.NumberFormat().format(a.total)))]),e("td",[e(i["a"],{staticClass:"btn elevation-0",attrs:{color:"info",small:""},on:{click:function(e){return t.ViewInvoice(a.id)}}},[e(_["a"],{staticClass:"mr-1",attrs:{small:""}},[t._v(" mdi-eye ")])],1)],1)])})),0)]},proxy:!0}])})],1)],1),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(e){return t.customerInvoice()}}}):t._e()]],2)],1)],1)],1)],1),e("ModalView",[[e(o["a"],[e(p["a"],{attrs:{src:t.imageUrl,alt:"Image",width:"auto",height:"auto",dark:""}})],1)]],2)],1)},D=[],B=(a("14d9"),a("22aa")),j=a("398d"),O={components:{RowSection:j["a"]},data(){return{data:{},loading:!1,server_errors:{},start_menu:!1,month:(new Date).toISOString().substr(0,7),provinces:[],districts:[],selectedDistrict:"",villages:[],selectedVillage:"",village_details:[],selectedVillageDetail:[],tab:"tab-1",address:[],errormsg:"",preview_list:[],image_list:[],image:[],latlng:{lat:0,lng:0},markers:[],currentPlace:null,markerOptions:{url:a("347c"),size:{width:35,height:55,f:"px",b:"px"},scaledSize:{width:35,height:55,f:"px",b:"px"}},services:[],serviceSummary:{},statusSummary:{},invoices:[],invoiceSummary:{},offset:12,pagination:{},per_page:100,imageUrl:""}},watch:{tab(){"tab-1"===this.tab?this.fetchData():"tab-2"===this.tab?this.customerCollection():"tab-3"===this.tab&&this.customerInvoice()},month(){this.customerInvoice()}},created(){this.fetchData(),this.$route.query.tab&&(this.tab=this.$route.query.tab)},computed:{allMonths(){return[{status_la:"ລໍຖ້າອະນຸມັດ",total:this.invoiceSummary.created_total,count_billing:null,bg_color:"#73b8fd"},{status_la:"ອະນຸມັດແລ້ວ",total:this.invoiceSummary.approved_total,count_billing:null,bg_color:"#0080fc"},{status_la:"ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ",total:this.invoiceSummary.to_confirm_payment_total,count_billing:null,bg_color:"#9c540d"},{status_la:"ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ",total:this.invoiceSummary.success_total,count_billing:null,bg_color:"#02a38a"}]}},methods:{getBgColorFn(t){return Object(B["a"])(t)},statusColor(t){return console.log(t),"pending"==t?"info":"success"==t?"success":"reject"==t?"error":"cancel"==t?"orange":"error"},ViewInvoice(t){const e=this.$router.resolve({name:"billing-detail",params:{id:t}});window.open(e.href,"_blank")},showImage(t){null!=t&&(this.imageUrl=t,this.$store.commit("modalView_State",!0))},fetchData(){this.$store.commit("Loading_State",!0),this.$axios.get("customer/"+this.$route.params.id).then(t=>{200===t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.data=t.data.data},300)}).catch(t=>{if(this.$store.commit("Loading_State",!1),this.fetchData(),t.response&&422===t.response.status){const e=t.response.data.errors;for(const[t,a]of Object.entries(e))this.server_errors[t]=a[0]}})},customerCollection(){this.$store.commit("Loading_State",!0),this.$axios.get("customer-collection-summary/"+this.$route.params.id,{params:{page:this.pagination.current_page,per_page:this.per_page}}).then(t=>{200===t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.services=t.data.data.all.data,this.serviceSummary=t.data.data.collect_summary,this.statusSummary=t.data.data.status_summary,this.pagination=t.data.data.details.pagination},300)}).catch(t=>{if(this.$store.commit("Loading_State",!1),this.fetchData(),t.response&&422===t.response.status){const e=t.response.data.errors;for(const[t,a]of Object.entries(e))this.server_errors[t]=a[0]}})},customerInvoice(){this.$store.commit("Loading_State",!0),this.$axios.get("customer-invoice-summary/"+this.$route.params.id,{params:{page:this.pagination.current_page,per_page:this.per_page,bill_month:this.month}}).then(t=>{200===t.data.code&&setTimeout(()=>{this.$store.commit("Loading_State",!1),this.invoices=t.data.data.details.data,this.invoiceSummary=t.data.data.invoice_summary,this.pagination=t.data.data.details.pagination},300)}).catch(t=>{if(this.$store.commit("Loading_State",!1),this.fetchData(),t.response&&422===t.response.status){const e=t.response.data.errors;for(const[t,a]of Object.entries(e))this.server_errors[t]=a[0]}})},backPrevios(){this.$router.go(-1)},getCenter(){if(this.data.lat){const t={lat:parseFloat(this.data.lat),lng:parseFloat(this.data.lng)};return t}return this.latlng},getMarkers(t){return{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}},editPage(t){this.$router.push({name:"EditCustomer",params:{id:t}})}}},E=O,G=(a("6cdd"),a("2877")),L=Object(G["a"])(E,I,D,!1,null,null,null);e["default"]=L.exports},afdd:function(t,e,a){"use strict";var s=a("8336");e["a"]=s["a"]},c671:function(t,e,a){"use strict";var s=a("1e6c");e["a"]=s["a"].extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=s["a"].options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},cc20:function(t,e,a){"use strict";a("14d9"),a("8adc");var s=a("58df"),i=a("0789"),o=a("9d26"),r=a("a9ad"),n=a("4e82"),l=a("7560"),c=a("f2e7"),d=a("1c87"),u=a("af2b"),h=a("d9bd");e["a"]=Object(s["a"])(r["a"],u["a"],d["a"],l["a"],Object(n["a"])("chipGroup"),Object(c["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...d["a"].options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(d["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created(){const t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(h["a"])(t,e,this)})},methods:{click(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter(){const t=[];return this.isActive&&t.push(this.$createElement(o["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(i["b"],t)},genClose(){return this.$createElement(o["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:t=>{t.stopPropagation(),t.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(t){const e=[this.genContent()];let{tag:a,data:s}=this.generateRouteLink();s.attrs={...s.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:s.attrs.tabindex},s.directives.push({name:"show",value:this.active}),s=this.setBackgroundColor(this.color,s);const i=this.textColor||this.outlined&&this.color;return t(a,this.setTextColor(i,s),e)}})}}]);
//# sourceMappingURL=chunk-7d688ae0.eba1a0fe.js.map