(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea58c846"],{"61b1":function(t,a,e){},dc9f:function(t,a,e){"use strict";e("61b1")},e8ab:function(t,a,e){},ed46:function(t,a,e){"use strict";e("e8ab")},fc09:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-card",{attrs:{elevation:"1"}},[e("v-card-text",[e("v-tabs",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab",{attrs:{href:"#tab-1"}},[t._v("New")]),e("v-tab",{attrs:{href:"#tab-2"}},[t._v("Read")])],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-1"}},[e("allnotification")],1)],1),e("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-2"}},[e("v-card",{attrs:{flat:""}},[e("v-card-text",[e("read")],1)],1)],1)],1)],1)],1)],1)},n=[],o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",[e("p",[t._v(" All Notification "),e("span",{staticClass:"primary-color"},[t._v("("+t._s(t.pagination.total)+")")])])])],1),e("div",[e("v-card",{attrs:{elevation:"0"}},[e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.notifications,"disable-pagination":!0,"hide-default-footer":"","fixed-header":"",height:"100vh"},scopedSlots:t._u([{key:"item.actions",fn:function(a){var i=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.viewPage(i.id)}}},[t._v(" mdi-eye ")])]}}])}),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},r=[],s={name:"Customer",data:function(){return{loading:!1,offset:12,pagination:{},per_page:20,notifications:[],server_errors:{},selectedStatus:"unread",headers:[{text:"Title",value:"data.name"},{text:"Notification Type",value:"notifiable_type",sortable:!1,align:"center"},{text:"Type",value:"type",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("notification",{params:{page:this.pagination.current_page,per_page:this.per_page,status:this.selectedStatus}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.notifications=a.data.data.data,t.pagination=a.data.data.pagination}),300)})).catch((function(a){t.$store.commit("Loading_State",!1),422==a.response.status&&t.$store.commit("Toast_State",{value:!0,color:"error",msg:a.response.data.message})}))},viewPage:function(t){this.$router.push({name:"NotificationView",params:{id:t}})}},created:function(){this.fetchData()}},c=s,u=(e("dc9f"),e("2877")),l=e("6544"),d=e.n(l),f=e("b0af"),p=e("99d9"),v=e("62ad"),b=e("a523"),h=e("8fea"),m=e("132d"),g=e("0fd9"),_=Object(u["a"])(c,o,r,!1,null,null,null),x=_.exports;d()(_,{VCard:f["a"],VCardText:p["b"],VCol:v["a"],VContainer:b["a"],VDataTable:h["a"],VIcon:m["a"],VRow:g["a"]});var V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-row",[e("v-col",[e("p",[t._v(" Read Notification "),e("span",{staticClass:"primary-color"},[t._v("("+t._s(t.pagination.total)+")")])])])],1),e("div",[e("v-card",{attrs:{elevation:"0"}},[e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.notifications,"disable-pagination":!0,"hide-default-footer":"","fixed-header":"",height:"100vh"},scopedSlots:t._u([{key:"item.read_at",fn:function(a){var i=a.item;return[e("v-chip",{attrs:{color:"success"}},[t._v(t._s(t.moment(i.read_at).format("mm:hh / DD-MM-YY")))])]}},{key:"item.actions",fn:function(a){var i=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.viewPage(i.id)}}},[t._v(" mdi-eye ")])]}}])}),e("br"),[t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination,offset:t.offset},on:{paginate:function(a){return t.fetchData()}}}):t._e()]],2)],1)],1)],1)},T=[],$={name:"Notification",data:function(){return{loading:!1,offset:12,pagination:{},per_page:20,notifications:[],server_errors:{},selectedStatus:"read",headers:[{text:"Title",value:"data.name"},{text:"Read",value:"read_at",sortable:!1,align:"center"},{text:"Notification Type",value:"notifiable_type",sortable:!1,align:"center"},{text:"Type",value:"type",sortable:!1},{text:"",value:"actions",sortable:!1}]}},methods:{backPrevios:function(){this.$router.go(-1)},fetchData:function(){var t=this;this.$store.commit("Loading_State",!0),this.$axios.get("notification/",{params:{page:this.pagination.current_page,per_page:this.per_page,status:this.selectedStatus}}).then((function(a){200==a.data.code&&setTimeout((function(){t.$store.commit("Loading_State",!1),t.notifications=a.data.data.data,t.pagination=a.data.data.pagination}),300)})).catch((function(a){t.$store.commit("Loading_State",!1),422==a.response.status&&t.$store.commit("Toast_State",{value:!0,color:"error",msg:a.response.data.message})}))},viewPage:function(t){this.$router.push({name:"NotificationView",params:{id:t}})},readStatus:function(t){return"created"==t?(this.invoiceStatusColor="primary--text","ສ້າງບິນສຳເລັດ"):"approved"==t?(this.invoiceStatusColor="info--text","ອະນຸມັດແລ້ວ"):void 0}},created:function(){this.fetchData()}},y=$,C=(e("ed46"),e("cc20")),w=Object(u["a"])(y,V,T,!1,null,null,null),S=w.exports;d()(w,{VCard:f["a"],VCardText:p["b"],VChip:C["a"],VCol:v["a"],VDataTable:h["a"],VIcon:m["a"],VRow:g["a"]});var k={title:function(){return"Vientiane Waste Co-Dev|Notification"},components:{allnotification:x,read:S},data:function(){return{tab:null}},created:function(){"notification-all"==this.$route.query.tab?this.tab="tab-1":"notification-read"==this.$route.query.tab&&(this.tab="tab-2")},watch:{tab:function(t){"tab-1"==t?this.$router.push({name:"NotificationTab",query:{tab:"notification-all"}}).catch((function(){})):"tab-2"==t&&this.$router.push({name:"NotificationTab",query:{tab:"notification-read"}}).catch((function(){}))}}},D=k,N=e("71a3"),P=e("c671"),L=e("fe57"),R=e("aac8"),q=Object(u["a"])(D,i,n,!1,null,null,null);a["default"]=q.exports;d()(q,{VCard:f["a"],VCardText:p["b"],VContainer:b["a"],VTab:N["a"],VTabItem:P["a"],VTabs:L["a"],VTabsItems:R["a"]})}}]);
//# sourceMappingURL=chunk-ea58c846.109ddb63.js.map