(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d53d7c1"],{"54da":function(e,t,a){"use strict";t["a"]=function(e=[]){const t={};for(const a of e)1==Object.keys(a).length&&a[Object.keys(a)]&&(t[Object.keys(a)]=a[Object.keys(a)]);return t}},"6eceb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{""!==e.search?""!==e.oldVal?e.oldVal!==e.search&&(e.oldVal=e.search,e.pagination.current_page=1,e.fetchData()):(""!==e.search&&(e.pagination.current_page=1,e.fetchData()),e.oldVal=e.search):e.oldVal=""}},"8bcf":function(e,t,a){"use strict";a("c768")},"987d":function(e,t,a){"use strict";a.r(t);var n=a("b0af"),r=a("99d9"),s=a("62ad"),i=a("a523"),c=a("8fea"),o=a("132d"),l=a("0fd9"),d=a("8654"),u=function(){var e=this,t=e._self._c;return t(i["a"],[t(l["a"],{staticClass:"mb-n6"},[t(s["a"],[t("p",[e._v("ເລືອກເດືອນທີ່ອອກໃບບິນເກັບເງິນ")])]),t(s["a"],[t(d["a"],{attrs:{outlined:"",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify",label:"ຊື່",type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Search()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t("div",[t(n["a"],[t(r["b"],[t(c["a"],{attrs:{headers:e.headers,items:e.calendars,search:e.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:e._u([{key:"item.total",fn:function({item:t}){return[e._v(" "+e._s(Intl.NumberFormat().format(t.total))+" ")]}},{key:"item.plan",fn:function({item:a}){return[t(o["a"],{staticClass:"mr-2",attrs:{color:"success",small:""},on:{click:function(t){return e.createInvoice(a.plan_month.id)}}},[e._v(" mdi-eye ")])]}}])}),t("br"),[e.pagination.total_pages>1?t("Pagination",{attrs:{pagination:e.pagination,offset:e.offset},on:{paginate:function(t){return e.fetchData()}}}):e._e()]],2)],1)],1)],1)},h=[],f=(a("14d9"),a("6eceb")),p=a("54da"),m={name:"Invoice",title(){return"Vientiane Waste Co-Dev|Invoice"},data(){return{tab:null,calendars:[],loading:!1,calendarId:"",offset:12,pagination:{},per_page:100,search:"",oldVal:"",date:(new Date).toISOString().substr(0,7),start_menu:!1,packages:[],selectedPackage:"",server_errors:{},districts:[],selectedDistrict:"",villages:[],selectedVillage:[],selectedStatus:[],plan:{},calendarEdit:{},headers:[{text:"ຊື່",value:"plan_month.name"},{text:"ລວມເງິນ",value:"total",align:"center",sortable:!1},{text:"ຈຳນວນບິນ",value:"count_customer",align:"center",sortable:!1},{text:"ລາຍລະອຽດ",value:"plan",sortable:!1,align:"center"},{text:"",value:"actions",sortable:!1}]}},watch:{search(e){""==e&&this.fetchData()},"plan.name":function(){this.server_errors.name=""},start_date(){this.server_errors.month=""},"calendarEdit.name":function(){this.server_errors.name=""},"calendarEdit.month":function(){this.server_errors.month=""}},created(){this.fetchData()},methods:{fetchData(){this.$store.commit("Loading_State",!0),this.$axios.get("invoice-summary",{params:Object(p["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search}])}).then(e=>{200==e.data.code&&(this.$store.commit("Loading_State",!1),this.calendars=e.data.data.data,this.pagination=e.data.data.pagination)}).catch(e=>{if(this.$store.commit("Loading_State",!1),e.response&&422==e.response.status){const t=e.response.data.errors;for(const[e,a]of Object.entries(t))this.server_errors[e]=a[0]}})},Search(){Object(f["a"])(this)},createInvoice(e){this.$router.push({name:"InvoiceTab",params:{id:e}})}}},g=m,b=(a("8bcf"),a("2877")),_=Object(b["a"])(g,u,h,!1,null,null,null);t["default"]=_.exports},c768:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4d53d7c1.a8c40090.js.map