{"version":3,"sources":["webpack:///./src/Helpers/BillingStatus.js","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue?9fca","webpack:///./src/Helpers/queryOption.js","webpack:///./src/Helpers/GetValue.js","webpack:///./src/Helpers/Customer.js","webpack:///./src/components/card/MoneyCard.vue","webpack:///src/components/card/MoneyCard.vue","webpack:///./src/components/card/MoneyCard.vue?fa76","webpack:///./src/components/card/MoneyCard.vue?d155","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue","webpack:///./src/views/report/TabCollectionTab/invoiceEvent.js","webpack:///src/views/report/TabCollectionTab/homeInvoice.vue","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue?61c5","webpack:///./src/views/report/TabCollectionTab/homeInvoice.vue?82bb"],"names":["getBgColor","status","getLaoStatus","getLaoBillingType","type","getLaoCollectStatus","payment_methods","value","text","normal","red","units","array","option","key","Object","prototype","hasOwnProperty","call","undefined","item","keys","length","GetOldValueOnInput","context","search","oldVal","pagination","current_page","fetchData","getLaoCompanyCostBy","costBy","getCompanyCostBy","en","la","getLaoCustomerType","getCustomerUnit","getEventStatus","color","billDateList","concatPackage","packageArr","connateArr","packageItem","push","id","name","Intl","NumberFormat","format","price","getCustomerCanCollect","on","staticClass","staticStyle","attrs","_vm","_c","_v","staticRenderFns","props","data","created","beforeUpdate","$store","commit","updated","methods","getColor","openNewTab","route","window","open","href","isContrastingWithWhite","relativeLuminance","r","g","b","match","map","x","parseInt","gamma","c","contrast","Math","abs","component","exportData","duration","callback","expression","selectedDuration","year_from","model","month_from","selectedCollectionStatus","selectedPaymentStatus","index","sum","count_event","findEventColorByStatus","invoices","scopedSlots","_u","fn","billingable","findEventStatus","title","tab","customers","loading","customerId","year_to","month_to","offset","per_page","summary","invoiceType","collectionStatus","dis_play","paymentStatus","exportMode","queryArray","this","page","download","export_from","moment","console","log","$axios","get","params","queryOptions","then","res","code","setTimeout","count_event_status","download_link","catch","error","msg","response","message","editPage","$router","viewPage","Search","watch","query","$route","mixins","invoice","components","MoneyCard","headers","width","sortable","openEventRoute","openRoute","openBillDetailRoute","routeData","resolve","getBgColorFunc","statusColor","paymentStatusText","find"],"mappings":"kHAAA,gRAAO,MAAMA,EAAa,SAAUC,GAClC,OAAQA,GACN,IAAK,UACL,IAAK,eACH,MAAO,UACT,IAAK,WACL,IAAK,cACH,MAAO,UACT,IAAK,WACL,IAAK,gBACH,MAAO,UACT,IAAK,WACL,IAAK,oBACH,MAAO,UACT,IAAK,qBACL,IAAK,uBACH,MAAO,UACT,IAAK,UACL,IAAK,wBACH,MAAO,YAIAC,EAAe,SAAUD,GACpC,OAAQA,GACN,IAAK,UACH,MAAO,eACT,IAAK,WACH,MAAO,cACT,IAAK,WACH,MAAO,gBACT,IAAK,WACH,MAAO,oBACT,IAAK,qBACH,MAAO,uBACT,IAAK,UACH,MAAO,wBACT,IAAK,OACH,MAAO,cACT,IAAK,OACH,MAAO,OACT,QACE,OAAOA,IAIAE,EAAoB,SAAUC,GACzC,OAAQA,GACN,IAAK,aACH,MAAO,cACT,IAAK,qBACH,MAAO,2BACT,IAAK,gBACH,MAAO,oBACT,IAAK,aACH,MAAO,sBACT,QACE,OAAOA,IAIAC,EAAsB,SAAUJ,GAC3C,OAAQA,GACN,IAAK,YACH,MAAO,sBACT,IAAK,WACH,MAAO,oBACT,IAAK,WACH,MAAO,2BACT,IAAK,YACH,MAAO,uBACT,IAAK,kBACH,MAAO,0BACT,IAAK,iBACH,MAAO,uBACT,QACE,OAAOA,IAIAK,EAAkB,CAC7B,CACEC,MAAO,OACPC,KAAM,WAER,CACED,MAAO,OACPC,KAAM,WAER,CACED,MAAO,cACPC,KAAM,uBAIGC,EAAS,CAAC,UAAW,WAAY,qBAAsB,WACvDC,EAAM,CAAC,WAAY,YAEnBC,EAAQ,CAAC,KAAM,MAAO,YAAa,S,oCClGhD,W,oCCAe,gBAAUC,GACvB,MAAMC,EAAS,GACf,IAAKD,EAAM,GAAI,CACb,IAAK,MAAME,KAAOF,EACZG,OAAOC,UAAUC,eAAeC,KAAKN,EAAOE,UAC3BK,IAAfP,EAAME,IAAqC,OAAfF,EAAME,IAAgC,KAAfF,EAAME,WACpDF,EAAME,IAInB,OAAOF,EAET,IAAK,MAAMQ,KAAQR,EACe,GAA5BG,OAAOM,KAAKD,GAAME,QAAeF,EAAKL,OAAOM,KAAKD,MACpDP,EAAOE,OAAOM,KAAKD,IAASA,EAAKL,OAAOM,KAAKD,KAGjD,OAAOP,I,oCCjBT,kCAAO,MAAMU,EAAsBC,IACV,KAAnBA,EAAQC,OACa,KAAnBD,EAAQE,OACNF,EAAQE,SAAWF,EAAQC,SAC7BD,EAAQE,OAASF,EAAQC,OACzBD,EAAQG,WAAWC,aAAe,EAClCJ,EAAQK,cAGa,KAAnBL,EAAQC,SACVD,EAAQG,WAAWC,aAAe,EAClCJ,EAAQK,aAEVL,EAAQE,OAASF,EAAQC,QAG3BD,EAAQE,OAAS,K,4TChBd,MAAMI,EAAsB,SAAUC,GAC3C,OAAQA,GACN,IAAK,YACH,MAAO,YACT,IAAK,WACH,MAAO,WACT,IAAK,YACH,MAAO,UACT,IAAK,MACH,MAAO,UACT,IAAK,SACH,MAAO,oBACT,IAAK,OACH,MAAO,SACT,QAAS,OAAOA,IAIPC,EAAmB,CAC9B,CACEC,GAAI,YACJC,GAAI,aAEN,CACED,GAAI,WACJC,GAAI,YAEN,CACED,GAAI,YACJC,GAAI,WAEN,CACED,GAAI,MACJC,GAAI,WAEN,CACED,GAAI,SACJC,GAAI,qBAEN,CACED,GAAI,OACJC,GAAI,WAmBKC,EAAqB,SAAU/B,GAC1C,OAAQA,GACN,IAAK,UACH,MAAO,iBACT,IAAK,OACH,MAAO,WACT,QAAS,OAAOA,IAiBPgC,EAAkB,SAAUL,GACvC,OAAQA,GACN,IAAK,MACL,IAAK,YACL,IAAK,OACL,IAAK,SACH,MAAO,MACT,IAAK,YACH,MAAO,YACT,IAAK,WACH,MAAO,OACT,QAAS,OAAOA,IAIPM,EAAiB,CAC5B,CACEJ,GAAI,YACJC,GAAI,sBACJI,MAAO,WAET,CACEL,GAAI,WACJC,GAAI,oBACJI,MAAO,WAET,CACEL,GAAI,WACJC,GAAI,2BACJI,MAAO,WAET,CACEL,GAAI,YACJC,GAAI,uBACJI,MAAO,WAET,CACEL,GAAI,kBACJC,GAAI,0BACJI,MAAO,WAET,CACEL,GAAI,iBACJC,GAAI,uBACJI,MAAO,YAIEC,EAAe,CAC1B,CACE/B,KAAM,eACND,MAAO,aAET,CACEC,KAAM,eACND,MAAO,cAET,CACEC,KAAM,kBACND,MAAO,eAGT,CACEC,KAAM,uBACND,MAAO,yBAIEiC,EAAgBA,CAACC,EAAa,MACzC,MAAMC,EAAa,GAEnB,IAAK,MAAMC,KAAeF,EACxBC,EAAWE,KAAK,CACdC,GAAIF,EAAYE,GAChBC,KAAO,GAAEH,EAAYG,SAASC,KAAKC,eAAeC,OAAON,EAAYO,gBAIzE,OAAOR,GAGIS,EAAwB,CACnC,CACE5C,MAAO,GACPC,KAAM,UAER,CACED,MAAO,MACPC,KAAM,WAER,CACED,MAAO,MACPC,KAAM,gB,+GC/K2F,W,IAAoB,OAAC4C,EAAG,W,OAAC,SAAQ,C,MAAiB,CAAgC,YAAC,qBAAuBC,IAAsDC,MAAW,SAAC,GAAC,SAAW,uBAAsCD,UAAY,CAAyBE,YAAM,0C,YAASC,CAAe,SAAO,aAAK,CAACC,EAAG,KAAQ,EAAC,QAACF,YAAM,yB,MAAC,CAAc,mBAAIC,KAAO,KAAsED,GAAK,OAAC,C,MAAC,CAAsB,eAAYF,UAAY,6BAAO,YAAY,oBAA6CA,OAAqCE,MAAM,e,CAAsB,MAAOC,CAAwC,oBAAG,CAACC,EAAG,GAAG,IAAC,qCAACJ,YAAY,yBAAO,MAAMK,CAI3vBL,MAAW,EAAC,SAAyBC,OAAY,qC,CAAuB,MAAO,CAAO,YAAC,QAACC,GAAK,GAAC,yG,YAASC,yB,YAAuB,CAAG,oBAAIC,MAAO,QAAoB,MAAMC,CAA6KL,MAAW,EAAC,SAAkCG,SAAU,KAE5ZG,QAEJ,YAAiBA,Q,sTCuDF,GACfC,MAAA,CACA,QACA,gBACA,QACA,WACA,QACA,OACA,aACA,aACA,cAEAC,OACA,UAEAC,YAEAC,eACA,KAAAC,OAAAC,OAAA,qBAEAC,UACA,KAAAF,OAAAC,OAAA,qBAEAE,QAAA,CACAC,SAAA7D,GACA,2BAAAA,GAEA8D,WAAAC,GACAA,GAAAC,OAAAC,KAAAF,EAAAG,KAAA,WAEAC,uBAAApC,GACA,GAAAA,EAAA,CACA,MAAAqC,EAAArC,IACA,MAAAsC,EAAAC,EAAAC,GAAAxC,EAAAyC,MAAA,SAAAC,IAAAC,GAAAC,SAAAD,EAAA,SACAE,EAAAC,MAAA,OAAAA,EAAA,QAAAA,EAAA,kBACA,YAAAD,EAAAP,GAAA,MAAAO,EAAAN,GAAA,MAAAM,EAAAL,IAGAO,EAAAC,KAAAC,IAAAZ,EAAArC,GAAAqC,EAAA,YACA,OAAAU,GAAA,OCtGgsB,I,YCO5rBG,EAAY,eACd,EACA,EACA7B,GACA,EACA,KACA,KACA,MAIa,OAAA6B,E,+KClB4OnC,a,IAA4B,EAAC,K,EAAC,EAAO,MAAC,G,OAAiB,SAAWoC,UAAY,C,YAAA,OAAC,OAAIjC,MAAO,K,CAAoD,8CAAa,U,YAAW,S,CAAC,SAAQA,GAAIkC,Q,YAAoB,c,GAAQ,CAAwB,MAAQ,YAAW,yB,CAAqCC,oBAAsB,GAAE,oB,MAAI,CAAqB,SAAC,GAACC,SAA6B,iBAAI,YAASC,OAAwEvC,aAAY,WAAC,MAAQ,YAASC,MAAM,CAAC,MAAM,EAAC,iBAAO,kBAAc,GAAU,sBAAQhD,WAAWuF,uB,GAAqD,QAAd,EAACA,iBAAa,wC,YAAC,CAACF,OAAU,QAAe,MAAM,CAAuFrC,KAAM,OAAC,YAAa,WAAqB,MAAC,CAACwC,MAAM,YAACxF,SAAU,SAAS,GAACoF,YAAS,GAA+B,WAAC,gBAAqB,+EAAG,MAAM,CAAwFpC,KAAM,OAAC,YAAc,QAA2B,MAAC,CAACwC,MAAM,UAACxF,SAAU,SAACyF,GAAYL,UAAS,GAAkC,WAAC,cAAwB,gFAAG,MAAM,CAAwFpC,KAAM,QAAC,YAAc,cAAwB,MAAC,CAACwC,MAAM,aAACxF,SAAU,SAAU,GAACoF,aAASA,GAAgC,WAAC,iBAAsB,gFAAG,MAAM,CAAsCpC,KAAM,QAAC,YAAO,WAAI,MAAK,CAAYA,MAAM,WAAC,SAAU,SAAG,GAAC,WAAU,GAA8B,WAAW,eAAgC,KAAO,EAAC,WAAe,kB,MAAC,CAAc,UAAgBwC,GAAK,OAAC,C,MAAM,CAAgCJ,SAAS,G,MAAoBM,GAA4B,MAAC,mBAACL,YAAW,WAA0B,oBAAI,MAAO,gBAASrC,SAAM,GAAC,UAAM,IAAI,MAAK,CAAYA,MAAM,2BAAC,SAAU,SAAG,GAAC,2BAAU,GAA2B,WAAW,+BAAgC,KAAO,OAAC,C,MAAgB,CAAc,SAAgBwC,GAAK,OAAC,C,MAAM,CAA6BJ,SAAS,G,MAAoBO,GAAyB,MAAC,gBAACN,YAAW,WAAuB,oBAAI,MAAO,gBAA+D,SAAU,GAAS9E,UAAIqF,I,MAA6B,C,MAAE,EAAQC,sB,SAA6B,SAAKC,GAAY,wBAAeC,GAA8D,uCAAW,IAAI,GAAC,QAAY,CAAC,WAAa,GAAE7C,EAAG,kBAAe,KAACF,OAAM,UAAC,OAAsB,eAAYgD,CAAS,OAAoB,0BAA0B,oBAAyB,oDAACC,WAAgBC,WAA4B,M,GAAYrF,8B,MAAO,C,QAASqC,EAAG,QAA4E,iBAAE,OAAC,SAAC3C,sBAAI,EAA8B4F,sBAAY,I,YAAS,O,IAAC,iB,GAAgBnD,UAAM,K,UAAgB,2E,sCAAyE,eAAC,IAA4D,cAAI,MAAC,CAA6B,KAAS,KAAS,IAAC,MAAW,SAAI,GAACA,OAAM,sCAAaH,CAAE,EAAC,gD,kCAAkE,eAAC,IAAwD,cAAI,MAAC,CAA6B,KAAS,KAAS,IAAC,MAAcuD,YAAqP,sCAAwB,MAAAD,IAAS,qCAAQ,C,IAAE,0BAAmF,kBAAG,IAAwB,MAAC,GAAS,4NAAQ,C,IAAE,a,GAAqBnD,UAAM,K,UAAgD,uEAA6C,CAAE,IAAC,iBAACzC,GAAG,UAAC,KAAuC,IAAkB,MAAC,WAAC,MAAQ2C,CAAaF,MAAM,GAAC,MAAQ,EAAE,wB,CAAW,KAAO,IAAKqD,kBAAqBD,U,CAA8J,yCAAE,GAAC,eAAC7F,IAAoCM,iBAAO,OAAC,MAAW,GAAqF,QAAG,iHAAgG,0DAA6B,CAAoB,sBAAG,GAAC,eAAC,IAAkD,4FAC1/I,yEACGuC,OAEJ,WAAiBA,a,0KCAF,GACbkD,QACE,MAAQ,yCAEVhD,OACE,MAAO,CACLiD,IAAK,QACLC,UAAW,GACXC,SAAS,EACTC,WAAY,GAEZnB,UAAW,GACXoB,QAAS,GAETlB,WAAY,GACZmB,SAAU,GAEVC,OAAQ,GACRzF,WAAY,GACZ0F,SAAU,GACV5F,OAAQ,GACRC,OAAQ,GACR6E,SAAU,GACVe,QAAS,GAGTzB,iBAAkB,OAClBH,SAAU,CACR,CACE5C,KAAM,KACN4C,SAAU,QAEZ,CACE5C,KAAM,QACN4C,SAAU,UAGd6B,YAAa,OAEbtB,yBAA0B,GAC1BuB,iBAAkB,CAChB,CACE3E,GAAI,EACJC,KAAM,YACN2E,SAAU,uBAEZ,CACE5E,GAAI,EACJC,KAAM,WACN2E,SAAU,wBAEZ,CACE5E,GAAI,EACJC,KAAM,WACN2E,SAAU,wBAGZ,CACE5E,GAAI,EACJC,KAAM,YACN2E,SAAU,sBAEZ,CACE5E,GAAI,EACJC,KAAM,kBACN2E,SAAU,uBAEZ,CACE5E,GAAI,EACJC,KAAM,iBACN2E,SAAU,sBAGdvB,sBAAuB,GACvBwB,cAAe,CACb,CACE7E,GAAI,EACJC,KAAM,WACN2E,SAAU,+BAEZ,CACE5E,GAAI,EACJC,KAAM,qBACN2E,SAAU,wBAEZ,CACE5E,GAAI,EACJC,KAAM,WACN2E,SAAU,qBAEZ,CACE5E,GAAI,EACJC,KAAM,UACN2E,SAAU,4BAKlBtD,QAAS,CACPtC,UAAU8F,GAAa,GACrB,MAAMC,EAAa,CACjB,CAAEP,SAAUQ,KAAKR,UACjB,CAAES,KAAMD,KAAKlG,WAAWC,cACxB,CAAE8D,SAAUmC,KAAKhC,kBACjB,CAAEkC,SAAUJ,GACZ,CAAEK,YAAa,kBAGM,KAAnBH,KAAK/B,WAA8C,QAAzB+B,KAAKhC,kBACjC+B,EAAWhF,KAAK,CAAEkD,UAAW+B,KAAKI,OAAOJ,KAAK/B,WAAW7C,OAAO,UAG7C,KAAjB4E,KAAKX,SAA4C,QAAzBW,KAAKhC,kBAC/B+B,EAAWhF,KAAK,CAAEsE,QAASW,KAAKI,OAAOJ,KAAKX,SAASjE,OAAO,UAEtC,KAApB4E,KAAK7B,YAA+C,SAAzB6B,KAAKhC,kBAClC+B,EAAWhF,KAAK,CAAEoD,WAAY6B,KAAKI,OAAOJ,KAAK7B,YAAY/C,OAAO,aAG9C,KAAlB4E,KAAKV,UAA6C,SAAzBU,KAAKhC,kBAChC+B,EAAWhF,KAAK,CAAEuE,SAAUU,KAAKI,OAAOJ,KAAKV,UAAUlE,OAAO,aAE5D4E,KAAK5B,0BACP4B,KAAK5B,yBAAyBjB,IAAI,CAAC5D,EAAM+E,KACvCyB,EAAWhF,KAAK,CAAE,CAAE,oBAAmBuD,MAAW/E,MAItD8G,QAAQC,IAAIN,KAAK3B,uBAEb2B,KAAK3B,uBACP2B,KAAK3B,sBAAsBlB,IAAI,CAAC5D,EAAM+E,KACpCyB,EAAWhF,KAAK,CAAE,CAAE,oBAAmBuD,MAAW/E,MAItD8G,QAAQC,IAAIP,GAEZC,KAAK7D,OAAOC,OAAO,iBAAiB,GACpC4D,KAAKO,OACFC,IAAI,qCACH,CAAEC,OAAQC,eAAaX,KAGxBY,KAAMC,IACgB,KAAjBA,EAAI5E,KAAK6E,MACXC,WAAW,KACTd,KAAK7D,OAAOC,OAAO,iBAAiB,GACpC4D,KAAKP,QAAUmB,EAAI5E,KAAKA,KAAK+E,mBACzBH,EAAI5E,KAAKA,KAAKA,KAAKlC,YACrBkG,KAAKtB,SAAWkC,EAAI5E,KAAKA,KAAKA,KAAKA,KACnCgE,KAAKlG,WAAa8G,EAAI5E,KAAKA,KAAKA,KAAKlC,YAC9BkG,KAAKtB,SAAWkC,EAAI5E,KAAKA,KAAKA,KAEnC4E,EAAI5E,KAAKA,KAAKgF,eAAetE,OAAOC,KAAKiE,EAAI5E,KAAKA,KAAKgF,gBAC1D,OAGNC,MAAOC,IACNlB,KAAK7D,OAAOC,OAAO,iBAAiB,GACpC4D,KAAK7D,OAAOC,OAAO,cAAe,CAChC1D,OAAO,EACP+B,MAAO,QACP0G,IAAKD,EAAME,SAASpF,KAAKqF,aAKjCzD,aACEoC,KAAKhG,UAAU,UAGjBsH,SAAStG,GACPgF,KAAKuB,QAAQxG,KAAK,CAChBE,KAAM,gBACNwF,OAAQ,CAAEzF,SAGdwG,SAASxG,GACPgF,KAAKuB,QAAQxG,KAAK,CAChBE,KAAM,gBACNwF,OAAQ,CAAEzF,SAGdyG,SACE/H,eAAmBsG,QAGvB0B,MAAO,CACLrD,wBACE2B,KAAKlG,WAAWC,aAAe,GAC/BiG,KAAKhG,aAEPoE,2BACE4B,KAAKlG,WAAWC,aAAe,GAC/BiG,KAAKhG,aAEPgE,mBACEgC,KAAKlG,WAAWC,aAAe,GAC/BiG,KAAKhG,aAEPJ,OAAOlB,GACLsH,KAAKlG,WAAWC,aAAe,GAClB,IAATrB,GACFsH,KAAKhG,aAITiE,UAAUvF,GACR,MAAMuF,EAAYmC,IAAO1H,GAAO0C,OAAO,QACjCiE,EAAUe,IAAOJ,KAAKX,SAASjE,OAAO,QAC5C4E,KAAKlG,WAAWC,aAAe,GACb,KAAdkE,GAAgC,KAAZoB,GAClBpB,EAAYoB,IACdW,KAAK/B,UAAY,IAGrB+B,KAAKhG,aAEPqF,QAAQ3G,GACN,MAAM2G,EAAUe,IAAO1H,GAAO0C,OAAO,QAC/B6C,EAAYmC,IAAOJ,KAAK/B,WAAW7C,OAAO,QAChD4E,KAAKlG,WAAWC,aAAe,GACf,KAAZsF,GAAgC,KAAdpB,GAChBoB,EAAUpB,IACZ+B,KAAKX,QAAU,IAGnBW,KAAKhG,aAEPmE,WAAWzF,GACT,MAAMyF,EAAaiC,IAAO1H,GAAO0C,OAAO,WAClCkE,EAAWc,IAAOJ,KAAKV,UAAUlE,OAAO,WAC3B,KAAf+C,GAAkC,KAAbmB,GACnBnB,EAAamB,IACfU,KAAK7B,WAAa,IAGtB6B,KAAKlG,WAAWC,aAAe,GAC/BiG,KAAKhG,aAEPsF,SAAS5G,GACP,MAAMyF,EAAaiC,IAAOJ,KAAK7B,YAAY/C,OAAO,WAC5CkE,EAAWc,IAAO1H,GAAO0C,OAAO,WACtC4E,KAAKlG,WAAWC,aAAe,GACZ,KAAfoE,GAAkC,KAAbmB,GACnBA,EAAWnB,IACb6B,KAAKV,SAAW,IAGpBU,KAAKlG,WAAWC,aAAe,GAC/BiG,KAAKhG,aAGPiF,IAAIvG,GACW,SAATA,GACFsH,KAAKhG,YACLgG,KAAKN,YAAc,OACnBM,KAAKuB,QACFxG,KAAK,CAAEE,KAAM,iBAAkB0G,MAAO,CAAE1C,IAAK,UAC7CgC,MAAM,SACS,SAATvI,IACTsH,KAAKhG,YACLgG,KAAKN,YAAc,UACnBM,KAAKuB,QACFxG,KAAK,CACJE,KAAM,iBACN0G,MAAO,CAAE1C,IAAK,aAEfgC,MAAM,WAIfhF,UAC+B,QAAzB+D,KAAK4B,OAAOD,MAAM1C,KACpBe,KAAKf,IAAM,QACXe,KAAKN,YAAc,OACnBM,KAAKhG,aAC6B,WAAzBgG,KAAK4B,OAAOD,MAAM1C,MAC3Be,KAAKf,IAAM,QACXe,KAAKN,YAAc,UACnBM,KAAKhG,aAEPgG,KAAKlG,WAAa,K,YCnFP,GACfmB,KAAA,yBACA4G,OAAA,CAAAC,GAEA9C,QACA,gEAEA+C,WAAA,CACAC,kBAEAhG,OACA,OACAkD,UAAA,GACAC,SAAA,EACAC,WAAA,GAEAG,OAAA,GACAzF,WAAA,GACA0F,SAAA,IACA5F,OAAA,GACAC,OAAA,GACAoI,QAAA,CACA,CAAAtJ,KAAA,QAAAD,MAAA,OAAAwJ,MAAA,SACA,CAAAvJ,KAAA,cAAAD,MAAA,0BACA,CAAAC,KAAA,SAAAD,MAAA,wBAAAwJ,MAAA,SACA,CAAAvJ,KAAA,SAAAD,MAAA,qBAAAwJ,MAAA,SACA,CAAAvJ,KAAA,aAAAD,MAAA,gCAAAyJ,UAAA,GACA,CAAAxJ,KAAA,cAAAD,MAAA,2BAAAwJ,MAAA,SACA,CAAAvJ,KAAA,UAAAD,MAAA,sBAEA,CAAAC,KAAA,WAAAD,MAAA,YACA,CAAAC,KAAA,WAAAD,MAAA,YAAAyJ,UAAA,GACA,CAAAxJ,KAAA,QAAAD,MAAA,QAAAyJ,UAAA,GACA,CAAAxJ,KAAA,aAAAD,MAAA,YAAAyJ,UAAA,IAIA3H,wBAGAkH,MAAA,CACAzC,MACA,KAAAA,MAKAhD,UACA,KAAAjC,aAEAsC,QAAA,CACAmF,SACA/H,eAAA,OAGA0I,eAAApH,GACA,MAAAyB,EAAA,CACAxB,KAAA,qBACAwF,OAAA,CACAzF,OAGA,KAAAqH,UAAA5F,IAGA6F,oBAAAtH,GACA,MAAAyB,EAAA,CACAxB,KAAA,iBACAwF,OAAA,CACAzF,OAGA,KAAAqH,UAAA5F,IAGA4F,UAAA5F,GACA,MAAA8F,EAAA,KAAAhB,QAAAiB,QAAA/F,GACAC,OAAAC,KAAA4F,EAAA3F,OAGA6F,eAAArK,GACA,OAAAD,eAAAC,IAGAsK,YAAAhK,GACA,iBAAAA,EAAA,UACA,WAAAA,EAAA,UACA,YAAAA,EAAA,QACA,QAEAiK,kBAAAvK,GACA,iBAAAA,EAAA,gBACA,sBAAAA,EAAA,kBACA,YAAAA,EAAA,iBACA,WAAAA,EAAA,aACA,IAEA2G,gBAAA3G,GACA,YAAAoC,eAAAoI,KAAArJ,KAAAa,IAAAhC,IAEAqG,uBAAArG,GACA,YAAA2G,gBAAA3G,GAAA,KAAA2G,gBAAA3G,GAAAqC,MAAA,MCjTitB,I,wBCQ7sBkD,EAAY,eACd,EACA,EACA7B,GACA,EACA,KACA,KACA,MAIa,aAAA6B,E","file":"js/chunk-7e39409e.f6ea4643.js","sourcesContent":["export const getBgColor = function (status) {\n  switch (status) {\n    case 'created':\n    case 'ລໍຖ້າອະນຸມັດ':\n      return '#73b8fd';\n    case 'approved':\n    case 'ອະນຸມັດແລ້ວ':\n      return '#0080fc';\n    case 'canceled':\n    case 'ບິນຖືກຍົກເລີກ':\n      return '#eb004c';\n    case 'rejected':\n    case 'ການຈ່າຍຖືກປະຕິເສດ':\n      return '#740127';\n    case 'to_confirm_payment':\n    case 'ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ':\n      return '#9c540d';\n    case 'success':\n    case 'ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ':\n      return '#02a38a';\n  }\n};\n\nexport const getLaoStatus = function (status) {\n  switch (status) {\n    case 'created':\n      return 'ລໍຖ້າອະນຸມັດ';\n    case 'approved':\n      return 'ອະນຸມັດແລ້ວ';\n    case 'canceled':\n      return 'ບິນຖືກຍົກເລີກ';\n    case 'rejected':\n      return 'ການຈ່າຍຖືກປະຕິເສດ';\n    case 'to_confirm_payment':\n      return 'ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ';\n    case 'success':\n      return 'ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ';\n    case 'cash':\n      return 'ຊຳລະເງິນສົດ';\n    case 'bcel':\n      return 'BCEL';\n    default:\n      return status;\n  }\n};\n\nexport const getLaoBillingType = function (type) {\n  switch (type) {\n    case 'CustomBill':\n      return 'ບິນຍ້ອນຫຼັງ';\n    case 'NewCollectionEvent':\n      return 'ບີນບໍລີການຂີ້ເຫຍື້ອພິເສດ';\n    case 'FutureInvoice':\n      return 'ບິນບໍລິການລ່ວງໜ້າ';\n    case 'NewInvoice':\n      return 'ບິນບໍລິການປະຈຳເດືອນ';\n    default:\n      return type;\n  }\n};\n\nexport const getLaoCollectStatus = function (status) {\n  switch (status) {\n    case 'requested':\n      return 'ລູກຄ້າຮ້ອງຂໍເຂົ້າມາ';\n    case 'rejected':\n      return 'ປະຕິເສດລູກຄ້າແລ້ວ';\n    case 'approved':\n      return 'ອະນຸມັດແລ້ວ ລໍຖ້າລົງເກັບ';\n    case 'collected':\n      return 'ເກັບແລ້ວ ລໍຖ້າຢືນຢັນ';\n    case 'collect_confirm':\n      return 'ລູກຄ້າຢືນຢັນການເກັບແລ້ວ';\n    case 'collect_reject':\n      return 'ລູກຄ້າປະຕິເສດການເກັບ';\n    default:\n      return status;\n  }\n};\n\nexport const payment_methods = [\n  {\n    value: 'cash',\n    text: 'ເງິນສົດ',\n  },\n  {\n    value: 'bcel',\n    text: 'ເງິນໂອນ',\n  },\n  {\n    value: 'bcel_online',\n    text: 'bcel bill payments',\n  },\n];\n\nexport const normal = ['created', 'approved', 'to_confirm_payment', 'success'];\nexport const red = ['rejected', 'canceled'];\n\nexport const units = ['kg', 'ຖົງ', 'container', 'ຄັ້ງ'];\n","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.86.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/.pnpm/sass-loader@10.4.1_sass@1.32.13_webpack@5.86.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./homeInvoice.vue?vue&type=style&index=0&id=29314b4e&prod&lang=scss&\"","export default function (array) {\n  const option = {};\n  if (!array[0]) {\n    for (const key in array) {\n      if (Object.prototype.hasOwnProperty.call(array, key)) {\n        if (array[key] === undefined || array[key] === null || array[key] === '') {\n          delete array[key];\n        }\n      }\n    }\n    return array;\n  }\n  for (const item of array) {\n    if (Object.keys(item).length == 1 && item[Object.keys(item)]) {\n      option[Object.keys(item)] = item[Object.keys(item)];\n    }\n  }\n  return option;\n}\n","export const GetOldValueOnInput = (context) => {\n  if (context.search !== '') {\n    if (context.oldVal !== '') {\n      if (context.oldVal !== context.search) {\n        context.oldVal = context.search;\n        context.pagination.current_page = 1;\n        context.fetchData();\n      }\n    } else {\n      if (context.search !== '') {\n        context.pagination.current_page = 1;\n        context.fetchData();\n      }\n      context.oldVal = context.search;\n    }\n  } else {\n    context.oldVal = '';\n  }\n};\n","export const getLaoCompanyCostBy = function (costBy) {\n  switch (costBy) {\n    case 'container':\n      return 'ຄອນເທນເນີ';\n    case 'fix_cost':\n      return 'ເປັນຖ້ຽວ';\n    case 'chartered':\n      return 'ມອບເໝົາ';\n    case 'bag':\n      return 'ບໍລິມາດ';\n    case 'infect':\n      return 'ຂີ້ເຫຍື້ອຕິດເຊື້ອ';\n    case '32km':\n      return 'ຫຼັກ32';\n    default: return costBy;\n  }\n};\n\nexport const getCompanyCostBy = [\n  {\n    en: 'container',\n    la: 'ຄອນເທນເນີ',\n  },\n  {\n    en: 'fix_cost',\n    la: 'ເປັນຖ້ຽວ',\n  },\n  {\n    en: 'chartered',\n    la: 'ມອບເໝົາ',\n  },\n  {\n    en: 'bag',\n    la: 'ບໍລິມາດ',\n  },\n  {\n    en: 'infect',\n    la: 'ຂີ້ເຫຍື້ອຕິດເຊື້ອ',\n  },\n  {\n    en: '32km',\n    la: 'ຫຼັກ32',\n  },\n];\n\nexport const getPaymentMethod = [\n  {\n    en: 'bcel',\n    la: 'ແນບຮູບບິນ',\n  },\n  {\n    en: 'cash',\n    la: 'ເງິນສົດ',\n  },\n  {\n    en: 'bcel_online',\n    la: 'Bcel Bill Payment',\n  },\n];\n\nexport const getLaoCustomerType = function (type) {\n  switch (type) {\n    case 'company':\n      return 'ຫົວໜ່ວຍທຸລະກິດ';\n    case 'home':\n      return 'ຄົວເຮືອນ';\n    default: return type;\n  }\n};\nexport const getLaoInvoiceTypes = function (type) {\n  switch (type) {\n    case 'FutureInvoice':\n      return 'ຫົວໜ່ວຍທຸລະກິດ';\n    case 'NewInvoice':\n      return 'ຄົວເຮືອນ';\n    case 'NewCollectionEvent':\n      return 'ຄົວເຮືອນ';\n    case 'CustomBill':\n      return 'ຄົວເຮືອນ';\n    default: return type;\n  }\n};\n\nexport const getCustomerUnit = function (costBy) {\n  switch (costBy) {\n    case 'bag':\n    case 'chartered':\n    case '32km':\n    case 'infect':\n      return 'ຖົງ';\n    case 'container':\n      return 'ຄອນເທນເນີ';\n    case 'fix_cost':\n      return 'ຖ້ຽວ';\n    default: return costBy;\n  }\n};\n\nexport const getEventStatus = [\n  {\n    en: 'requested',\n    la: 'ລູກຄ້າຮ້ອງຂໍເຂົ້າມາ',\n    color: '#34495e',\n  },\n  {\n    en: 'rejected',\n    la: 'ປະຕິເສດລູກຄ້າແລ້ວ',\n    color: '#eff3f5',\n  },\n  {\n    en: 'approved',\n    la: 'ອະນຸມັດແລ້ວ ລໍຖ້າລົງເກັບ',\n    color: '#54a0ff',\n  },\n  {\n    en: 'collected',\n    la: 'ເກັບແລ້ວ ລໍຖ້າຢືນຢັນ',\n    color: '#c1c40f',\n  },\n  {\n    en: 'collect_confirm',\n    la: 'ລູກຄ້າຢືນຢັນການເກັບແລ້ວ',\n    color: '#30cb83',\n  },\n  {\n    en: 'collect_reject',\n    la: 'ລູກຄ້າປະຕິເສດການເກັບ',\n    color: '#e74c3c',\n  },\n];\n\nexport const billDateList = [\n  {\n    text: 'ວັນທີຈ່າຍບິນ',\n    value: 'paided_at',\n  },\n  {\n    text: 'ວັນທີສ້າງບິນ',\n    value: 'created_at',\n  },\n  {\n    text: 'ວັນທີອະນຸມັດບິນ',\n    value: 'approved_at',\n  },\n\n  {\n    text: 'ວັນທີກວດສອບບິນສຳເລັດ',\n    value: 'confirmed_payment_at',\n  },\n];\n\nexport const concatPackage = (packageArr = []) => {\n  const connateArr = [];\n\n  for (const packageItem of packageArr) {\n    connateArr.push({\n      id: packageItem.id,\n      name: `${packageItem.name} (${Intl.NumberFormat().format(packageItem.price)} ກີບ)`,\n    });\n  }\n\n  return connateArr;\n};\n\nexport const getCustomerCanCollect = [\n  {\n    value: '',\n    text: 'ທັງໝົດ',\n  },\n  {\n    value: 'can',\n    text: 'ເກັບໄດ້',\n  },\n  {\n    value: 'not',\n    text: 'ເກັບບໍ່ໄດ້',\n  },\n];\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{attrs:{\"outlined\":\"\",\"min-width\":\"200px\"},on:{\"click\":function($event){return _vm.openNewTab(_vm.route)}}},[_c('v-card-title',{staticClass:\"d-flex justify-between w-full text-wrap\",staticStyle:{\"position\":\"relative\"}},[(_vm.icon)?_c('v-chip',{staticClass:\"text-caption text-wrap\",attrs:{\"color\":_vm.icon_color,\"dark\":\"\"}},[_c('v-icon',{attrs:{\"x-small\":true}},[_vm._v(\" \"+_vm._s(_vm.icon)+\" \")]),_c('div',{staticClass:\"ml-1 text-caption\",attrs:{\"color\":_vm.icon_color}},[_c('p',{staticClass:\"ma-0\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])])],1):_c('v-chip',{staticClass:\"text-caption text-wrap\",attrs:{\"color\":_vm.bg_color,\"dark\":_vm.isContrastingWithWhite(_vm.bg_color)}},[_c('p',{staticClass:\"ma-0\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),(\n        _vm.billing_count != null &&\n          _vm.billing_count != '' &&\n          _vm.billing_count != undefined\n      )?_c('v-chip',{staticClass:\"text-caption text-wrap\",staticStyle:{\"position\":\"absolute\",\"right\":\"10px\"},attrs:{\"color\":_vm.bg_color,\"outlined\":\"\"}},[_c('p',{staticClass:\"ma-0\"},[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(_vm.billing_count))+\" \"+_vm._s(_vm.unit_count ? _vm.unit_count : \"ບິນ\")+\" \")])]):_vm._e()],1),(_vm.total)?_c('v-card-text',[_c('p',{staticClass:\"ma-0 text-h4 font-weight-bold\"},[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(_vm.total))+\" \"+_vm._s(_vm.unit_total ? _vm.unit_total : 'k')+\" \")])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card\n    outlined\n    min-width=\"200px\"\n    @click=\"openNewTab(route)\"\n  >\n    <v-card-title\n      class=\"d-flex justify-between w-full text-wrap\"\n      style=\"position: relative\"\n    >\n      <v-chip\n        v-if=\"icon\"\n        class=\"text-caption text-wrap\"\n        :color=\"icon_color\"\n        dark\n      >\n        <v-icon :x-small=\"true\">\n          {{ icon }}\n        </v-icon>\n        <div\n          :color=\"icon_color\"\n          class=\"ml-1 text-caption\"\n        >\n          <p class=\"ma-0\">\n            {{ title }}\n          </p>\n        </div>\n      </v-chip>\n      <v-chip\n        v-else\n        class=\"text-caption text-wrap\"\n        :color=\"bg_color\"\n        :dark=\"isContrastingWithWhite(bg_color)\"\n      >\n        <p class=\"ma-0\">\n          {{ title }}\n        </p>\n      </v-chip>\n      <v-chip\n        v-if=\"\n          billing_count != null &&\n            billing_count != '' &&\n            billing_count != undefined\n        \"\n        style=\"position: absolute;right: 10px; !important\"\n        :color=\"bg_color\"\n        outlined\n        class=\"text-caption text-wrap\"\n      >\n        <p class=\"ma-0\">\n          {{ Intl.NumberFormat().format(billing_count) }} {{ unit_count ? unit_count : \"ບິນ\" }}\n        </p>\n      </v-chip>\n    </v-card-title>\n    <v-card-text v-if=\"total\">\n      <p class=\"ma-0 text-h4 font-weight-bold\">\n        {{ Intl.NumberFormat().format(total) }} {{ unit_total ? unit_total : 'k' }}\n      </p>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  props: [\n    'title',\n    'billing_count',\n    'total',\n    'bg_color',\n    'route',\n    'icon',\n    'icon_color',\n    'unit_count',\n    'unit_total',\n  ],\n  data() {\n    return {};\n  },\n  created() {\n  },\n  beforeUpdate() {\n    this.$store.commit('Loading_State', true);\n  },\n  updated() {\n    this.$store.commit('Loading_State', false);\n  },\n  methods: {\n    getColor(value) {\n      return `background-color: ${value}`;\n    },\n    openNewTab(route) {\n      if (route) window.open(route.href, '_blank');\n    },\n    isContrastingWithWhite(color) {\n      if (color) {\n        const relativeLuminance = (color) => {\n          const [r, g, b] = color.match(/\\w\\w/g).map((x) => parseInt(x, 16) / 255);\n          const gamma = (c) => (c <= 0.03928 ? c / 12.92 : ((c + 0.055) / 1.055) ** 2.4);\n          return 0.2126 * gamma(r) + 0.7152 * gamma(g) + 0.0722 * gamma(b);\n        };\n\n        const contrast = Math.abs(relativeLuminance(color) - relativeLuminance('#ffffff'));\n        return contrast >= 0.5;\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.22.5_webpack@4.46.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./MoneyCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.22.5_webpack@4.46.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./MoneyCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoneyCard.vue?vue&type=template&id=eb5a6a6c&\"\nimport script from \"./MoneyCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MoneyCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-breadcrumbs',{staticClass:\"pt-0\",attrs:{\"large\":\"\"}},[_vm._v(\" ລາຍງານຂໍ້ມູນບິນເກັບຂີ້ເຫື້ຍອພິເສດ \")]),_c('v-row',{staticClass:\"mb-n6\"},[_c('v-col',[_c('v-btn',{staticClass:\"btn-primary\",on:{\"click\":function($event){return _vm.exportData()}}},[_vm._v(\" Export \")])],1),_c('v-col',[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.duration,\"item-text\":\"name\",\"item-value\":\"duration\",\"label\":\"ຊ່ວງເວລາ\"},model:{value:(_vm.selectedDuration),callback:function ($$v) {_vm.selectedDuration=$$v},expression:\"selectedDuration\"}})],1),(_vm.selectedDuration == 'year')?_c('v-col',[_c('section',[_c('date-picker',{staticStyle:{\"height\":\"40px\"},attrs:{\"type\":\"year\",\"placeholder\":\"ເລີ່ມປີ\"},model:{value:(_vm.year_from),callback:function ($$v) {_vm.year_from=$$v},expression:\"year_from\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'year')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"year\",\"placeholder\":\"ຫາປີ\"},model:{value:(_vm.year_to),callback:function ($$v) {_vm.year_to=$$v},expression:\"year_to\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'month')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"ເລີ່ມເດືອນ\"},model:{value:(_vm.month_from),callback:function ($$v) {_vm.month_from=$$v},expression:\"month_from\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'month')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"ຫາເດືອນ\"},model:{value:(_vm.month_to),callback:function ($$v) {_vm.month_to=$$v},expression:\"month_to\"}})],1)]):_vm._e()],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"\"}},[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.collectionStatus,\"item-text\":\"dis_play\",\"item-value\":\"name\",\"label\":\"ສະຖານະບໍລິການ\",\"multiple\":\"\",\"clearable\":\"\"},model:{value:(_vm.selectedCollectionStatus),callback:function ($$v) {_vm.selectedCollectionStatus=$$v},expression:\"selectedCollectionStatus\"}})],1),_c('v-col',{attrs:{\"col\":\"\"}},[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.paymentStatus,\"item-text\":\"dis_play\",\"item-value\":\"name\",\"label\":\"ສະຖານະການຊຳລະ\",\"multiple\":\"\",\"clearable\":\"\"},model:{value:(_vm.selectedPaymentStatus),callback:function ($$v) {_vm.selectedPaymentStatus=$$v},expression:\"selectedPaymentStatus\"}})],1)],1),_c('div',[_c('v-row',_vm._l((_vm.summary),function(sum,index){return _c('v-col',{key:index},[_c('MoneyCard',{attrs:{\"title\":sum.collect_status_la,\"total\":sum.count_event,\"bg_color\":_vm.findEventColorByStatus(sum.collect_status),\"unit_total\":'ຄັ້ງ'}})],1)}),1),_c('v-card',[_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.invoices,\"search\":_vm.search,\"disable-pagination\":true,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.sub_total\",fn:function({ item }){return [_c('div',[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(item.sub_total))+\" \")])]}},{key:\"item.billingable.display_id\",fn:function({ item }){return [_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.openEventRoute(item.billingable.id)}}},[_vm._v(\" \"+_vm._s(item.billingable.display_id)+\" \")])]}},{key:\"item.billing_display_id\",fn:function({ item }){return [_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.openBillDetailRoute(item.id)}}},[_vm._v(\" \"+_vm._s(item.billing_display_id)+\" \")])]}},{key:\"item.billingable.driver\",fn:function({ item }){return [(item.billingable.driver)?_c('div',[_vm._v(\" \"+_vm._s(item.billingable.driver.full_name)+\" \"+_vm._s(item.billingable.driver.vehicle ? item.billingable.driver.vehicle.car_id +' ' +item.billingable.driver.vehicle.vehicle_type.name : '')+\" \")]):_vm._e()]}},{key:\"item.total\",fn:function({ item }){return [_c('div',[_vm._v(\" \"+_vm._s(Intl.NumberFormat().format(item.total))+\" \")])]}},{key:\"item.status_la\",fn:function({ item }){return [_c('v-chip',{attrs:{\"label\":\"\",\"color\":_vm.statusColor(item.status)}},[_vm._v(\" \"+_vm._s(item.status_la)+\" \")])]}},{key:\"item.billingable.collect_status_la\",fn:function({ item }){return [_c('v-chip',{attrs:{\"label\":\"\",\"dark\":\"\",\"color\":_vm.findEventStatus(item.billingable.collect_status) ? _vm.findEventStatus(item.billingable.collect_status).color : ''}},[_vm._v(\" \"+_vm._s(item.billingable.collect_status_la)+\" \")])]}},{key:\"item.created_at\",fn:function({ item }){return [_c('div',[_c('span',[_vm._v(_vm._s(_vm.moment(item.created_at).format(\"DD-MM-YY\")))])])]}}])})],1)],1),_c('br'),[(_vm.pagination && _vm.pagination.total_pages > 1)?_c('Pagination',{attrs:{\"pagination\":_vm.pagination,\"offset\":_vm.offset},on:{\"paginate\":function($event){return _vm.fetchData()}}}):_vm._e()]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { GetOldValueOnInput } from '@/Helpers/GetValue';\nimport moment from 'moment';\nimport queryOptions from '@/Helpers/queryOption';\n\nexport default {\n  title() {\n    return `Vientiane Waste Co-Dev|Report Invoice`;\n  },\n  data() {\n    return {\n      tab: 'tab-1',\n      customers: [],\n      loading: false,\n      customerId: '',\n      // Year\n      year_from: '',\n      year_to: '',\n      // Month\n      month_from: '',\n      month_to: '',\n      // Pagination\n      offset: 12,\n      pagination: {},\n      per_page: 15,\n      search: '',\n      oldVal: '',\n      invoices: [],\n      summary: {},\n      // companyInvoices: [],\n      // companySummary: {},\n      selectedDuration: 'year',\n      duration: [\n        {\n          name: 'ປີ',\n          duration: 'year',\n        },\n        {\n          name: 'ເດືອນ',\n          duration: 'month',\n        },\n      ],\n      invoiceType: 'home',\n\n      selectedCollectionStatus: [],\n      collectionStatus: [\n        {\n          id: 1,\n          name: 'requested',\n          dis_play: 'ຮ້ອງຂໍເກັບຂີ້ເຫື້ຍອ',\n        },\n        {\n          id: 2,\n          name: 'rejected',\n          dis_play: 'ປະຕິເສດເກັບຂີ້ເຫື້ຍອ',\n        },\n        {\n          id: 3,\n          name: 'approved',\n          dis_play: 'ອະນຸມັດເກັບຂີ້ເຫື້ຍອ',\n\n        },\n        {\n          id: 4,\n          name: 'collected',\n          dis_play: 'ເກັບຂີເຫື້ຍອສຳເລັດ',\n        },\n        {\n          id: 5,\n          name: 'collect_confirm',\n          dis_play: 'ລູກຄ້າຢືນຢັນການເກັບ',\n        },\n        {\n          id: 5,\n          name: 'collect_reject',\n          dis_play: 'ການເກັບຖືກປະຕິເສດ',\n        },\n      ],\n      selectedPaymentStatus: [],\n      paymentStatus: [\n        {\n          id: 1,\n          name: 'approved',\n          dis_play: 'ອະນຸມັດແລ້ວ (ລໍຖ້າເກັບເງິນ)',\n        },\n        {\n          id: 2,\n          name: 'to_confirm_payment',\n          dis_play: 'ຈ່າຍແລ້ວ ລໍຖ້າກວດສອບ',\n        },\n        {\n          id: 3,\n          name: 'rejected',\n          dis_play: 'ການຈ່າຍຖືກປະຕິເສດ',\n        },\n        {\n          id: 4,\n          name: 'success',\n          dis_play: 'ຈ່າຍແລ້ວ ກວດສອບສຳເລັດ',\n        },\n      ],\n    };\n  },\n  methods: {\n    fetchData(exportMode = false) {\n      const queryArray = [\n        { per_page: this.per_page },\n        { page: this.pagination.current_page },\n        { duration: this.selectedDuration },\n        { download: exportMode },\n        { export_from: 'collect_event' },\n      ];\n\n      if (this.year_from !== '' && (this.selectedDuration == 'year')) {\n        queryArray.push({ year_from: this.moment(this.year_from).format('YYYY') });\n      }\n\n      if (this.year_to !== '' && (this.selectedDuration == 'year')) {\n        queryArray.push({ year_to: this.moment(this.year_to).format('YYYY') });\n      }\n      if (this.month_from !== '' && (this.selectedDuration == 'month')) {\n        queryArray.push({ month_from: this.moment(this.month_from).format('YYYY-MM') });\n      }\n\n      if (this.month_to !== '' && (this.selectedDuration == 'month')) {\n        queryArray.push({ month_to: this.moment(this.month_to).format('YYYY-MM') });\n      }\n      if (this.selectedCollectionStatus) {\n        this.selectedCollectionStatus.map((item, index) => {\n          queryArray.push({ [`collect_statuses[${index}]`]: item });\n        });\n      }\n\n      console.log(this.selectedPaymentStatus);\n\n      if (this.selectedPaymentStatus) {\n        this.selectedPaymentStatus.map((item, index) => {\n          queryArray.push({ [`payment_statuses[${index}]`]: item });\n        });\n      }\n\n      console.log(queryArray);\n\n      this.$store.commit('Loading_State', true);\n      this.$axios\n        .get('v2/report-billing-collection-event',\n          { params: queryOptions(queryArray) },\n\n        )\n        .then((res) => {\n          if (res.data.code == 200) {\n            setTimeout(() => {\n              this.$store.commit('Loading_State', false);\n              this.summary = res.data.data.count_event_status;\n              if (res.data.data.data.pagination) {\n                this.invoices = res.data.data.data.data;\n                this.pagination = res.data.data.data.pagination;\n              } else { this.invoices = res.data.data.data; }\n\n              if (res.data.data.download_link) window.open(res.data.data.download_link);\n            }, 300);\n          }\n        })\n        .catch((error) => {\n          this.$store.commit('Loading_State', false);\n          this.$store.commit('Toast_State', {\n            value: true,\n            color: 'error',\n            msg: error.response.data.message,\n          });\n        });\n    },\n\n    exportData() {\n      this.fetchData('excel');\n    },\n\n    editPage(id) {\n      this.$router.push({\n        name: 'InvoiceDetail',\n        params: { id },\n      });\n    },\n    viewPage(id) {\n      this.$router.push({\n        name: 'InvoiceDetail',\n        params: { id },\n      });\n    },\n    Search() {\n      GetOldValueOnInput(this);\n    },\n  },\n  watch: {\n    selectedPaymentStatus() {\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    selectedCollectionStatus() {\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    selectedDuration() {\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    search(value) {\n      this.pagination.current_page = '';\n      if (value == '') {\n        this.fetchData();\n      }\n    },\n\n    year_from(value) {\n      const year_from = moment(value).format('YYYY');\n      const year_to = moment(this.year_to).format('YYYY');\n      this.pagination.current_page = '';\n      if (year_from !== '' && year_to !== '') {\n        if (year_from > year_to) {\n          this.year_from = '';\n        }\n      }\n      this.fetchData();\n    },\n    year_to(value) {\n      const year_to = moment(value).format('YYYY');\n      const year_from = moment(this.year_from).format('YYYY');\n      this.pagination.current_page = '';\n      if (year_to !== '' && year_from !== '') {\n        if (year_to < year_from) {\n          this.year_to = '';\n        }\n      }\n      this.fetchData();\n    },\n    month_from(value) {\n      const month_from = moment(value).format('YYYY-MM');\n      const month_to = moment(this.month_to).format('YYYY-MM');\n      if (month_from !== '' && month_to !== '') {\n        if (month_from > month_to) {\n          this.month_from = '';\n        }\n      }\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n    month_to(value) {\n      const month_from = moment(this.month_from).format('YYYY-MM');\n      const month_to = moment(value).format('YYYY-MM');\n      this.pagination.current_page = '';\n      if (month_from !== '' && month_to !== '') {\n        if (month_to < month_from) {\n          this.month_to = '';\n        }\n      }\n      this.pagination.current_page = '';\n      this.fetchData();\n    },\n\n    tab(value) {\n      if (value == 'tab-1') {\n        this.fetchData();\n        this.invoiceType = 'home';\n        this.$router\n          .push({ name: 'Report-Invoice', query: { tab: 'home' } })\n          .catch(() => { });\n      } else if (value == 'tab-2') {\n        this.fetchData();\n        this.invoiceType = 'company';\n        this.$router\n          .push({\n            name: 'Report-Invoice',\n            query: { tab: 'company' },\n          })\n          .catch(() => { });\n      }\n    },\n  },\n  created() {\n    if (this.$route.query.tab == 'home') {\n      this.tab = 'tab-1';\n      this.invoiceType = 'home';\n      this.fetchData();\n    } else if (this.$route.query.tab == 'company') {\n      this.tab = 'tab-2';\n      this.invoiceType = 'company';\n      this.fetchData();\n    }\n    this.pagination = [];\n  },\n};\n","<template>\n  <v-container>\n    <v-breadcrumbs\n      large\n      class=\"pt-0\"\n    >\n      ລາຍງານຂໍ້ມູນບິນເກັບຂີ້ເຫື້ຍອພິເສດ\n    </v-breadcrumbs>\n    <v-row class=\"mb-n6\">\n      <v-col>\n        <v-btn\n          class=\"btn-primary\"\n          @click=\"exportData()\"\n        >\n          Export\n        </v-btn>\n      </v-col>\n      <v-col>\n        <v-select\n          v-model=\"selectedDuration\"\n          outlined\n          dense\n          :items=\"duration\"\n          item-text=\"name\"\n          item-value=\"duration\"\n          label=\"ຊ່ວງເວລາ\"\n        />\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'year'\">\n        <section>\n          <date-picker\n            v-model=\"year_from\"\n            style=\"height: 40px\"\n            type=\"year\"\n            placeholder=\"ເລີ່ມປີ\"\n          />\n        </section>\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'year'\">\n        <section>\n          <date-picker\n            v-model=\"year_to\"\n            type=\"year\"\n            placeholder=\"ຫາປີ\"\n          />\n        </section>\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'month'\">\n        <section>\n          <date-picker\n            v-model=\"month_from\"\n            type=\"month\"\n            placeholder=\"ເລີ່ມເດືອນ\"\n          />\n        </section>\n      </v-col>\n      <v-col v-if=\"selectedDuration == 'month'\">\n        <section>\n          <date-picker\n            v-model=\"month_to\"\n            type=\"month\"\n            placeholder=\"ຫາເດືອນ\"\n          />\n        </section>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols>\n        <v-select\n          v-model=\"selectedCollectionStatus\"\n          outlined\n          dense\n          :items=\"collectionStatus\"\n          item-text=\"dis_play\"\n          item-value=\"name\"\n          label=\"ສະຖານະບໍລິການ\"\n          multiple\n          clearable\n        />\n      </v-col>\n      <v-col col>\n        <v-select\n          v-model=\"selectedPaymentStatus\"\n          outlined\n          dense\n          :items=\"paymentStatus\"\n          item-text=\"dis_play\"\n          item-value=\"name\"\n          label=\"ສະຖານະການຊຳລະ\"\n          multiple\n          clearable\n        />\n      </v-col>\n    </v-row>\n\n    <div>\n      <v-row>\n        <v-col\n          v-for=\"(sum, index) in summary\"\n          :key=\"index\"\n        >\n          <MoneyCard\n            :title=\"sum.collect_status_la\"\n            :total=\"sum.count_event\"\n            :bg_color=\"findEventColorByStatus(sum.collect_status)\"\n            :unit_total=\"'ຄັ້ງ'\"\n          />\n        </v-col>\n      </v-row>\n      <v-card>\n        <v-card-text>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"invoices\"\n            :search=\"search\"\n            :disable-pagination=\"true\"\n            hide-default-footer\n          >\n            <!--Role -->\n            <template v-slot:item.sub_total=\"{ item }\">\n              <div>\n                {{ Intl.NumberFormat().format(item.sub_total) }}\n              </div>\n            </template>\n\n            <template v-slot:item.billingable.display_id=\"{ item }\">\n              <a\n                href=\"#\"\n                @click=\"openEventRoute(item.billingable.id)\"\n              >\n                {{ item.billingable.display_id }}\n              </a>\n            </template>\n\n            <template v-slot:item.billing_display_id=\"{ item }\">\n              <a\n                href=\"#\"\n                @click=\"openBillDetailRoute(item.id)\"\n              >\n                {{ item.billing_display_id }}\n              </a>\n            </template>\n\n            <template v-slot:item.billingable.driver=\"{ item }\">\n              <div v-if=\"item.billingable.driver\">\n                {{ item.billingable.driver.full_name }} {{ item.billingable.driver.vehicle ? item.billingable.driver.vehicle.car_id +' ' +item.billingable.driver.vehicle.vehicle_type.name : '' }}\n              </div>\n            </template>\n\n            <template v-slot:item.total=\"{ item }\">\n              <div>\n                {{ Intl.NumberFormat().format(item.total) }}\n              </div>\n            </template>\n            <template v-slot:item.status_la=\"{ item }\">\n              <v-chip\n                label\n                :color=\"statusColor(item.status)\"\n              >\n                {{\n                  item.status_la\n                }}\n              </v-chip>\n            </template>\n\n            <template v-slot:item.billingable.collect_status_la=\"{ item }\">\n              <v-chip\n                label\n                dark\n                :color=\"findEventStatus(item.billingable.collect_status) ? findEventStatus(item.billingable.collect_status).color : ''\"\n              >\n                {{\n                  item.billingable.collect_status_la\n                }}\n              </v-chip>\n            </template>\n            <template v-slot:item.created_at=\"{ item }\">\n              <div>\n                <span>{{ moment(item.created_at).format(\"DD-MM-YY\") }}</span>\n              </div>\n            </template>\n          </v-data-table>\n        </v-card-text>\n      </v-card>\n      <br>\n      <template>\n        <Pagination\n          v-if=\"pagination && pagination.total_pages > 1\"\n          :pagination=\"pagination\"\n          :offset=\"offset\"\n          @paginate=\"fetchData()\"\n        />\n      </template>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport { GetOldValueOnInput } from '@/Helpers/GetValue';\nimport { getEventStatus } from '@/Helpers/Customer';\nimport { getBgColor } from '@/Helpers/BillingStatus';\nimport invoice from '@views/report/TabCollectionTab/invoiceEvent';\nimport MoneyCard from '@/components/card/MoneyCard';\n\nexport default {\n  name: 'InvoiceCollectionEvent',\n  mixins: [invoice],\n  // props: [\"tab\"],\n  title() {\n    return `Vientiane Waste Co-Dev|Report Invoice Collection Event`;\n  },\n  components: {\n    MoneyCard,\n  },\n  data() {\n    return {\n      customers: [],\n      loading: false,\n      customerId: '',\n      // Pagination\n      offset: 12,\n      pagination: {},\n      per_page: 100,\n      search: '',\n      oldVal: '',\n      headers: [\n        { text: 'ວັນທີ', value: 'date', width: '120px' },\n        { text: 'ໄອດີການເກັບ', value: 'billingable.display_id' },\n        { text: 'ລູກຄ້າ', value: 'display_customer_name', width: '120px' },\n        { text: 'ຄົນຂັບ', value: 'billingable.driver', width: '120px' },\n        { text: 'ສະຖານະເກັບ', value: 'billingable.collect_status_la', sortable: false },\n        { text: 'ເວລາລົງເກັບ', value: 'billingable.collected_at', width: '120px' },\n        { text: 'ໄອດີບິນ', value: 'billing_display_id' },\n        // { text: \"ຈຳນວນຖົງ\", value: \"total_bag\", sortable: false },\n        { text: 'ສ່ວນຫຼຸດ', value: 'discount' },\n        { text: 'SubTotal', value: 'sub_total', sortable: false },\n        { text: 'Total', value: 'total', sortable: false },\n        { text: 'ສະຖານະຊຳລະ', value: 'status_la', sortable: false },\n        // { text: 'Type', value: 'type', sortable: false },\n        // { text: \"\", value: \"actions\", sortable: false },\n      ],\n      getEventStatus,\n    };\n  },\n  watch: {\n    tab() {\n      if (this.tab == 'tab-1') {\n        // this.fetchData();\n      }\n    },\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    Search() {\n      GetOldValueOnInput(this);\n    },\n\n    openEventRoute(id) {\n      const route = {\n        name: 'EventInvoiceDetail',\n        params: {\n          id,\n        },\n      };\n      this.openRoute(route);\n    },\n\n    openBillDetailRoute(id) {\n      const route = {\n        name: 'billing-detail',\n        params: {\n          id,\n        },\n      };\n      this.openRoute(route);\n    },\n\n    openRoute(route) {\n      const routeData = this.$router.resolve(route);\n      window.open(routeData.href);\n    },\n\n    getBgColorFunc(status) {\n      return getBgColor(status);\n    },\n\n    statusColor(value) {\n      if (value == 'success') return 'success';\n      if (value == 'pending') return 'primary';\n      if (value == 'rejected') return 'error';\n      return 'info';\n    },\n    paymentStatusText(status) {\n      if (status == 'pending') return 'ລໍຖ້າເກັບເງິນ';\n      if (status == 'to_confirm_payment') return 'ລໍຖ້າຢືນຢັນຊຳລະ';\n      if (status == 'rejected') return 'ປະຕິເສດການຊຳລະ';\n      if (status == 'success') return 'ຊຳລະສຳເລັດ';\n      return '';\n    },\n    findEventStatus(status) {\n      return this.getEventStatus.find((item) => item.en == status);\n    },\n    findEventColorByStatus(status) {\n      return this.findEventStatus(status) ? this.findEventStatus(status).color : '';\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../public/scss/main.scss\";\n.mx-input {\n  height: 40px !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.22.5_webpack@4.46.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./homeInvoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.22.5_webpack@4.46.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/index.js??vue-loader-options!./homeInvoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./homeInvoice.vue?vue&type=template&id=29314b4e&\"\nimport script from \"./homeInvoice.vue?vue&type=script&lang=js&\"\nexport * from \"./homeInvoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./homeInvoice.vue?vue&type=style&index=0&id=29314b4e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.1_cache-loader@4.1.0_css-loader@3.6.0_vue-template-compiler@2.7.14_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}