(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43be0bbf"],{"4fad":function(e,t,a){var n=a("23e7"),s=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return s(e)}})},"54da":function(e,t,a){"use strict";var n=a("b85c");a("b64b");t["a"]=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},s=Object(n["a"])(t);try{for(s.s();!(e=s.n()).done;){var i=e.value;1==Object.keys(i).length&&i[Object.keys(i)]&&(a[Object.keys(i)]=i[Object.keys(i)])}}catch(r){s.e(r)}finally{s.f()}return a}},"66d3":function(e,t,a){},"6eceb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("ac1f"),a("841c");var n=function(e){""!==e.search?""!==e.oldVal?e.oldVal!==e.search&&(e.oldVal=e.search,e.pagination.current_page=1,e.fetchData()):(""!==e.search&&(e.pagination.current_page=1,e.fetchData()),e.oldVal=e.search):e.oldVal=""}},"89ef":function(e,t,a){"use strict";a("66d3")},df28:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"mb-n6"},[a("v-col",[a("div",[e._v(" ສ້າງບິນແບບກຳນົດເອງ ")])])],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",[a("v-card",{staticClass:"pa-2"},[a("v-card-title",{staticClass:"my-auto"},[e._v(" ຂໍ້ມູນ Users ("+e._s(e.pagination.total)+") "),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("v-spacer"),a("v-row",[a("v-col",[a("v-select",{attrs:{outlined:"",dense:"",items:e.roles,"item-text":"name","item-value":"name",label:"Roles",multiple:""},model:{value:e.selectedRoles,callback:function(t){e.selectedRoles=t},expression:"selectedRoles"}}),a("v-spacer")],1),a("v-col",[a("v-text-field",{attrs:{clearable:"","prepend-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",outlined:"",dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Search()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",[a("v-text-field",{staticClass:"input-number",attrs:{clearable:"","prepend-inner-icon":"mdi-magnify",label:"Phone",type:"number","single-line":"","hide-details":"",outlined:"",dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.SearchPhone()}},model:{value:e.searchPhone,callback:function(t){e.searchPhone=t},expression:"searchPhone"}})],1)],1)],1),a("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search,"disable-pagination":!0,"hide-default-footer":""},scopedSlots:e._u([{key:"item.roles",fn:function(t){var n=t.item;return[a("div",e._l(n.roles,(function(t,n){return a("span",{key:n},[a("v-chip",{staticClass:"mr-1 my-1",attrs:{color:"info",label:""}},[e._v(" "+e._s(t.name)+" ")])],1)})),0)]}},{key:"item.permissions",fn:function(t){var n=t.item;return[a("div",e._l(n.permissions,(function(t,n){return a("span",{key:n},[a("v-chip",{staticClass:"mr-1 my-1",attrs:{color:"success",label:""}},[e._v(e._s(t.name))])],1)})),0)]}},{key:"item.status",fn:function(t){var n=t.item;return[a("v-btn",{staticClass:"btn-primary elevation-0",attrs:{small:""},on:{click:function(t){return e.createCustomPage(n)}}},[a("v-icon",[e._v("mdi-plus")]),e._v(" ສ້າງບິນ ")],1)]}}])}),a("br"),[e.pagination.total_pages>1?a("Pagination",{attrs:{pagination:e.pagination,offset:e.offset},on:{paginate:function(t){return e.fetchData()}}}):e._e()]],2)],1)],1)],1)},s=[],i=a("3835"),r=(a("ac1f"),a("841c"),a("4fad"),a("6eceb")),o=a("54da"),c={title:function(){return"Vientiane Waste Co-Dev|User"},name:"User",data:function(){return{stepValue:1,otp:"",isStepTwo:!1,headers:[{text:"User Name",value:"name",width:"150px"},{text:"Phone",value:"phone",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"",value:"status",sortable:!1,align:"center"}],loading:!1,users:[],user:{},phone:"",server_errors:{email:"",roleId:""},selectedRole:"",selectedRoles:[],roles:[],offset:12,pagination:{},per_page:12,search:"",searchPhone:"",oldVal:"",statuses:[{name:"active"},{name:"inactive"}],status:"",id_token:""}},methods:{fetchData:function(){var e=this;this.$store.commit("Loading_State",!0),this.$axios.get("user-setting/user",{params:Object(o["a"])([{page:this.pagination.current_page},{per_page:this.per_page},{filter:this.search},{phone:this.searchPhone},{roles:this.selectedRoles}])}).then((function(t){200===t.data.code&&(e.loading=!1,e.$store.commit("Loading_State",!1),e.users=t.data.data.data,console.log(e.users),e.pagination=t.data.data.pagination)})).catch((function(t){if(e.$store.commit("Loading_State",!1),422===t.response.status)for(var a=t.response.data.errors,n=0,s=Object.entries(a);n<s.length;n++){var r=Object(i["a"])(s[n],2),o=r[0],c=r[1];e.server_errors[o]=c[0]}}))},fetchRole:function(){var e=this;this.$axios.get("user-setting/role").then((function(t){200===t.data.code&&(e.loading=!1,e.roles=t.data.data)})).catch((function(){e.loading=!1}))},createCustomPage:function(e){this.$router.push({name:"create-custom-bill",params:{items:e}})},reset:function(){this.$refs.form.reset()},Search:function(){Object(r["a"])(this)},SearchPhone:function(){Object(r["a"])(this)}},watch:{search:function(e){this.pagination.current_page="",""===e&&this.fetchData()},searchPhone:function(e){this.pagination.current_page="",e.length>4&&this.fetchData()},selectedRoles:function(){this.pagination.current_page="",this.fetchData()}},created:function(){this.fetchRole(),this.fetchData()}},l=c,u=(a("89ef"),a("2877")),d=a("6544"),h=a.n(d),f=a("8336"),p=a("b0af"),v=a("99d9"),m=a("cc20"),g=a("62ad"),b=a("a523"),_=a("8fea"),y=a("ce7e"),k=a("132d"),V=a("0fd9"),x=a("b974"),C=a("2fa4"),O=a("8654"),j=Object(u["a"])(l,n,s,!1,null,null,null);t["default"]=j.exports;h()(j,{VBtn:f["a"],VCard:p["a"],VCardTitle:v["c"],VChip:m["a"],VCol:g["a"],VContainer:b["a"],VDataTable:_["a"],VDivider:y["a"],VIcon:k["a"],VRow:V["a"],VSelect:x["a"],VSpacer:C["a"],VTextField:O["a"]})}}]);
//# sourceMappingURL=chunk-43be0bbf.ddd565d3.js.map