{"version":3,"sources":["webpack:///./src/views/report/TabCollectionTab/homeCollectionEvent.vue?8468","webpack:///./src/views/report/TabCollectionTab/collectionEvent.js","webpack:///src/views/report/TabCollectionTab/homeCollectionEvent.vue","webpack:///./src/views/report/TabCollectionTab/homeCollectionEvent.vue?386d","webpack:///./src/views/report/TabCollectionTab/homeCollectionEvent.vue?5b0b","webpack:///./src/Helpers/GetValue.js","webpack:///./src/views/report/TabCollectionTab/homeCollectionEvent.vue?0ffa"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","loading","on","$event","exportData","duration","model","value","callback","$$v","selectedDuration","expression","staticStyle","fetchData","year_from","_e","year_to","month_from","month_to","date_from","date_to","_l","sum","index","key","_s","year","month","moment","date","format","approved_count","collect_confirm_count","number_of_times_to_collect","rejected_count","collected_count","headers","homeCollection","search","scopedSlots","_u","fn","ref","item","collect_status","pagination","total_pages","offset","staticRenderFns","title","data","tab","customers","customerId","per_page","oldVal","collections","summary","name","collectionType","methods","FormData","append","current_page","$store","commit","$axios","post","then","res","code","setTimeout","details","catch","error","color","msg","response","message","set","status","window","open","download_link","viewPage","id","$router","push","params","Search","GetOldValueOnInput","watch","created","$route","query","mixins","statusColor","component","VBreadcrumbs","VBtn","VCard","VCardText","VCol","VContainer","VDataTable","VRow","VSelect","context"],"mappings":"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","file":"js/chunk-ffb7acac.825ea713.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-breadcrumbs',{staticClass:\"pt-0\",attrs:{\"large\":\"\"}},[_vm._v(\"ລາຍງານຂໍ້ມູນການເກັບຂີ້ເຫື້ອຍພິເສດ\")]),_c('v-row',{staticClass:\"mb-n6\"},[_c('v-col',[_c('v-btn',{staticClass:\"btn-primary\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.exportData()}}},[_vm._v(\"Export \")])],1),_c('v-col',[_c('v-select',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"items\":_vm.duration,\"item-text\":\"name\",\"item-value\":\"duration\",\"label\":\"ຊ່ວງເວລາ\"},model:{value:(_vm.selectedDuration),callback:function ($$v) {_vm.selectedDuration=$$v},expression:\"selectedDuration\"}})],1),(_vm.selectedDuration == 'year')?_c('v-col',[_c('section',[_c('date-picker',{staticStyle:{\"height\":\"40px\"},attrs:{\"type\":\"year\",\"format\":\"YYYY\",\"placeholder\":\"ເລີ່ມປີ\"},on:{\"input\":function($event){return _vm.fetchData()}},model:{value:(_vm.year_from),callback:function ($$v) {_vm.year_from=$$v},expression:\"year_from\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'year')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"year\",\"format\":\"YYYY\",\"placeholder\":\"ຫາປີ\"},on:{\"input\":function($event){return _vm.fetchData()}},model:{value:(_vm.year_to),callback:function ($$v) {_vm.year_to=$$v},expression:\"year_to\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'month')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"ເລີ່ມເດືອນ\"},on:{\"input\":function($event){return _vm.fetchData()}},model:{value:(_vm.month_from),callback:function ($$v) {_vm.month_from=$$v},expression:\"month_from\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'month')?_c('v-col',[_c('section',[_c('date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"ຫາເດືອນ\"},on:{\"input\":function($event){return _vm.fetchData()}},model:{value:(_vm.month_to),callback:function ($$v) {_vm.month_to=$$v},expression:\"month_to\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'merge' || _vm.selectedDuration == 'date')?_c('v-col',[_c('section',[_c('date-picker',{staticStyle:{\"height\":\"40px\"},attrs:{\"type\":\"date\",\"placeholder\":\"ເລີ່ມວັນທີ\"},on:{\"input\":function($event){return _vm.fetchData()}},model:{value:(_vm.date_from),callback:function ($$v) {_vm.date_from=$$v},expression:\"date_from\"}})],1)]):_vm._e(),(_vm.selectedDuration == 'merge' || _vm.selectedDuration == 'date')?_c('v-col',[_c('section',[_c('date-picker',{staticStyle:{\"height\":\"40px\"},attrs:{\"type\":\"date\",\"placeholder\":\"ຫາວັນທີ\"},on:{\"input\":function($event){return _vm.fetchData()}},model:{value:(_vm.date_to),callback:function ($$v) {_vm.date_to=$$v},expression:\"date_to\"}})],1)]):_vm._e()],1),_c('div',[(_vm.summary)?_c('div',_vm._l((_vm.summary),function(sum,index){return _c('v-row',{key:index,staticClass:\"mb-n6 mt-0\"},[_c('v-col',[(_vm.selectedDuration =='year')?_c('p',[_vm._v(_vm._s(sum.year))]):_vm._e(),(_vm.selectedDuration =='month')?_c('p',[_vm._v(_vm._s(sum.month))]):_vm._e(),(_vm.selectedDuration =='date')?_c('p',[_vm._v(_vm._s(_vm.moment(sum.date).format(\"DD-MM-YY\")))]):_vm._e()]),_c('v-col',[_c('p',[_vm._v(\" ຈຳນວນອະນຸມັດ \"),_c('span',{staticClass:\"success--text\"},[_vm._v(_vm._s(sum.approved_count))])])]),_vm._v(\" \"),_c('v-col',[_c('p',[_vm._v(\" ຈຳນວນເກັບສຳເລັດ \"),_c('span',{staticClass:\"success--text\"},[_vm._v(_vm._s(sum.collect_confirm_count))])])]),_c('v-col',[_c('p',[_vm._v(\" ຈຳນວນຄັ້ງທີ່ລົງເກັບ \"),_c('span',{staticClass:\"success--text\"},[_vm._v(_vm._s(sum.number_of_times_to_collect))])])]),_c('v-col',[_c('p',[_vm._v(\" ຈຳນວນເກັບສຳເລັດ \"),_c('span',{staticClass:\"success--text\"},[_vm._v(_vm._s(sum.rejected_count))])])]),_c('v-col',[_c('p',[_vm._v(\" ຈຳນວນລໍຖ້າເກັບ \"),_c('span',{staticClass:\"success--text\"},[_vm._v(_vm._s(sum.collected_count))])])])],1)}),1):_vm._e(),_c('v-card',[_c('v-card-text',[(_vm.homeCollection)?_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.homeCollection,\"search\":_vm.search,\"disable-pagination\":true,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',[_vm._v(_vm._s(item.collect_status))])]}}],null,false,780571426)}):_vm._e()],1)],1),_c('br'),[(_vm.pagination.total_pages > 1)?_c('Pagination',{attrs:{\"pagination\":_vm.pagination,\"offset\":_vm.offset},on:{\"paginate\":function($event){return _vm.fetchData()}}}):_vm._e()]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { GetOldValueOnInput } from \"@/Helpers/GetValue\";\nexport default {\n    title() {\n        return `Vientiane Waste Co-Dev|Report Invoice`;\n    },\n    // props: ['collectionType'],\n    data() {\n        return {\n            tab: 'tab-1',\n            customers: [],\n            loading: false,\n            customerId: \"\",\n            //Year\n            year_from: \"\",\n            year_to: \"\",\n            //Month\n            month_from: \"\",\n            month_to: \"\",\n            //Date\n            date_from: \"\",\n            date_to: \"\",\n            //Pagination\n            offset: 12,\n            pagination: {},\n            per_page: 15,\n            search: \"\",\n            oldVal: \"\",\n            collections: [],\n            homeCollection: [],\n            summary: [],\n            selectedDuration: \"year\",\n            duration: [\n                {\n                    name: \"ປີ\",\n                    duration: \"year\"\n                },\n                {\n                    name: \"ເດືອນ\",\n                    duration: \"month\"\n                },\n                {\n                    name: \"ວັນທີ\",\n                    duration: \"date\"\n                },\n                {\n                    name: \"Merge\",\n                    duration: \"merge\"\n                },\n            ],\n            collectionType: \"home\",\n        };\n    },\n    methods: {\n        fetchData() {\n            const data = new FormData();\n            data.append(\"page\", this.pagination.current_page);\n            data.append(\"per_page\", this.per_page);\n            data.append(\"duration\", this.selectedDuration);\n            if ((this.year_from !== \"\" && this.year_to !== \"\") && (this.selectedDuration == 'year')) {\n                data.append(\"year_from\", this.moment(this.year_from).format(\"YYYY\"));\n                data.append(\"year_to\", this.moment(this.year_to).format(\"YYYY\"));\n            }\n            if ((this.month_from !== \"\" && this.month_to !== \"\") && (this.selectedDuration == 'month')) {\n                data.append(\"month_from\", this.moment(this.month_from).format(\"YYYY-MM\"));\n                data.append(\"month_to\", this.moment(this.month_to).format(\"YYYY-MM\"));\n            }\n            if ((this.date_from !== \"\" && this.date_to !== \"\") && (this.selectedDuration == 'date')) {\n                data.append(\"date_from\", this.moment(this.date_from).format(\"YYYY-MM-DD\"));\n                data.append(\"date_to\", this.moment(this.date_to).format(\"YYYY-MM-DD\"));\n            }\n            this.$store.commit(\"Loading_State\", true);\n            this.$axios\n                .post(\"report-event-collection\", data\n                    // {\n                    //     page: this.pagination.current_page,\n                    //     per_page: this.per_page,\n                    //     filter: this.search,\n                    //     duration: this.selectedDuration,\n                    //     type: this.collectionType,\n                    //     year_from: this.moment(this.year_from).format(\"YYYY\"),\n                    //     year_to: this.moment(this.year_to).format(\"YYYY\"),\n                    //     // month_from: month_from,\n                    //     // month_to: month_to,\n                    //     date_from: this.date_from,\n                    //     date_to: this.date_to,\n                    // }\n                )\n                .then((res) => {\n                    if (res.data.code == 200) {\n                        setTimeout(() => {\n                            this.$store.commit(\"Loading_State\", false);\n                            this.homeCollection = res.data.data.details.data;\n                            this.collections = res.data.data.details.data;\n                            this.summary = res.data.data.summary;\n                            this.pagination = res.data.data.details.pagination;\n                        }, 300);\n                    }\n                })\n                .catch((error) => {\n                    this.$store.commit(\"Loading_State\", false);\n                    this.$store.commit(\"Toast_State\", {\n                        value: true,\n                        color: \"error\",\n                        msg: error.response.data.message,\n                    });\n                });\n        },\n\n        exportData() {\n            let data = new FormData();\n            data.set(\"type\", this.collectionType);\n            data.append(\"duration\", this.selectedDuration);\n            data.append(\"download\", 1)\n            if ((this.year_from !== \"\" && this.year_to !== \"\") && (this.selectedDuration == 'year')) {\n                data.append(\"year_from\", this.moment(this.year_from).format(\"YYYY\"));\n                data.append(\"year_to\", this.moment(this.year_to).format(\"YYYY\"));\n            }\n            if ((this.month_from !== \"\" && this.month_to !== \"\") && (this.selectedDuration == 'month')) {\n                data.append(\"month_from\", this.moment(this.month_from).format(\"YYYY-MM\"));\n                data.append(\"month_to\", this.moment(this.month_to).format(\"YYYY-MM\"));\n            }\n            if ((this.date_from !== \"\" && this.date_to !== \"\") && (this.selectedDuration == 'date')) {\n                data.append(\"date_from\", this.moment(this.date_from).format(\"YYYY-MM-DD\"));\n                data.append(\"date_to\", this.moment(this.date_to).format(\"YYYY-MM-DD\"));\n            }\n            this.loading = true;\n            this.$axios\n                .post(\n                    \"report-collection\",\n                    data\n                )\n                .then((res) => {\n                    if (res.status == 200) {\n                        window.open(res.data.data.download_link)\n                        this.loading = false;\n                    }\n                })\n                .catch((error) => {\n                    this.loading = false;\n                    this.$store.commit(\"Toast_State\", {\n                        value: true,\n                        color: \"error\",\n                        msg: error.response.data.message,\n                    });\n                });\n        },\n        viewPage(id) {\n            this.$router.push({\n                name: \"InvoiceDetail\",\n                params: { id },\n            });\n        },\n        Search() {\n            GetOldValueOnInput(this);\n        },\n    },\n    watch: {\n        selectedDuration: function () {\n            this.fetchData();\n        },\n        search: function (value) {\n            if (value == \"\") {\n                this.fetchData();\n            }\n        },\n        tab: function () {\n            // if (value == \"tab-1\") {\n            //     this.collectionType = \"home\";\n            //     this.fetchData();\n            //     this.$router\n            //         .push({ name: \"Report-Trash\", query: { tab: \"home\" } })\n            //         .catch(() => { });\n            // } else if (value == \"tab-2\") {\n            //     this.collectionType = \"company\";\n            //     this.fetchData();\n            //     this.$router\n            //         .push({\n            //             name: \"Report-Trash\",\n            //             query: { tab: \"company\" },\n            //         })\n            //         .catch(() => { });\n            // }\n        },\n    },\n\n    created() {\n        if (this.$route.query.tab == \"home\") {\n            this.tab = \"tab-1\";\n            this.collectionType = \"home\";\n            this.fetchData();\n        } else if (this.$route.query.tab == \"company\") {\n            this.tab = \"tab-2\";\n            this.collectionType = \"company\";\n            this.fetchData();\n        }\n        this.pagination = [];\n        this.fetchData();\n    },\n};","<template>\n  <v-container>\n      <v-breadcrumbs large class=\"pt-0\"\n      >ລາຍງານຂໍ້ມູນການເກັບຂີ້ເຫື້ອຍພິເສດ</v-breadcrumbs\n      >\n      <v-row class=\"mb-n6\">\n        <v-col>\n          <v-btn\n              class=\"btn-primary\"\n              :loading=\"loading\"\n              :disabled=\"loading\"\n              @click=\"exportData()\"\n          >Export\n          </v-btn>\n        </v-col>\n        <v-col>\n          <v-select\n              outlined\n              dense\n              :items=\"duration\"\n              v-model=\"selectedDuration\"\n              item-text=\"name\"\n              item-value=\"duration\"\n              label=\"ຊ່ວງເວລາ\"\n          ></v-select>\n        </v-col>\n        <v-col v-if=\"selectedDuration == 'year'\">\n          <section>\n            <date-picker\n                style=\"height: 40px\"\n                v-model=\"year_from\"\n                type=\"year\"\n                format=\"YYYY\"\n                placeholder=\"ເລີ່ມປີ\"\n                @input=\"fetchData()\"\n            ></date-picker>\n          </section>\n        </v-col>\n        <v-col v-if=\"selectedDuration == 'year'\">\n          <section>\n            <date-picker\n                v-model=\"year_to\"\n                type=\"year\"\n                format=\"YYYY\"\n                placeholder=\"ຫາປີ\"\n                @input=\"fetchData()\"\n            ></date-picker>\n          </section>\n        </v-col>\n        <v-col v-if=\"selectedDuration == 'month'\">\n          <section>\n            <date-picker\n                v-model=\"month_from\"\n                type=\"month\"\n                placeholder=\"ເລີ່ມເດືອນ\"\n                @input=\"fetchData()\"\n            ></date-picker>\n          </section>\n        </v-col>\n        <v-col v-if=\"selectedDuration == 'month'\">\n          <section>\n            <date-picker\n                v-model=\"month_to\"\n                type=\"month\"\n                placeholder=\"ຫາເດືອນ\"\n                @input=\"fetchData()\"\n            ></date-picker>\n          </section>\n        </v-col>\n\n        <v-col v-if=\"selectedDuration == 'merge' || selectedDuration == 'date'\">\n          <section>\n            <date-picker\n                style=\"height: 40px\"\n                v-model=\"date_from\"\n                type=\"date\"\n                placeholder=\"ເລີ່ມວັນທີ\"\n                @input=\"fetchData()\"\n            ></date-picker>\n          </section>\n        </v-col>\n        <v-col v-if=\"selectedDuration == 'merge' || selectedDuration == 'date'\">\n          <section>\n            <date-picker\n                style=\"height: 40px\"\n                v-model=\"date_to\"\n                type=\"date\"\n                placeholder=\"ຫາວັນທີ\"\n                @input=\"fetchData()\"\n            ></date-picker>\n          </section>\n        </v-col>\n      </v-row>\n\n    <div>\n      <div v-if=\"summary\">\n        <v-row v-for=\"(sum, index) in summary\" :key=\"index\" class=\"mb-n6 mt-0\">\n          <v-col>\n            <p v-if=\"selectedDuration =='year'\">{{ sum.year }}</p>\n            <p v-if=\"selectedDuration =='month'\">{{ sum.month }}</p>\n            <p v-if=\"selectedDuration =='date'\">{{ moment(sum.date).format(\"DD-MM-YY\") }}</p>\n          </v-col>\n          <v-col>\n            <p>\n              ຈຳນວນອະນຸມັດ\n              <span class=\"success--text\">{{ sum.approved_count }}</span>\n            </p>\n          </v-col>  <v-col>\n            <p>\n              ຈຳນວນເກັບສຳເລັດ\n              <span class=\"success--text\">{{ sum.collect_confirm_count }}</span>\n            </p>\n          </v-col>\n          <v-col>\n            <p>\n              ຈຳນວນຄັ້ງທີ່ລົງເກັບ\n              <span class=\"success--text\">{{\n                sum.number_of_times_to_collect\n              }}</span>\n            </p>\n          </v-col>\n          <v-col>\n            <p>\n              ຈຳນວນເກັບສຳເລັດ\n              <span class=\"success--text\">{{\n                sum.rejected_count\n              }}</span>\n            </p>\n          </v-col>\n          <v-col>\n            <p>\n              ຈຳນວນລໍຖ້າເກັບ\n              <span class=\"success--text\">{{\n                sum.collected_count\n              }}</span>\n            </p>\n          </v-col>\n        </v-row>\n      </div>\n       <v-card>\n         <v-card-text>\n           <v-data-table\n               v-if=\"homeCollection\"\n               :headers=\"headers\"\n               :items=\"homeCollection\"\n               :search=\"search\"\n               :disable-pagination=\"true\"\n               hide-default-footer\n           >\n             <!--        <template v-slot:item.status=\"{ item }\">-->\n             <!--          <div>-->\n             <!--            <span class=\"success&#45;&#45;text\">{{ item.status }}</span>-->\n             <!--          </div>-->\n             <!--        </template>-->\n             <template v-slot:item.status=\"{ item }\">\n               <div>{{item.collect_status}}</div>\n             </template>\n           </v-data-table\n           >\n         </v-card-text>\n       </v-card>\n\n      <br />\n      <template>\n        <Pagination\n          v-if=\"pagination.total_pages > 1\"\n          :pagination=\"pagination\"\n          :offset=\"offset\"\n          @paginate=\"fetchData()\"\n        ></Pagination>\n      </template>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport { GetOldValueOnInput } from \"@/Helpers/GetValue\";\nimport colleciton from \"@views/report/TabCollectionTab/collectionEvent\";\nexport default {\n  mixins: [colleciton],\n  name: \"HomeInvoice\",\n  // props: [\"tab\"],\n  title() {\n    return `Vientiane Waste Co-Dev|Report Invoice`;\n  },\n  data() {\n    return {\n      customers: [],\n      loading: false,\n      customerId: \"\",\n      //Pagination\n      offset: 12,\n      pagination: {},\n      per_page: 15,\n      search: \"\",\n      oldVal: \"\",\n      headers: [\n        { text: \"ວັນທີ\", value: \"date\", sortable: false },\n        { text: \"ລູກຄ້າ\", value: \"full_name\" },\n        { text: \"ຈຳນວນຖົງ\", value: \"bag\", sortable: false, align: \"center\" },\n        { text: \"ສະຖານທີ່\", value: \"name\", sortable: false },\n        { text: \"ສະຖານະ\", value: \"status\", sortable: false },\n        // { text: \"\", value: \"actions\", sortable: false },\n      ],\n    };\n  },\n  methods: {\n    Search() {\n      GetOldValueOnInput(this);\n    },\n    statusColor(value) {\n      if (value == \"success\") return \"success\";\n      else if (value == \"pending\") return \"primary\";\n      else return \"info\";\n    },\n  },\n  watch: {\n    tab: function () {\n      if (this.tab == \"tab-1\") {\n        // this.fetchData();\n      }\n    },\n  },\n  created() {\n    this.pagination = [];\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../public/scss/main.scss\";\n.mx-input {\n  height: 40px !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./homeCollectionEvent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./homeCollectionEvent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./homeCollectionEvent.vue?vue&type=template&id=7363f3d0&\"\nimport script from \"./homeCollectionEvent.vue?vue&type=script&lang=js&\"\nexport * from \"./homeCollectionEvent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./homeCollectionEvent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBreadcrumbs } from 'vuetify/lib/components/VBreadcrumbs';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBreadcrumbs,VBtn,VCard,VCardText,VCol,VContainer,VDataTable,VRow,VSelect})\n","export const GetOldValueOnInput = (context) => {\n    if (context.search !== '') {\n        if (context.oldVal !== '') {\n            if (context.oldVal !== context.search) {\n                context.oldVal = context.search;\n                context.pagination.current_page = 1;\n                context.fetchData();\n            }\n        } else {\n            if (context.search !== '') {\n                context.pagination.current_page = 1;\n                context.fetchData();\n            }\n            context.oldVal = context.search;\n        }\n    } else {\n        context.oldVal = '';\n    }\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./homeCollectionEvent.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}